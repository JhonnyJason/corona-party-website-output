<!doctype html><html lang="en"><head><meta charset="utf-8"><title>Corona Party!</title><meta name="description" content="Website to ridicule the authoritarianistic response to the novel corona virus. Especially the delusions about control turning to thought control and the disturbing lack of sensitivity and reason therein - At least you may do party at home! Cheers! Enjoy!"><meta property="og:image" content="https://corona-party.weblenny.at/android-chrome-512x512.png"><meta property="og:title" content="Corona Party!"><meta property="og:description" content="Website to ridicule the authoritarianistic response to the novel corona virus. Especially the delusions about control turning to thought control and the disturbing lack of sensitivity and reason therein - At least you may do party at home! Cheers! Enjoy!"><meta property="og:type" content="website"><meta property="og:url" content="https://corona-party.weblenny.at"><meta property="og:locale" content="en_US"><link rel="manifest" href="manifest.json"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><meta name="viewport" content="width=device-width,initial-scale=1"><style>a,abbr,acronym,address,article,aside,b,big,blockquote,body,caption,cite,code,dd,del,dfn,div,dl,dt,em,fieldset,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,nav,object,ol,p,pre,q,samp,section,small,span,strike,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,tt,ul,var{margin:0;padding:0;border:0;outline:0;font-size:100%;font:inherit;vertical-align:baseline}body{line-height:1;background-color:#fff;color:#000;font-family:Arial,Helvetica,sans-serif;text-align:center;font-size:12pt;height:100vh;width:100%;overflow:hidden;transition:background .5s}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:'';content:none}a:hover,ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}a{transition:.2s ease-in-out;color:inherit;text-decoration:none}ul{margin:0}b,strong{font-weight:700}i{font-style:italic}button,button:hover,input:focus,input[type=checkcbox]:focus,input[type=submit]:hover,select:focus,textarea:focus{background:0 0;border:0;padding:0;outline:0;line-height:normal;overflow:visible}h1{font-size:17pt}h2{font-size:15pt}p{font-size:12pt}#authoritysymbol{position:absolute;bottom:0;right:-60px;height:30vh}#background{position:absolute;top:0;left:0;width:100%;height:100vh;transition:background .4s;z-index:-1}#background.muladhara{background-color:#901}#background.svadhistana{background-color:#f93822}#background.manipura{background-color:#fcf951}#background.anahata{background-color:#2bae66}#background.vissudha{background-color:#00539c}#background.ajna{background-color:#603f83}#background.sahasrara{background-color:#fad0c9}.click-button{cursor:pointer;position:relative;top:0;left:0;display:inline-block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.click-button::after{content:"";width:100%;height:100%;position:absolute;top:0;left:0;border-radius:12px;display:inline-block;transform:scaleX(1.2) scaleY(1.2);opacity:0;transition:opacity .3s,transform .3s;background:#fff}.click-button:active::after{transform:scaleX(0) scaleY(0);opacity:.8;transition:opacity,transform}.click-button:disabled{color:#888;background-color:#eee;filter:grayscale(100%)}.click-button:disabled::after{display:none}#chat{background-color:rgba(0,0,0,.2);text-align:right;font-family:monospace;width:512px;max-width:512px;min-width:512px;padding:1em}#chat>*{margin:.5em 0}#chat .inactive{color:grey}#chat #chat-messages{min-height:256px;max-height:256px;height:512px;overflow-y:scroll;text-align:left}#chat #chat-present .present{font-size:.75em}#chat #chat-present .present .seen{font-size:.85em;color:#404040}#chat input{width:512px;max-width:512px;min-width:512px;font-family:monospace;border:none;background:rgba(175,175,175,.376)}#dancingvirus{background-color:rgba(0,0,0,.2)}#messagebox{padding:12px;box-sizing:border-box;width:80%;background-color:element-background;border-radius:10px 10px 0 0;position:fixed;bottom:0;left:10%;transition:.5s;z-index:555;word-wrap:break-word}#messagebox.gone{transform:translateY(50px);opacity:0}#messagebox.error{background-color:red;color:#000;font-weight:700}#micbutton{position:absolute;z-index:5;top:20px;left:20px;width:40px;height:40px;box-sizing:border-box;border:5px solid transparent;background-color:#901;cursor:pointer}#micbutton.on{border:5px solid rgba(0,83,156,.9)}#peertopeer{width:100%;background-color:rgba(0,0,0,.2);font-style:monospace}#piano{border:5px solid transparent;box-sizing:border-box;width:90%;height:100px;background-color:rgba(252,249,81,.5);margin-top:20px;margin-left:auto;margin-right:auto;cursor:pointer}#piano:focus{border:5px solid rgba(0,83,156,.9)}#qrdisplay-background{position:absolute;top:0;left:0;z-index:299;height:100vh;width:100%;transform:translateY(-102%);background-color:element-background}#qrdisplay-content{padding:10px;background-color:#fff;word-break:break-all}#qrdisplay-qr{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:40px;background-color:#fff}#qrdisplay-background.active{transform:translateY(0)}#qrreader-background{position:absolute;top:0;left:0;z-index:299;height:100vh;width:100%;transform:translateY(-102%);background-color:element-background}#qrreader-background video{position:absolute;width:100%;height:100vh;top:0;left:0}#qrreader-background.active{transform:translateY(0)}#svgicon-symbols{display:none}#svgicon-definitions{position:absolute;height:0;width:0;bottom:0;right:0}#systemsoundbutton{position:absolute;z-index:5;top:20px;right:20px;width:40px;height:40px;box-sizing:border-box;border:5px solid transparent;background-color:#2bae66;cursor:pointer}#systemsoundbutton.on{border:5px solid rgba(0,83,156,.9)}#visuals-canvas{width:100%;height:66vh}#cute-virus{animation:1.5s infinite red-pulse}@keyframes red-pulse{0%,100%{color:#000}50%{color:#902}}#intermediate-layer{z-index:1;width:100%;position:absolute;top:0;left:0}</style></head><body><svg id="svgicon-definitions"><defs><filter id="svg-dropshadow-filter" height="130%" width="130%"><fegaussianblur in="SourceGraphic" stddeviation="3" result="blurOut"></fegaussianblur><feColorMatrix in="blurOut" type="saturate" values="0.25" result="shadowOut"></feColorMatrix><feblend in="SourceGraphic" in2="shadowOut" mode="normal"></feblend></filter></defs></svg> <svg id="svgicon-symbols"><symbol id="svg-settings-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M17.25,12C17.25,12.23 17.23,12.46 17.2,12.68L18.68,13.84C18.81,13.95 18.85,14.13 18.76,14.29L17.36,16.71C17.27,16.86 17.09,16.92 16.93,16.86L15.19,16.16C14.83,16.44 14.43,16.67 14,16.85L13.75,18.7C13.72,18.87 13.57,19 13.4,19H10.6C10.43,19 10.28,18.87 10.25,18.7L10,16.85C9.56,16.67 9.17,16.44 8.81,16.16L7.07,16.86C6.91,16.92 6.73,16.86 6.64,16.71L5.24,14.29C5.15,14.13 5.19,13.95 5.32,13.84L6.8,12.68C6.77,12.46 6.75,12.23 6.75,12C6.75,11.77 6.77,11.54 6.8,11.32L5.32,10.16C5.19,10.05 5.15,9.86 5.24,9.71L6.64,7.29C6.73,7.13 6.91,7.07 7.07,7.13L8.81,7.84C9.17,7.56 9.56,7.32 10,7.15L10.25,5.29C10.28,5.13 10.43,5 10.6,5H13.4C13.57,5 13.72,5.13 13.75,5.29L14,7.15C14.43,7.32 14.83,7.56 15.19,7.84L16.93,7.13C17.09,7.07 17.27,7.13 17.36,7.29L18.76,9.71C18.85,9.86 18.81,10.05 18.68,10.16L17.2,11.32C17.23,11.54 17.25,11.77 17.25,12M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M12,10C10.89,10 10,10.89 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12C14,10.89 13.1,10 12,10Z"></path></symbol><symbol id="svg-microphone-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M12,2A3,3 0 0,1 15,5V11A3,3 0 0,1 12,14A3,3 0 0,1 9,11V5A3,3 0 0,1 12,2M19,11C19,14.53 16.39,17.44 13,17.93V21H11V17.93C7.61,17.44 5,14.53 5,11H7A5,5 0 0,0 12,16A5,5 0 0,0 17,11H19Z"></path></symbol><symbol id="svg-microphone-off-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M19,11C19,12.19 18.66,13.3 18.1,14.28L16.87,13.05C17.14,12.43 17.3,11.74 17.3,11H19M15,11.16L9,5.18V5A3,3 0 0,1 12,2A3,3 0 0,1 15,5V11L15,11.16M4.27,3L21,19.73L19.73,21L15.54,16.81C14.77,17.27 13.91,17.58 13,17.72V21H11V17.72C7.72,17.23 5,14.41 5,11H6.7C6.7,14 9.24,16.1 12,16.1C12.81,16.1 13.6,15.91 14.31,15.58L12.65,13.92L12,14A3,3 0 0,1 9,11V10.28L3,4.27L4.27,3Z"></path></symbol><symbol id="svg-cast-audio-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M14.5 12C14.5 10.62 13.38 9.5 12 9.5C10.62 9.5 9.5 10.62 9.5 12C9.5 13 10.09 13.84 10.93 14.25L9.82 15.35C8.73 14.64 8 13.41 8 12C8 9.79 9.79 8 12 8C14.21 8 16 9.79 16 12C16 13.41 15.27 14.64 14.18 15.35L13.08 14.25C13.92 13.84 14.5 13 14.5 12M12 2C6.5 2 2 6.5 2 12C2 15.06 3.38 17.8 5.54 19.63L6.61 18.57C4.71 17 3.5 14.64 3.5 12C3.5 7.31 7.31 3.5 12 3.5C16.69 3.5 20.5 7.31 20.5 12C20.5 14.64 19.29 17 17.39 18.57L18.46 19.63C20.62 17.79 22 15.06 22 12C22 6.5 17.5 2 12 2M19 12C19 8.13 15.87 5 12 5C8.13 5 5 8.13 5 12C5 14.23 6.05 16.22 7.68 17.5L8.75 16.43C7.39 15.42 6.5 13.82 6.5 12C6.5 8.97 8.97 6.5 12 6.5C15.03 6.5 17.5 8.97 17.5 12C17.5 13.82 16.61 15.42 15.25 16.43L16.33 17.5C17.95 16.22 19 14.23 19 12M6 22H18L12 16L6 22Z"></path></symbol><symbol id="svg-gitub-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z"></path></symbol><symbol id="svg-cross-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M19,3H16.3H7.7H5A2,2 0 0,0 3,5V7.7V16.4V19A2,2 0 0,0 5,21H7.7H16.4H19A2,2 0 0,0 21,19V16.3V7.7V5A2,2 0 0,0 19,3M15.6,17L12,13.4L8.4,17L7,15.6L10.6,12L7,8.4L8.4,7L12,10.6L15.6,7L17,8.4L13.4,12L17,15.6L15.6,17Z"></path></symbol><symbol id="svg-check-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"></path></symbol><symbol id="svg-add-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"></path></symbol><symbol id="svg-copy-icon" preserveAspectRatio="xMidYMid meet" viewBox="-21 0 512 512"><path fill="currentColor" d="m325.332031 512h-266.664062c-32.363281 0-58.667969-26.304688-58.667969-58.667969v-288c0-32.363281 26.304688-58.664062 58.667969-58.664062h10.664062c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16h-10.664062c-14.699219 0-26.667969 11.964843-26.667969 26.664062v288c0 14.699219 11.96875 26.667969 26.667969 26.667969h266.664062c14.699219 0 26.667969-11.96875 26.667969-26.667969v-10.664062c0-8.832031 7.167969-16 16-16s16 7.167969 16 16v10.664062c0 32.363281-26.304688 58.667969-58.667969 58.667969zm0 0"></path><path fill="currentColor" d="m410.667969 384h-224c-32.363281 0-58.667969-26.304688-58.667969-58.667969v-266.664062c0-32.363281 26.304688-58.667969 58.667969-58.667969h224c32.363281 0 58.664062 26.304688 58.664062 58.667969v266.664062c0 32.363281-26.300781 58.667969-58.664062 58.667969zm-224-352c-14.699219 0-26.667969 11.96875-26.667969 26.667969v266.664062c0 14.699219 11.96875 26.667969 26.667969 26.667969h224c14.699219 0 26.664062-11.96875 26.664062-26.667969v-266.664062c0-14.699219-11.964843-26.667969-26.664062-26.667969zm0 0"></path></symbol><symbol id="svg-trash-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M9,8H11V17H9V8M13,8H15V17H13V8Z"></path></symbol><symbol id="svg-cute-virus-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 160 162"><path fill-rule="evenodd" clip-rule="evenodd" d="M75.8715 0.000614237C75.2279 0.0128557 74.6294 0.225336 74.0862 0.768604C71.9133 2.94169 70.5699 5.94365 70.5699 9.25919C70.5699 12.6001 71.9322 15.6208 74.1334 17.797C77.0356 20.6685 78.5028 24.1821 78.5028 28.2667V30.423C71.4308 30.8575 64.717 32.6452 58.6162 35.5344C58.6004 34.1263 58.7955 32.694 59.207 31.2418C60.0525 28.2642 59.7532 24.9627 58.1093 22.0541C56.4779 19.1677 53.831 17.216 50.87 16.3934C47.909 15.5708 46.879 19.7467 43.9922 21.3783C41.1051 23.0101 36.9077 21.7883 36.0853 24.7492C35.2629 27.7102 35.5705 30.9844 37.2019 33.8708C38.8458 36.7793 41.5179 38.7402 44.505 39.5517C46.1082 39.9879 47.5538 40.6373 48.8436 41.4894C48.7312 41.5751 48.6222 41.6651 48.5104 41.7517C46.701 40.9826 44.7521 40.6826 42.8402 40.8383C39.7772 41.0879 40.2523 45.3624 38.1057 47.8898C35.9589 50.4175 31.5974 50.7193 31.8471 53.7822C32.0042 55.7094 32.6251 57.5984 33.6927 59.2693C33.2842 60.0323 32.8921 60.8047 32.5194 61.5887L30.421 60.7533C26.626 59.2424 23.9054 56.5793 22.3109 52.8216C21.1033 49.9715 18.8005 47.5873 15.6966 46.3514C12.6162 45.1249 9.32928 45.2629 6.5065 46.4779C3.68372 47.6929 5.50001 51.5912 4.27337 54.6719C3.04661 57.753 -0.989743 59.4324 0.2254 62.255C1.44056 65.0777 3.73217 67.4373 6.81251 68.6638C9.91646 69.8996 13.2279 69.7514 16.064 68.5113C19.8054 66.8772 23.612 66.8137 27.4069 68.3246L29.5856 69.1919C28.0797 74.1769 27.2603 79.4555 27.2603 84.9206C27.2603 86.3848 27.3365 87.8307 27.4506 89.2663C25.6295 88.7336 23.919 87.822 22.3298 86.5358C19.9247 84.5872 16.7723 83.5656 13.4516 83.9329C10.1562 84.2973 7.31925 85.9626 5.3982 88.3613C3.47719 90.76 6.91233 93.3492 7.27687 96.6451C7.64147 99.9413 4.86744 103.32 7.2662 105.241C9.66502 107.162 12.7957 108.167 16.0912 107.802C19.4118 107.435 22.2661 105.749 24.1871 103.322C25.6065 101.53 27.2749 100.164 29.1815 99.2291C30.4069 103.725 32.1959 107.99 34.4654 111.95C34.9121 112.78 35.3849 113.592 35.8726 114.395L33.1598 116.372C29.858 118.777 26.1534 119.658 22.1241 119.003C19.0691 118.505 15.8238 119.182 13.1231 121.149C10.443 123.101 8.80811 125.955 8.33078 128.991C7.85348 132.027 12.1197 132.57 14.0719 135.251C16.0243 137.932 15.2932 142.241 18.329 142.718C21.3648 143.195 24.5826 142.514 27.2627 140.562C29.9633 138.595 31.6036 135.716 32.0668 132.655C32.6794 128.619 34.6551 125.364 37.9568 122.959L40.6059 121.03C40.9974 121.5 41.396 121.963 41.8028 122.419C40.6011 124.729 40.2169 127.303 40.5929 129.763C41.0572 132.801 45.2877 132.027 47.9598 133.99C48.2557 134.208 48.5237 134.457 48.7751 134.723C46.3983 135.815 44.3585 137.684 43.0836 140.199C41.5844 143.157 41.4261 146.443 42.3817 149.363C43.3374 152.284 47.3841 150.827 50.3418 152.327C53.2998 153.826 54.6085 157.997 57.5291 157.041C60.4498 156.085 63.0059 154.015 64.505 151.058C66.0155 148.078 66.1662 144.767 65.1867 141.831C64.7138 140.411 64.4546 139.001 64.4034 137.606C67.8437 138.82 71.4404 139.701 75.1578 140.206C74.4752 141.19 73.6551 142.104 72.699 142.949C70.3778 144.996 68.8454 147.936 68.6557 151.271C68.4675 154.582 69.6391 157.655 71.6852 159.948C73.7314 162.241 76.8558 159.284 80.1664 159.473C83.4773 159.661 86.3477 162.958 88.6404 160.912C90.9331 158.865 92.4446 155.945 92.6329 152.635C92.8224 149.299 91.6338 146.205 89.5596 143.907C88.5977 142.84 87.822 141.704 87.2249 140.502C92.5249 140.055 97.6071 138.852 102.368 137C102.678 139.04 102.528 141.134 101.912 143.269C101.051 146.242 101.334 149.546 102.963 152.462C104.58 155.357 107.216 157.322 110.173 158.16C113.13 158.998 114.18 154.827 117.075 153.21C119.971 151.593 124.163 152.836 125 149.88C125.838 146.923 125.546 143.647 123.93 140.752C122.301 137.835 119.639 135.861 116.656 135.035C116.241 134.919 115.838 134.787 115.444 134.644C116.788 133.362 117.404 130.707 119.215 129.152C121.732 126.992 126.087 127.376 126.32 124.312C126.441 122.718 126.243 121.1 125.723 119.56C125.752 119.523 125.782 119.485 125.811 119.448L127.787 120.77C131.183 123.04 133.288 126.213 134.063 130.221C134.648 133.261 136.404 136.073 139.181 137.929C141.937 139.772 145.18 140.323 148.194 139.724C151.208 139.126 150.246 134.933 152.089 132.177C153.933 129.42 158.231 128.621 157.632 125.607C157.033 122.593 155.284 119.808 152.528 117.965C149.75 116.108 146.481 115.56 143.449 116.181C139.449 116.998 135.712 116.265 132.316 113.995L130.301 112.648C134.682 104.788 137.189 95.7391 137.189 86.101C137.189 84.8303 137.13 83.5738 137.045 82.3248C138.978 82.8206 140.794 83.7327 142.481 85.0648C144.909 86.9842 148.075 87.9688 151.391 87.5614C154.682 87.1571 157.497 85.4566 159.389 83.0349C161.281 80.6131 157.815 78.0659 157.411 74.7747C157.007 71.4831 159.74 68.0718 157.318 66.1801C154.896 64.2885 151.753 63.3206 148.462 63.7249C145.146 64.1323 142.313 65.8532 140.422 68.3034C139.02 70.1172 137.362 71.5055 135.46 72.4636C133.987 66.7363 131.616 61.3702 128.493 56.5316L131.156 54.4805C134.392 51.9878 138.071 51.0065 142.116 51.5526C145.183 51.9683 148.409 51.2047 151.056 49.1659C153.682 47.1425 155.24 44.2451 155.635 41.1975C156.031 38.1499 151.751 37.7217 149.727 35.0949C147.704 32.4677 148.319 28.1397 145.272 27.7445C142.224 27.3493 139.026 28.1173 136.4 30.1406C133.753 32.1795 132.191 35.1021 131.811 38.174C131.307 42.2254 129.419 45.5318 126.183 48.0245L123.728 49.9162C121.593 47.3691 119.235 45.0156 116.677 42.8931C116.628 41.801 116.434 40.724 116.097 39.6922C115.307 37.2737 112.398 37.8501 109.742 37.2701C111.091 36.0961 112.672 35.178 114.486 34.5277C117.4 33.4845 119.911 31.3212 121.322 28.2927C122.722 25.2872 122.771 21.9983 121.719 19.1109C120.667 16.2235 116.671 17.8136 113.666 16.4135C110.659 15.0132 109.212 10.8889 106.325 11.9413C103.437 12.9937 100.952 15.1472 99.552 18.1527C98.1413 21.1812 98.1009 24.495 99.1774 27.3971C99.7868 29.0419 100.103 30.6826 100.132 32.3123C99.6524 32.5086 99.1851 32.7344 98.7332 32.9917C94.874 31.7328 90.8298 30.8959 86.6519 30.5306V28.2667C86.6519 24.1821 88.1199 20.6685 91.0212 17.797C93.2224 15.6208 94.5859 12.6001 94.5859 9.25919C94.5859 5.94365 93.2415 2.94169 91.0685 0.768604C88.8955 -1.40447 85.9446 1.72449 82.6287 1.72449C80.1414 1.72449 77.8022 -0.0361664 75.8714 0.000614237H75.8715Z" fill="currentColor"></path><path d="M104.122 74.9918C115.023 72.6246 121.941 61.8682 119.574 50.9669C117.207 40.0655 106.451 33.1473 95.5492 35.5145C84.6478 37.8818 77.7296 48.6381 80.0968 59.5394C82.4641 70.4408 93.2204 77.3591 104.122 74.9918Z" fill="white"></path><path d="M102.751 69.8578C110.046 68.2737 114.497 60.2532 112.692 51.9437C110.888 43.6341 103.511 38.182 96.2165 39.7661C88.9216 41.3502 84.4706 49.3706 86.275 57.6802C88.0795 65.9898 95.456 71.4419 102.751 69.8578Z" fill="currentColor"></path><path d="M100.68 51.7449C103.411 51.1517 105.145 48.4566 104.552 45.7251C103.958 42.9936 101.263 41.2601 98.5318 41.8532C95.8003 42.4464 94.0668 45.1415 94.6599 47.873C95.2531 50.6045 97.9482 52.338 100.68 51.7449Z" fill="white"></path><path d="M58.0378 84.999C68.9391 82.6318 75.8574 71.8754 73.4901 60.9741C71.1229 50.0727 60.3666 43.1545 49.4652 45.5217C38.5639 47.889 31.6456 58.6453 34.0128 69.5466C36.3801 80.448 47.1364 87.3663 58.0378 84.999Z" fill="white"></path><path d="M56.667 79.8649C63.962 78.2808 68.4129 70.2604 66.6085 61.9508C64.804 53.6412 57.4275 48.1891 50.1325 49.7732C42.8376 51.3574 38.3866 59.3778 40.1911 67.6874C41.9955 75.997 49.372 81.4491 56.667 79.8649Z" fill="currentColor"></path><path d="M54.5958 61.752C57.3273 61.1589 59.0607 58.4637 58.4676 55.7322C57.8744 53.0007 55.1793 51.2672 52.4478 51.8604C49.7163 52.4535 47.9828 55.1487 48.5759 57.8802C49.1691 60.6117 51.8643 62.3452 54.5958 61.752Z" fill="white"></path><path d="M52.4395 102.618C55.7783 125.052 78.8296 135.011 96.5352 131.948C120.083 124.898 118.948 93.8483 115.846 88.0055C110.546 94.192 98.3569 101.713 82.9806 104.037C73.0242 105.427 60.9918 103.933 52.4395 102.618Z" fill="white"></path></symbol><symbol id="svg-authority-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 187 258"><path d="M33.451 255.258C34.4388 252.602 36.3008 248.389 37.5951 245.892C42.2274 236.968 43.9532 233.845 45.0204 232.494C46.8597 230.155 56.2719 211.978 57.1916 208.992C57.6684 207.437 58.9287 204.882 60.0073 203.315C61.0746 201.76 62.2667 199.205 62.6527 197.638L63.3453 194.8L61.313 197.479C59.0309 200.466 55.8405 200.409 53.9104 197.355C52.9907 195.89 53.0134 194.845 53.9898 193.381C54.7165 192.291 56.9191 188.079 58.8719 184.014C64.1287 173.114 64.0492 173.205 67.3872 173.455C69.3627 173.603 70.271 173.194 69.9417 172.32C69.6579 171.57 68.2614 166.995 66.8309 162.158C65.4117 157.321 63.7994 153.359 63.2658 153.359C62.7322 153.359 62.3008 151.792 62.3008 149.873C62.3008 147.966 61.7785 145.434 61.1427 144.242C59.6553 141.449 58.8605 136.76 57.9409 125.327C56.9872 113.53 55.3295 111.657 38.0833 102.91C23.6414 95.5858 16.2729 89.3663 8.93841 78.2805C7.99605 76.8647 5.54367 73.9094 3.47731 71.7124C0.809194 68.874 -0.0877498 67.0495 0.40045 65.4077C0.77513 64.1373 1.84237 59.6287 2.76202 55.3893C4.27206 48.4647 7.84847 40.4705 14.1271 29.9445C15.3192 27.9451 18.203 25.2395 20.5305 23.9305C26.0711 20.815 26.2528 20.3995 24.7427 14.4002C23.5165 9.51128 23.596 9.148 26.8091 5.71464C29.534 2.80128 31.203 2.06169 35.7217 1.76196C38.7872 1.55917 43.7261 1.02941 46.6894 0.584796C53.0929 -0.375257 60.5182 2.02002 64.5942 6.3584C66.0474 7.90364 67.8981 9.16727 68.7042 9.16727C69.5103 9.16727 70.6684 10.1107 71.2929 11.2643C72.3715 13.2886 74.0177 14.021 91.2526 20.1565C112.813 27.8293 129.639 34.3225 130.934 35.4647C131.524 35.9881 133.068 36.4161 134.374 36.4161C135.668 36.4161 137.735 37.111 138.972 37.9591C140.198 38.8072 143.252 39.8744 145.75 40.3308C148.248 40.7873 150.803 41.5389 151.427 41.9999C152.052 42.4608 154.969 43.7256 157.899 44.8099C163.28 46.7956 165.142 49.2821 163.814 52.72C162.849 55.2462 157.445 55.1122 152.222 52.4305C144.377 48.4113 137.178 45.4991 135.089 45.4991C133.942 45.4991 131.694 44.4772 130.116 43.2283C128.527 41.9794 126.483 40.9576 125.563 40.9576C123.554 40.9576 113.233 36.9838 107.556 34.0273C105.286 32.8431 102.731 31.8724 101.88 31.8678C101.028 31.8652 98.8142 31.0674 96.9522 30.0955C91.3775 27.1935 79.8535 22.7917 77.8212 22.7917C76.7767 22.7917 75.9251 23.5433 75.9251 24.4607C75.9251 25.3781 74.9033 27.9485 73.6544 30.1716C72.4055 32.3958 71.3837 35.4772 71.3837 37.019C71.3837 40.29 68.0116 40.9008 65.6501 38.0567C64.4352 36.583 64.7872 34.9538 67.7959 28.1847C70.3505 22.434 71.0431 19.7296 70.1802 18.8804C69.3173 18.0379 68.5453 18.2502 67.5462 19.5945C66.7741 20.6458 64.7645 21.8505 63.0841 22.2728C61.1653 22.7531 60.03 23.809 60.03 25.1044C60.03 28.9375 57.1575 30.5213 51.3785 29.8696C46.451 29.3144 46.1104 29.4359 46.9732 31.4228C47.4955 32.6081 47.961 35.1104 48.0178 36.9838C48.0859 39.8154 47.6999 40.3479 45.6676 40.1401C43.4423 39.9119 43.2379 40.3933 43.3968 45.482C43.5218 49.491 43.0335 51.4915 41.6824 52.5452C40.6492 53.3535 39.4685 55.6402 39.0597 57.6259C38.1969 61.7632 39.5025 62.8384 46.9732 64.1849C49.4711 64.6357 52.1278 65.5133 52.8885 66.1355C53.6379 66.7577 54.7846 66.9359 55.4431 66.5306C57.0099 65.561 64.5488 68.2416 67.3418 70.761C68.5453 71.8544 69.8963 72.7479 70.3391 72.7479C71.5994 72.7479 72.8142 66.601 71.6334 66.2082C71.0431 66.0129 69.6466 65.1818 68.5226 64.3586C66.6606 62.9951 66.6378 62.6442 68.2274 60.3746C69.8736 58.0222 69.726 57.652 65.5592 53.5738C60.6885 48.7916 60.0073 46.0213 63.4361 44.9314C64.685 44.5351 65.7068 43.8062 65.7068 43.3101C65.7068 40.4784 89.7312 40.0765 96.9976 42.7878C99.5295 43.7336 102.084 44.375 102.674 44.2138C103.265 44.0515 106.648 44.7906 110.191 45.8544C117.775 48.1286 119.864 51.4121 115.811 54.6944C112.915 57.0355 112.688 61.0037 115.277 63.8648C116.719 65.4611 116.889 66.5386 116.015 68.496C114.528 71.8146 115.3 73.8832 118.047 73.8832C119.251 73.8832 121.124 74.3681 122.203 74.9607C123.293 75.5534 127.335 77.3961 131.195 79.0549C135.225 80.7886 139.812 83.8461 141.981 86.2486C144.059 88.5454 147.283 91.0693 149.156 91.8573C153.38 93.633 157.297 97.0187 161.509 102.551C163.292 104.89 165.279 106.809 165.937 106.809C166.584 106.809 169.82 108.853 173.135 111.35C176.439 113.848 179.482 115.892 179.879 115.892C180.288 115.892 181.628 117.175 182.854 118.73C184.08 120.297 185.761 121.569 186.578 121.569C188.872 121.569 189.224 124.68 190.064 151.656L190.847 176.634L186.419 172.376C183.978 170.038 181.492 168.119 180.901 168.119C180.3 168.108 177.121 166.064 173.828 163.577C170.535 161.08 167.572 159.036 167.254 159.036C166.176 159.036 159.477 153.961 157.524 151.656C156.468 150.407 155.287 149.703 154.901 150.078C154.515 150.464 153.982 154.46 153.698 158.979C153.425 163.487 152.415 168.743 151.461 170.662C147.942 177.724 150.485 179.336 157.138 174.261C159.261 172.638 161.623 171.525 162.395 171.775C163.837 172.263 166.948 183.923 166.017 185.422C165.721 185.899 164.529 186.285 163.371 186.285C157.501 186.285 156.445 188.748 159.329 195.651C160.238 197.831 160.726 199.886 160.408 200.204C160.079 200.522 160.658 204.95 161.691 210.037C163.042 216.701 163.224 219.687 162.349 220.754C161.441 221.833 162.452 226.363 166.153 237.91C168.923 246.539 171.5 255.054 171.898 256.836L172.613 260.084H144.161H115.72L113.983 256.734C113.04 254.895 112.257 252.567 112.257 251.568C112.257 250.569 111.258 247.856 110.043 245.551C108.828 243.235 107.568 240.453 107.239 239.363C105.899 234.844 103.867 237.74 96.4413 254.691L94.0797 260.084H62.8684H31.6685L33.451 255.258ZM149.361 179.257C148.997 178.36 148.736 178.621 148.68 179.949C148.623 181.142 148.895 181.811 149.27 181.437C149.656 181.062 149.69 180.074 149.361 179.257H149.361ZM46.3829 36.1323C46.3829 35.3523 45.9401 34.0319 45.4064 33.1997C44.6457 31.9916 44.3051 32.0677 43.7261 33.5755C42.6021 36.5138 42.8519 37.5515 44.7025 37.5515C45.6335 37.5515 46.3942 36.9135 46.3829 36.1323ZM34.3139 10.3856C36.6868 4.98916 36.6641 4.62585 33.9165 4.62585C32.4292 4.62585 31.6458 5.38314 31.6458 6.81823C31.6458 8.22269 30.7375 9.14005 29.1026 9.3728C26.5139 9.74295 25.2764 12.5348 26.4004 15.472C27.4563 18.2174 32.2021 15.1643 34.3139 10.3856Z" fill="currentColor"></path><path d="M114.541 127.735C120.98 127.735 126.2 122.514 126.2 116.075C126.2 109.635 120.98 104.415 114.541 104.415C108.101 104.415 102.881 109.635 102.881 116.075C102.881 122.514 108.101 127.735 114.541 127.735Z" fill="currentColor"></path><path d="M114.464 102.778C107.079 102.778 101.064 108.794 101.064 116.178C101.064 123.562 107.079 129.577 114.464 129.577C121.848 129.577 127.863 123.562 127.863 116.178C127.863 108.794 121.848 102.778 114.464 102.778ZM114.464 105.474C116.294 105.474 118.014 105.931 119.518 106.735L107.144 123.994C105.061 122.043 103.761 119.268 103.761 116.178C103.761 110.251 108.537 105.474 114.464 105.474V105.474ZM121.716 108.296C123.839 110.25 125.167 113.054 125.167 116.178C125.167 122.105 120.391 126.881 114.464 126.881C112.6 126.881 110.85 126.408 109.327 125.576L121.716 108.296Z" fill="white"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M113.417 106.636C113.346 106.637 113.28 106.661 113.221 106.721C112.981 106.96 112.834 107.29 112.834 107.655C112.834 108.023 112.984 108.356 113.226 108.595C113.545 108.911 113.707 109.298 113.707 109.748V109.985C112.928 110.033 112.189 110.23 111.518 110.548C111.516 110.393 111.537 110.235 111.583 110.075C111.676 109.748 111.643 109.384 111.462 109.064C111.282 108.746 110.991 108.531 110.665 108.441C110.339 108.35 110.225 108.81 109.908 108.99C109.59 109.169 109.128 109.035 109.037 109.361C108.947 109.687 108.98 110.047 109.16 110.365C109.341 110.685 109.635 110.901 109.964 110.99C110.141 111.038 110.3 111.11 110.442 111.204C110.429 111.213 110.417 111.223 110.405 111.233C110.206 111.148 109.991 111.115 109.781 111.132C109.444 111.159 109.496 111.63 109.26 111.908C109.023 112.187 108.543 112.22 108.571 112.557C108.588 112.769 108.656 112.977 108.774 113.161C108.729 113.245 108.686 113.33 108.645 113.416L108.414 113.324C107.996 113.158 107.696 112.865 107.521 112.451C107.388 112.137 107.134 111.875 106.793 111.739C106.453 111.604 106.092 111.619 105.781 111.753C105.47 111.887 105.67 112.316 105.535 112.655C105.4 112.994 104.955 113.179 105.089 113.49C105.223 113.801 105.475 114.06 105.814 114.195C106.156 114.331 106.521 114.315 106.833 114.179C107.245 113.999 107.664 113.992 108.082 114.158L108.322 114.253C108.156 114.802 108.066 115.383 108.066 115.985C108.066 116.146 108.074 116.305 108.087 116.463C107.886 116.405 107.698 116.304 107.523 116.163C107.258 115.948 106.911 115.836 106.545 115.876C106.183 115.916 105.87 116.1 105.659 116.364C105.447 116.628 105.825 116.913 105.866 117.276C105.906 117.639 105.6 118.011 105.864 118.222C106.128 118.434 106.473 118.544 106.836 118.504C107.202 118.464 107.516 118.278 107.727 118.011C107.883 117.814 108.067 117.663 108.277 117.56C108.412 118.055 108.609 118.525 108.859 118.961C108.908 119.052 108.96 119.142 109.014 119.23L108.715 119.448C108.352 119.712 107.944 119.809 107.5 119.737C107.164 119.682 106.807 119.757 106.509 119.973C106.214 120.188 106.034 120.503 105.982 120.837C105.929 121.171 106.399 121.231 106.614 121.526C106.829 121.821 106.748 122.296 107.082 122.348C107.417 122.401 107.771 122.326 108.066 122.111C108.363 121.894 108.544 121.577 108.595 121.24C108.662 120.796 108.88 120.438 109.243 120.173L109.535 119.96C109.578 120.012 109.622 120.063 109.667 120.113C109.534 120.368 109.492 120.651 109.533 120.922C109.584 121.256 110.05 121.171 110.344 121.387C110.377 121.411 110.406 121.439 110.434 121.468C110.173 121.588 109.948 121.794 109.808 122.071C109.643 122.396 109.625 122.758 109.73 123.08C109.836 123.401 110.281 123.241 110.607 123.406C110.932 123.571 111.076 124.03 111.398 123.925C111.719 123.82 112.001 123.592 112.166 123.266C112.332 122.938 112.349 122.574 112.241 122.25C112.189 122.094 112.16 121.939 112.155 121.785C112.533 121.919 112.929 122.016 113.339 122.072C113.264 122.18 113.173 122.28 113.068 122.373C112.812 122.599 112.644 122.922 112.623 123.29C112.602 123.654 112.731 123.992 112.956 124.245C113.182 124.497 113.526 124.172 113.89 124.193C114.255 124.213 114.571 124.576 114.823 124.351C115.075 124.126 115.242 123.804 115.263 123.44C115.283 123.073 115.153 122.732 114.924 122.479C114.818 122.362 114.733 122.236 114.667 122.104C115.251 122.055 115.81 121.922 116.334 121.718C116.368 121.943 116.352 122.174 116.284 122.409C116.189 122.736 116.22 123.1 116.4 123.421C116.578 123.739 116.868 123.956 117.194 124.048C117.519 124.14 117.635 123.681 117.953 123.503C118.272 123.325 118.734 123.462 118.826 123.136C118.918 122.811 118.886 122.45 118.708 122.132C118.529 121.811 118.236 121.593 117.907 121.502C117.862 121.489 117.817 121.475 117.774 121.459C117.922 121.318 117.99 121.026 118.189 120.855C118.466 120.617 118.945 120.659 118.971 120.322C118.985 120.146 118.963 119.968 118.905 119.799C118.909 119.794 118.912 119.79 118.915 119.786L119.133 119.932C119.507 120.182 119.738 120.531 119.824 120.972C119.888 121.307 120.081 121.616 120.387 121.821C120.691 122.024 121.047 122.084 121.379 122.018C121.711 121.953 121.605 121.491 121.808 121.188C122.011 120.884 122.484 120.796 122.418 120.464C122.352 120.132 122.16 119.826 121.856 119.623C121.551 119.419 121.191 119.358 120.857 119.427C120.417 119.516 120.005 119.436 119.631 119.186L119.409 119.038C119.892 118.172 120.168 117.176 120.168 116.115C120.168 115.975 120.161 115.837 120.152 115.699C120.365 115.754 120.565 115.854 120.75 116.001C121.018 116.212 121.366 116.321 121.731 116.276C122.094 116.231 122.403 116.044 122.612 115.777C122.82 115.511 122.439 115.23 122.394 114.868C122.35 114.506 122.65 114.13 122.384 113.922C122.117 113.714 121.771 113.607 121.409 113.652C121.044 113.696 120.732 113.886 120.524 114.156C120.369 114.355 120.187 114.508 119.977 114.614C119.815 113.983 119.554 113.392 119.21 112.86L119.504 112.634C119.86 112.359 120.265 112.251 120.71 112.312C121.048 112.357 121.403 112.273 121.694 112.049C121.983 111.826 122.155 111.507 122.199 111.172C122.242 110.836 121.771 110.789 121.548 110.5C121.325 110.21 121.393 109.734 121.058 109.69C120.722 109.647 120.37 109.732 120.081 109.954C119.789 110.179 119.618 110.5 119.576 110.839C119.52 111.285 119.312 111.649 118.956 111.923L118.686 112.131C118.451 111.851 118.191 111.592 117.91 111.358C117.904 111.238 117.883 111.119 117.846 111.006C117.759 110.74 117.438 110.803 117.146 110.739C117.295 110.61 117.469 110.509 117.668 110.437C117.989 110.322 118.266 110.084 118.421 109.751C118.575 109.42 118.58 109.058 118.465 108.74C118.349 108.422 117.909 108.597 117.578 108.443C117.247 108.289 117.088 107.835 116.77 107.951C116.452 108.067 116.178 108.304 116.024 108.634C115.869 108.968 115.865 109.333 115.983 109.652C116.05 109.833 116.085 110.014 116.088 110.193C116.035 110.215 115.984 110.24 115.934 110.268C115.509 110.13 115.064 110.037 114.604 109.997V109.748C114.604 109.298 114.766 108.911 115.085 108.595C115.327 108.356 115.478 108.023 115.478 107.655C115.478 107.29 115.33 106.96 115.09 106.721C114.851 106.481 114.526 106.826 114.161 106.826C113.887 106.826 113.63 106.632 113.417 106.636H113.417Z" fill="white"></path></symbol></svg><div id="background"></div><svg id="micbutton"><use href="#svg-microphone-icon"></use></svg><div id="intermediate-layer"><div id="peertopeer"><h1>P2P</h1><p>My ID:<span id="p2p-myid">...</span></p><p>Peers:</p><p id="p2p-peers">...</p></div><div id="chat"><h1>Chat</h1><p id="chat-present"></p><p id="chat-messages"></p><form id="chat-form"><input id="chat-input" disabled="disabled" placeholder="message"></form></div></div><svg id="systemsoundbutton"><use href="#svg-cast-audio-icon"></use></svg><canvas id="visuals-canvas"></canvas><svg id="cute-virus"><use href="#svg-cute-virus-icon"></use></svg><div class="click-button" id="piano" tabindex="0"></div><svg id="authoritysymbol"><use href="#svg-authority-icon"></use></svg><div class="gone" id="messagebox"></div><div id="qrdisplay-background"><div id="qrdisplay-content"></div><div id="qrdisplay-qr"></div></div><div id="qrreader-background"><video id="qrreader-video-element"></video></div><script>(()=>{var __webpack_modules__={34537:e=>{"use strict";e.exports=function(e,t){for(var r=new Array(arguments.length-1),s=0,n=2,o=!0;n<arguments.length;)r[s++]=arguments[n++];return new Promise(function(n,i){r[s]=function(e){if(o)if(o=!1,e)i(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];n.apply(null,t)}};try{e.apply(t||null,r)}catch(e){o&&(o=!1,i(e))}})}},97419:(e,t)=>{"use strict";t.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;1<--t%4&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var u=new Array(64),c=new Array(123),r=0;r<64;)c[u[r]=r<26?r+65:r<52?r+71:r<62?r-4:r-59|43]=r++;t.encode=function(e,t,r){for(var n,i=null,s=[],o=0,a=0;t<r;){var c=e[t++];switch(a){case 0:s[o++]=u[c>>2],n=(3&c)<<4,a=1;break;case 1:s[o++]=u[n|c>>4],n=(15&c)<<2,a=2;break;case 2:s[o++]=u[n|c>>6],s[o++]=u[63&c],a=0}8191<o&&((i=i||[]).push(String.fromCharCode.apply(String,s)),o=0)}return a&&(s[o++]=u[n],s[o++]=61,1===a&&(s[o++]=61)),i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var h="invalid encoding";t.decode=function(e,t,r){for(var n,i=r,s=0,o=0;o<e.length;){var a=e.charCodeAt(o++);if(61===a&&1<s)break;if(void 0===(a=c[a]))throw Error(h);switch(s){case 0:n=a,s=1;break;case 1:t[r++]=n<<2|(48&a)>>4,n=a,s=2;break;case 2:t[r++]=(15&n)<<4|(60&a)>>2,n=a,s=3;break;case 3:t[r++]=(3&n)<<6|a,s=0}}if(1===s)throw Error(h);return r-i},t.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},19211:e=>{"use strict";function t(){this._listeners={}}(e.exports=t).prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},10945:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?(u=new Float32Array([-0]),h=new Uint8Array(u.buffer),l=128===h[3],e.writeFloatLE=l?p:y,e.writeFloatBE=l?y:p,e.readFloatLE=l?g:m,e.readFloatBE=l?m:g):(e.writeFloatLE=d.bind(null,b),e.writeFloatBE=d.bind(null,v),e.readFloatLE=f.bind(null,w),e.readFloatBE=f.bind(null,_)),"undefined"!=typeof Float64Array?(a=new Float64Array([-0]),c=new Uint8Array(a.buffer),l=128===c[7],e.writeDoubleLE=l?n:i,e.writeDoubleBE=l?i:n,e.readDoubleLE=l?s:o,e.readDoubleBE=l?o:s):(e.writeDoubleLE=t.bind(null,b,0,4),e.writeDoubleBE=t.bind(null,v,4,0),e.readDoubleLE=r.bind(null,w,0,4),e.readDoubleBE=r.bind(null,_,4,0)),e;function t(e,t,r,n,i,s){var o,a,c=n<0?1:0;0===(n=c?-n:n)?(e(0,i,s+t),e(0<1/n?0:2147483648,i,s+r)):isNaN(n)?(e(0,i,s+t),e(2146959360,i,s+r)):17976931348623157e292<n?(e(0,i,s+t),e((c<<31|2146435072)>>>0,i,s+r)):n<22250738585072014e-324?(e((o=n/5e-324)>>>0,i,s+t),e((c<<31|o/4294967296)>>>0,i,s+r)):(1024===(a=Math.floor(Math.log(n)/Math.LN2))&&(a=1023),e(4503599627370496*(o=n*Math.pow(2,-a))>>>0,i,s+t),e((c<<31|a+1023<<20|1048576*o&1048575)>>>0,i,s+r))}function r(e,t,r,n,i){t=e(n,i+t),n=e(n,i+r),i=2*(n>>31)+1,r=n>>>20&2047,t=4294967296*(1048575&n)+t;return 2047==r?t?NaN:1/0*i:0==r?5e-324*i*t:i*Math.pow(2,r-1075)*(t+4503599627370496)}function n(e,t,r){a[0]=e,t[r]=c[0],t[r+1]=c[1],t[r+2]=c[2],t[r+3]=c[3],t[r+4]=c[4],t[r+5]=c[5],t[r+6]=c[6],t[r+7]=c[7]}function i(e,t,r){a[0]=e,t[r]=c[7],t[r+1]=c[6],t[r+2]=c[5],t[r+3]=c[4],t[r+4]=c[3],t[r+5]=c[2],t[r+6]=c[1],t[r+7]=c[0]}function s(e,t){return c[0]=e[t],c[1]=e[t+1],c[2]=e[t+2],c[3]=e[t+3],c[4]=e[t+4],c[5]=e[t+5],c[6]=e[t+6],c[7]=e[t+7],a[0]}function o(e,t){return c[7]=e[t],c[6]=e[t+1],c[5]=e[t+2],c[4]=e[t+3],c[3]=e[t+4],c[2]=e[t+5],c[1]=e[t+6],c[0]=e[t+7],a[0]}var a,c,u,h,l;function d(e,t,r,n){var i=t<0?1:0;0===(t=i?-t:t)?e(0<1/t?0:2147483648,r,n):isNaN(t)?e(2143289344,r,n):e(34028234663852886e22<t?(i<<31|2139095040)>>>0:t<11754943508222875e-54?(i<<31|Math.round(t/1401298464324817e-60))>>>0:(i<<31|(i=Math.floor(Math.log(t)/Math.LN2))+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,r,n)}function f(e,t,r){e=e(t,r),t=2*(e>>31)+1,r=e>>>23&255,e&=8388607;return 255==r?e?NaN:1/0*t:0==r?1401298464324817e-60*t*e:t*Math.pow(2,r-150)*(8388608+e)}function p(e,t,r){u[0]=e,t[r]=h[0],t[r+1]=h[1],t[r+2]=h[2],t[r+3]=h[3]}function y(e,t,r){u[0]=e,t[r]=h[3],t[r+1]=h[2],t[r+2]=h[1],t[r+3]=h[0]}function g(e,t){return h[0]=e[t],h[1]=e[t+1],h[2]=e[t+2],h[3]=e[t+3],u[0]}function m(e,t){return h[3]=e[t],h[2]=e[t+1],h[1]=e[t+2],h[0]=e[t+3],u[0]}}function b(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function v(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function w(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function _(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},67199:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},76662:e=>{"use strict";e.exports=function(t,r,e){var n=e||8192,i=n>>>1,s=null,o=n;return function(e){if(e<1||i<e)return t(e);n<o+e&&(s=t(n),o=0);e=r.call(s,o,o+=e);return 7&o&&(o=1+(7|o)),e}}},94997:(e,t)=>{"use strict";t.length=function(e){for(var t,r=0,n=0;n<e.length;++n)(t=e.charCodeAt(n))<128?r+=1:t<2048?r+=2:55296==(64512&t)&&56320==(64512&e.charCodeAt(n+1))?(++n,r+=4):r+=3;return r},t.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,s=[],o=0;t<r;)(n=e[t++])<128?s[o++]=n:191<n&&n<224?s[o++]=(31&n)<<6|63&e[t++]:239<n&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,s[o++]=55296+(n>>10),s[o++]=56320+(1023&n)):s[o++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],8191<o&&((i=i||[]).push(String.fromCharCode.apply(String,s)),o=0);return i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))},t.write=function(e,t,r){for(var n,i,s=r,o=0;o<e.length;++o)(n=e.charCodeAt(o))<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:(55296==(64512&n)&&56320==(64512&(i=e.charCodeAt(o+1)))?(++o,t[r++]=(n=65536+((1023&n)<<10)+(1023&i))>>18|240,t[r++]=n>>12&63|128):t[r++]=n>>12|224,t[r++]=n>>6&63|128),t[r++]=63&n|128);return r-s}},43063:(e,t)=>{function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}(t.Emitter=r).prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},r.prototype.emitReserved=r.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r)for(var n=0,i=(r=r.slice(0)).length;n<i;++n)r[n].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},98099:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(97117);function n(e,t,r){return(t=void 0===t?new Uint8Array(2):t)[(r=void 0===r?0:r)+0]=e>>>8,t[r+1]=e>>>0,t}function i(e,t,r){return(t=void 0===t?new Uint8Array(2):t)[(r=void 0===r?0:r)+0]=e>>>0,t[r+1]=e>>>8,t}function s(e,t){return e[t=void 0===t?0:t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function a(e,t){return(e[t=void 0===t?0:t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function c(e,t){return e[(t=void 0===t?0:t)+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function u(e,t){return(e[(t=void 0===t?0:t)+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function h(e,t,r){return(t=void 0===t?new Uint8Array(4):t)[(r=void 0===r?0:r)+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}function l(e,t,r){return(t=void 0===t?new Uint8Array(4):t)[(r=void 0===r?0:r)+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}function d(e,t,r){return h(e/4294967296>>>0,t=void 0===t?new Uint8Array(8):t,r=void 0===r?0:r),h(e>>>0,t,r+4),t}function f(e,t,r){return l(e>>>0,t=void 0===t?new Uint8Array(8):t,r=void 0===r?0:r),l(e/4294967296>>>0,t,r+4),t}t.readInt16BE=function(e,t){return(e[(t=void 0===t?0:t)+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return(e[(t=void 0===t?0:t)+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return(e[(t=void 0===t?0:t)+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return(e[(t=void 0===t?0:t)+1]<<8|e[t])>>>0},t.writeUint16BE=n,t.writeInt16BE=n,t.writeUint16LE=i,t.writeInt16LE=i,t.readInt32BE=s,t.readUint32BE=a,t.readInt32LE=c,t.readUint32LE=u,t.writeUint32BE=h,t.writeInt32BE=h,t.writeUint32LE=l,t.writeInt32LE=l,t.readInt64BE=function(e,t){var r=s(e,t=void 0===t?0:t),t=s(e,t+4);return 4294967296*r+t-4294967296*(t>>31)},t.readUint64BE=function(e,t){return 4294967296*a(e,t=void 0===t?0:t)+a(e,t+4)},t.readInt64LE=function(e,t){var r=c(e,t=void 0===t?0:t);return 4294967296*c(e,t+4)+r-4294967296*(r>>31)},t.readUint64LE=function(e,t){var r=u(e,t=void 0===t?0:t);return 4294967296*u(e,t+4)+r},t.writeUint64BE=d,t.writeInt64BE=d,t.writeUint64LE=f,t.writeInt64LE=f,t.readUintBE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=e/8+r-1;r<=s;s--)n+=t[s]*i,i*=256;return n},t.readUintLE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=r;s<r+e/8;s++)n+=t[s]*i,i*=256;return n},t.writeUintBE=function(e,t,r,n){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===n&&(n=0),e%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!o.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var i=1,s=e/8+n-1;n<=s;s--)r[s]=t/i&255,i*=256;return r},t.writeUintLE=function(e,t,r,n){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===n&&(n=0),e%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!o.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var i=1,s=n;s<n+e/8;s++)r[s]=t/i&255,i*=256;return r},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e),t},t.writeFloat32LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e,!0),t},t.writeFloat64BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e),t},t.writeFloat64LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e,!0),t}},25439:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var B=r(98099),h=r(17309);function i(e,t,r,n,i){if(void 0===i&&(i=0),32!==e.length)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var s,o;if(0===i){if(8!==t.length&&12!==t.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");o=(s=new Uint8Array(16)).length-t.length,s.set(t,o)}else{if(16!==t.length)throw new Error("ChaCha nonce with counter must be 16 bytes");s=t,o=i}for(var a=new Uint8Array(64),c=0;c<r.length;c+=64){!function(e,t,r){for(var n=1634760805,i=857760878,s=2036477234,o=1797285236,a=r[3]<<24|r[2]<<16|r[1]<<8|r[0],c=r[7]<<24|r[6]<<16|r[5]<<8|r[4],u=r[11]<<24|r[10]<<16|r[9]<<8|r[8],h=r[15]<<24|r[14]<<16|r[13]<<8|r[12],l=r[19]<<24|r[18]<<16|r[17]<<8|r[16],d=r[23]<<24|r[22]<<16|r[21]<<8|r[20],f=r[27]<<24|r[26]<<16|r[25]<<8|r[24],p=r[31]<<24|r[30]<<16|r[29]<<8|r[28],y=t[3]<<24|t[2]<<16|t[1]<<8|t[0],g=t[7]<<24|t[6]<<16|t[5]<<8|t[4],r=t[11]<<24|t[10]<<16|t[9]<<8|t[8],t=t[15]<<24|t[14]<<16|t[13]<<8|t[12],m=n,b=i,v=s,w=o,_=a,E=c,S=u,C=h,A=l,I=d,T=f,R=p,P=y,k=g,O=r,M=t,D=0;D<20;D+=2)_=(_^=A=A+(P=(P^=m=m+_|0)>>>16|P<<16)|0)>>>20|_<<12,E=(E^=I=I+(k=(k^=b=b+E|0)>>>16|k<<16)|0)>>>20|E<<12,S=(S^=T=T+(O=(O^=v=v+S|0)>>>16|O<<16)|0)>>>20|S<<12,C=(C^=R=R+(M=(M^=w=w+C|0)>>>16|M<<16)|0)>>>20|C<<12,S=(S^=T=T+(O=(O^=v=v+S|0)>>>24|O<<8)|0)>>>25|S<<7,C=(C^=R=R+(M=(M^=w=w+C|0)>>>24|M<<8)|0)>>>25|C<<7,E=(E^=I=I+(k=(k^=b=b+E|0)>>>24|k<<8)|0)>>>25|E<<7,_=(_^=A=A+(P=(P^=m=m+_|0)>>>24|P<<8)|0)>>>25|_<<7,E=(E^=T=T+(M=(M^=m=m+E|0)>>>16|M<<16)|0)>>>20|E<<12,S=(S^=R=R+(P=(P^=b=b+S|0)>>>16|P<<16)|0)>>>20|S<<12,C=(C^=A=A+(k=(k^=v=v+C|0)>>>16|k<<16)|0)>>>20|C<<12,_=(_^=I=I+(O=(O^=w=w+_|0)>>>16|O<<16)|0)>>>20|_<<12,C=(C^=A=A+(k=(k^=v=v+C|0)>>>24|k<<8)|0)>>>25|C<<7,_=(_^=I=I+(O=(O^=w=w+_|0)>>>24|O<<8)|0)>>>25|_<<7,S=(S^=R=R+(P=(P^=b=b+S|0)>>>24|P<<8)|0)>>>25|S<<7,E=(E^=T=T+(M=(M^=m=m+E|0)>>>24|M<<8)|0)>>>25|E<<7;B.writeUint32LE(m+n|0,e,0),B.writeUint32LE(b+i|0,e,4),B.writeUint32LE(v+s|0,e,8),B.writeUint32LE(w+o|0,e,12),B.writeUint32LE(_+a|0,e,16),B.writeUint32LE(E+c|0,e,20),B.writeUint32LE(S+u|0,e,24),B.writeUint32LE(C+h|0,e,28),B.writeUint32LE(A+l|0,e,32),B.writeUint32LE(I+d|0,e,36),B.writeUint32LE(T+f|0,e,40),B.writeUint32LE(R+p|0,e,44),B.writeUint32LE(P+y|0,e,48),B.writeUint32LE(k+g|0,e,52),B.writeUint32LE(O+r|0,e,56),B.writeUint32LE(M+t|0,e,60)}(a,s,e);for(var u=c;u<c+64&&u<r.length;u++)n[u]=r[u]^a[u-c];!function(e,t,r){for(var n=1;r--;)n=n+(255&e[t])|0,e[t]=255&n,n>>>=8,t++;if(0<n)throw new Error("ChaCha: counter overflow")}(s,0,o)}return h.wipe(a),0===i&&h.wipe(s),n}t.streamXOR=i,t.stream=function(e,t,r,n){return void 0===n&&(n=0),h.wipe(r),i(e,t,r,r,n)}},15501:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(25439),c=r(63027),u=r(17309),h=r(98099),l=r(4153);t.KEY_LENGTH=32,t.NONCE_LENGTH=12,t.TAG_LENGTH=16;var d=new Uint8Array(16),r=(n.prototype.seal=function(e,t,r,n){if(16<e.length)throw new Error("ChaCha20Poly1305: incorrect nonce length");var i=new Uint8Array(16);i.set(e,i.length-e.length);var s=new Uint8Array(32);a.stream(this._key,i,s,4);var o,e=t.length+this.tagLength;if(n){if(n.length!==e)throw new Error("ChaCha20Poly1305: incorrect destination length");o=n}else o=new Uint8Array(e);return a.streamXOR(this._key,i,t,o,4),this._authenticate(o.subarray(o.length-this.tagLength,o.length),s,o.subarray(0,o.length-this.tagLength),r),u.wipe(i),o},n.prototype.open=function(e,t,r,n){if(16<e.length)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var i=new Uint8Array(16);i.set(e,i.length-e.length);var s=new Uint8Array(32);a.stream(this._key,i,s,4);e=new Uint8Array(this.tagLength);if(this._authenticate(e,s,t.subarray(0,t.length-this.tagLength),r),!l.equal(e,t.subarray(t.length-this.tagLength,t.length)))return null;var o,e=t.length-this.tagLength;if(n){if(n.length!==e)throw new Error("ChaCha20Poly1305: incorrect destination length");o=n}else o=new Uint8Array(e);return a.streamXOR(this._key,i,t.subarray(0,t.length-this.tagLength),o,4),u.wipe(i),o},n.prototype.clean=function(){return u.wipe(this._key),this},n.prototype._authenticate=function(e,t,r,n){var i=new c.Poly1305(t);n&&(i.update(n),0<n.length%16&&i.update(d.subarray(n.length%16))),i.update(r),0<r.length%16&&i.update(d.subarray(r.length%16));t=new Uint8Array(8);n&&h.writeUint64LE(n.length,t),i.update(t),h.writeUint64LE(r.length,t),i.update(t);for(var s=i.digest(),o=0;o<s.length;o++)e[o]=s[o];i.clean(),u.wipe(s),u.wipe(t)},n);function n(e){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,e.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}t.ChaCha20Poly1305=r},4153:(e,t)=>{"use strict";function r(e,t){if(e.length!==t.length)return 0;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return 1&r-1>>>8}Object.defineProperty(t,"__esModule",{value:!0}),t.select=function(e,t,r){return~(e-1)&t|e-1&r},t.lessOrEqual=function(e,t){return(0|e)-(0|t)-1>>>31&1},t.compare=r,t.equal=function(e,t){return 0!==e.length&&0!==t.length&&0!==r(e,t)}},79984:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSerializableHash=function(e){return void 0!==e.saveState&&void 0!==e.restoreState&&void 0!==e.cleanSavedState}},512:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(25629),n=r(17309),r=(s.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(0===e)throw new Error("hkdf: cannot expand more");this._hmac.reset(),1<e&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},s.prototype.expand=function(e){for(var t=new Uint8Array(e),r=0;r<t.length;r++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[r]=this._buffer[this._bufpos++];return t},s.prototype.clean=function(){this._hmac.clean(),n.wipe(this._buffer),n.wipe(this._counter),this._bufpos=0},s);function s(e,t,r,n){void 0===r&&(r=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=n;t=i.hmac(this._hash,r,t);this._hmac=new i.HMAC(e,t),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}t.HKDF=r},25629:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(79984),n=r(4153),s=r(17309),o=(a.prototype.reset=function(){if(!i.isSerializableHash(this._inner)||!i.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},a.prototype.clean=function(){i.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),i.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},a.prototype.update=function(e){return this._inner.update(e),this},a.prototype.finish=function(e){return this._finished?this._outer.finish(e):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0),this},a.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},a.prototype.saveState=function(){if(!i.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},a.prototype.restoreState=function(e){if(!i.isSerializableHash(this._inner)||!i.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},a.prototype.cleanSavedState=function(e){if(!i.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},a);function a(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var r=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(r).clean():r.set(t);for(var n=0;n<r.length;n++)r[n]^=54;for(this._inner.update(r),n=0;n<r.length;n++)r[n]^=106;this._outer.update(r),i.isSerializableHash(this._inner)&&i.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),s.wipe(r)}t.HMAC=o,t.hmac=function(e,t,r){t=new o(e,t);t.update(r);r=t.digest();return t.clean(),r},t.equal=n.equal},97117:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var r=65535&e,n=65535&t;return r*n+((e>>>16&65535)*n+r*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},63027:(e,n,t)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(4153),i=t(17309);n.DIGEST_LENGTH=16;var s=(o.prototype._blocks=function(e,t,r){for(var n=this._fin?0:2048,i=this._h[0],s=this._h[1],o=this._h[2],a=this._h[3],c=this._h[4],u=this._h[5],h=this._h[6],l=this._h[7],d=this._h[8],f=this._h[9],p=this._r[0],y=this._r[1],g=this._r[2],m=this._r[3],b=this._r[4],v=this._r[5],w=this._r[6],_=this._r[7],E=this._r[8],S=this._r[9];16<=r;){var C=e[t+0]|e[t+1]<<8;i+=8191&C;var A=e[t+2]|e[t+3]<<8;s+=8191&(C>>>13|A<<3);var I=e[t+4]|e[t+5]<<8;o+=8191&(A>>>10|I<<6);var T=e[t+6]|e[t+7]<<8;a+=8191&(I>>>7|T<<9);var R=e[t+8]|e[t+9]<<8;c+=8191&(T>>>4|R<<12),u+=R>>>1&8191;var P=e[t+10]|e[t+11]<<8;h+=8191&(R>>>14|P<<2);var k=e[t+12]|e[t+13]<<8;l+=8191&(P>>>11|k<<5);var O,M=e[t+14]|e[t+15]<<8,D=0;D+=i*p,D+=s*(5*S),D+=o*(5*E),D+=a*(5*_),O=(D+=c*(5*w))>>>13,D&=8191,D+=u*(5*v),D+=h*(5*b),D+=l*(5*m),D+=(d+=8191&(k>>>8|M<<8))*(5*g);var B=O+=(D+=(f+=M>>>5|n)*(5*y))>>>13;B+=i*y,B+=s*p,B+=o*(5*S),B+=a*(5*E),O=(B+=c*(5*_))>>>13,B&=8191,B+=u*(5*w),B+=h*(5*v),B+=l*(5*b),B+=d*(5*m),O+=(B+=f*(5*g))>>>13,B&=8191;C=O;C+=i*g,C+=s*y,C+=o*p,C+=a*(5*S),O=(C+=c*(5*E))>>>13,C&=8191,C+=u*(5*_),C+=h*(5*w),C+=l*(5*v),C+=d*(5*b);A=O+=(C+=f*(5*m))>>>13;A+=i*m,A+=s*g,A+=o*y,A+=a*p,O=(A+=c*(5*S))>>>13,A&=8191,A+=u*(5*E),A+=h*(5*_),A+=l*(5*w),A+=d*(5*v);I=O+=(A+=f*(5*b))>>>13;I+=i*b,I+=s*m,I+=o*g,I+=a*y,O=(I+=c*p)>>>13,I&=8191,I+=u*(5*S),I+=h*(5*E),I+=l*(5*_),I+=d*(5*w);T=O+=(I+=f*(5*v))>>>13;T+=i*v,T+=s*b,T+=o*m,T+=a*g,O=(T+=c*y)>>>13,T&=8191,T+=u*p,T+=h*(5*S),T+=l*(5*E),T+=d*(5*_);R=O+=(T+=f*(5*w))>>>13;R+=i*w,R+=s*v,R+=o*b,R+=a*m,O=(R+=c*g)>>>13,R&=8191,R+=u*y,R+=h*p,R+=l*(5*S),R+=d*(5*E);P=O+=(R+=f*(5*_))>>>13;P+=i*_,P+=s*w,P+=o*v,P+=a*b,O=(P+=c*m)>>>13,P&=8191,P+=u*g,P+=h*y,P+=l*p,P+=d*(5*S);k=O+=(P+=f*(5*E))>>>13;k+=i*E,k+=s*_,k+=o*w,k+=a*v,O=(k+=c*b)>>>13,k&=8191,k+=u*m,k+=h*g,k+=l*y,k+=d*p;M=O+=(k+=f*(5*S))>>>13;M+=i*S,M+=s*E,M+=o*_,M+=a*w,O=(M+=c*v)>>>13,M&=8191,M+=u*b,M+=h*m,M+=l*g,M+=d*y,i=D=8191&(O=(((O+=(M+=f*p)>>>13)<<2)+O|0)+(8191&D)|0),s=B+=O>>>=13,o=C&=8191,a=A&=8191,c=I&=8191,u=T&=8191,h=R&=8191,l=P&=8191,d=k&=8191,f=M&=8191,t+=16,r-=16}this._h[0]=i,this._h[1]=s,this._h[2]=o,this._h[3]=a,this._h[4]=c,this._h[5]=u,this._h[6]=h,this._h[7]=l,this._h[8]=d,this._h[9]=f},o.prototype.finish=function(e,t){void 0===t&&(t=0);var r,n,i,s,o=new Uint16Array(10);if(this._leftover){for(s=this._leftover,this._buffer[s++]=1;s<16;s++)this._buffer[s]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(r=this._h[1]>>>13,this._h[1]&=8191,s=2;s<10;s++)this._h[s]+=r,r=this._h[s]>>>13,this._h[s]&=8191;for(this._h[0]+=5*r,r=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=r,r=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=r,o[0]=this._h[0]+5,r=o[0]>>>13,o[0]&=8191,s=1;s<10;s++)o[s]=this._h[s]+r,r=o[s]>>>13,o[s]&=8191;for(o[9]-=8192,n=(1^r)-1,s=0;s<10;s++)o[s]&=n;for(n=~n,s=0;s<10;s++)this._h[s]=this._h[s]&n|o[s];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),i=this._h[0]+this._pad[0],this._h[0]=65535&i,s=1;s<8;s++)i=(this._h[s]+this._pad[s]|0)+(i>>>16)|0,this._h[s]=65535&i;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},o.prototype.update=function(e){var t,r=0,n=e.length;if(this._leftover){(t=16-this._leftover)>n&&(t=n);for(var i=0;i<t;i++)this._buffer[this._leftover+i]=e[r+i];if(n-=t,r+=t,this._leftover+=t,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(16<=n&&(this._blocks(e,r,t=n-n%16),r+=t,n-=t),n){for(i=0;i<n;i++)this._buffer[this._leftover+i]=e[r+i];this._leftover+=n}return this},o.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},o.prototype.clean=function(){return i.wipe(this._buffer),i.wipe(this._r),i.wipe(this._h),i.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},o);function o(e){this.digestLength=n.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var t=e[0]|e[1]<<8;this._r[0]=8191&t;var r=e[2]|e[3]<<8;this._r[1]=8191&(t>>>13|r<<3);t=e[4]|e[5]<<8;this._r[2]=7939&(r>>>10|t<<6);r=e[6]|e[7]<<8;this._r[3]=8191&(t>>>7|r<<9);t=e[8]|e[9]<<8;this._r[4]=255&(r>>>4|t<<12),this._r[5]=t>>>1&8190;r=e[10]|e[11]<<8;this._r[6]=8191&(t>>>14|r<<2);t=e[12]|e[13]<<8;this._r[7]=8065&(r>>>11|t<<5);r=e[14]|e[15]<<8;this._r[8]=8191&(t>>>8|r<<8),this._r[9]=r>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}n.Poly1305=s,n.oneTimeAuth=function(e,t){e=new s(e);e.update(t);t=e.digest();return e.clean(),t},n.equal=function(e,t){return e.length===n.DIGEST_LENGTH&&t.length===n.DIGEST_LENGTH&&r.equal(e,t)}},31416:(e,u,t)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0});var r=t(46008),n=t(98099),h=t(17309);function l(e,t){return(t=void 0===t?u.defaultRandomSource:t).randomBytes(e)}u.defaultRandomSource=new r.SystemRandomSource,u.randomBytes=l,u.randomUint32=function(e){var t=l(4,e=void 0===e?u.defaultRandomSource:e),e=n.readUint32LE(t);return h.wipe(t),e};var d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function i(e,t,r){if(void 0===r&&(r=u.defaultRandomSource),(t=void 0===t?d:t).length<2)throw new Error("randomString charset is too short");if(256<t.length)throw new Error("randomString charset is too long");for(var n="",i=t.length,s=256-256%i;0<e;){for(var o=l(Math.ceil(256*e/s),r),a=0;a<o.length&&0<e;a++){var c=o[a];c<s&&(n+=t.charAt(c%i),e--)}h.wipe(o)}return n}u.randomString=i,u.randomStringForEntropy=function(e,t,r){return void 0===t&&(t=d),void 0===r&&(r=u.defaultRandomSource),i(Math.ceil(e/(Math.log(t.length)/Math.LN2)),t,r)}},75455:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(n.prototype.randomBytes=function(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");for(var t=new Uint8Array(e),r=0;r<t.length;r+=65536)this._crypto.getRandomValues(t.subarray(r,r+Math.min(t.length-r,65536)));return t},n);function n(){this.isAvailable=!1,this.isInstantiated=!1;var e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}t.BrowserRandomSource=r},58871:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(17309),n=(s.prototype.randomBytes=function(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");var t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=t[n];return i.wipe(t),r},s);function s(){this.isAvailable=!1,this.isInstantiated=!1;var e=r(35883);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}t.NodeRandomSource=n},46008:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(75455),i=r(58871),r=(s.prototype.randomBytes=function(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)},s);function s(){return this.isAvailable=!1,this.name="",this._source=new n.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new i.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}t.SystemRandomSource=r},73294:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=r(98099),n=r(17309);t.DIGEST_LENGTH=32,t.BLOCK_SIZE=64;var i=(s.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},s.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},s.prototype.clean=function(){n.wipe(this._buffer),n.wipe(this._temp),this.reset()},s.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var r=0;if(this._bytesHashed+=t,0<this._bufferLength){for(;this._bufferLength<this.blockSize&&0<t;)this._buffer[this._bufferLength++]=e[r++],t--;this._bufferLength===this.blockSize&&(a(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(r=a(this._temp,this._state,e,r,t),t%=this.blockSize);0<t;)this._buffer[this._bufferLength++]=e[r++],t--;return this},s.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,r=this._bufferLength,n=t/536870912|0,i=t<<3,s=t%64<56?64:128;this._buffer[r]=128;for(var o=r+1;o<s-8;o++)this._buffer[o]=0;m.writeUint32BE(n,this._buffer,s-8),m.writeUint32BE(i,this._buffer,s-4),a(this._temp,this._state,this._buffer,0,s),this._finished=!0}for(o=0;o<this.digestLength/4;o++)m.writeUint32BE(this._state[o],e,4*o);return this},s.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},s.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:0<this._bufferLength?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},s.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},s.prototype.cleanSavedState=function(e){n.wipe(e.state),e.buffer&&n.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},s);function s(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}t.SHA256=i;var b=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function a(e,t,r,n,i){for(;64<=i;){for(var s=t[0],o=t[1],a=t[2],c=t[3],u=t[4],h=t[5],l=t[6],d=t[7],f=0;f<16;f++)e[f]=m.readUint32BE(r,n+4*f);for(f=16;f<64;f++){var p=e[f-2],y=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,g=((p=e[f-15])>>>7|p<<25)^(p>>>18|p<<14)^p>>>3;e[f]=(y+e[f-7]|0)+(g+e[f-16]|0)}for(f=0;f<64;f++)y=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&h^~u&l)|0)+(d+(b[f]+e[f]|0)|0)|0,g=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&o^s&a^o&a)|0,d=l,l=h,h=u,u=c+y|0,c=a,a=o,o=s,s=y+g|0;t[0]+=s,t[1]+=o,t[2]+=a,t[3]+=c,t[4]+=u,t[5]+=h,t[6]+=l,t[7]+=d,n+=64,i-=64}return n}t.hash=function(e){var t=new i;t.update(e);e=t.digest();return t.clean(),e}},17309:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}},57664:(e,o,t)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=t(31416),n=t(17309);function f(e){var t=new Float64Array(16);if(e)for(var r=0;r<e.length;r++)t[r]=e[r];return t}o.PUBLIC_KEY_LENGTH=32,o.SECRET_KEY_LENGTH=32,o.SHARED_KEY_LENGTH=32;var i=new Uint8Array(32);i[0]=9;var p=f([56129,1]);function y(e){for(var t=1,r=0;r<16;r++){var n=e[r]+t+65535,t=Math.floor(n/65536);e[r]=n-65536*t}e[0]+=t-1+37*(t-1)}function g(e,t,r){for(var n=~(r-1),i=0;i<16;i++){var s=n&(e[i]^t[i]);e[i]^=s,t[i]^=s}}function m(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function b(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function v(e,t,r){var n=0,i=0,s=0,o=0,a=0,c=0,u=0,h=0,l=0,d=0,f=0,p=0,y=0,g=0,m=0,b=0,v=0,w=0,_=0,E=0,S=0,C=0,A=0,I=0,T=0,R=0,P=0,k=0,O=0,M=0,D=0,B=r[0],x=r[1],N=r[2],L=r[3],F=r[4],K=r[5],U=r[6],j=r[7],V=r[8],q=r[9],z=r[10],H=r[11],G=r[12],$=r[13],W=r[14],Y=r[15];n+=(r=t[0])*B,i+=r*x,s+=r*N,o+=r*L,a+=r*F,c+=r*K,u+=r*U,h+=r*j,l+=r*V,d+=r*q,f+=r*z,p+=r*H,y+=r*G,g+=r*$,m+=r*W,b+=r*Y,i+=(r=t[1])*B,s+=r*x,o+=r*N,a+=r*L,c+=r*F,u+=r*K,h+=r*U,l+=r*j,d+=r*V,f+=r*q,p+=r*z,y+=r*H,g+=r*G,m+=r*$,b+=r*W,v+=r*Y,s+=(r=t[2])*B,o+=r*x,a+=r*N,c+=r*L,u+=r*F,h+=r*K,l+=r*U,d+=r*j,f+=r*V,p+=r*q,y+=r*z,g+=r*H,m+=r*G,b+=r*$,v+=r*W,w+=r*Y,o+=(r=t[3])*B,a+=r*x,c+=r*N,u+=r*L,h+=r*F,l+=r*K,d+=r*U,f+=r*j,p+=r*V,y+=r*q,g+=r*z,m+=r*H,b+=r*G,v+=r*$,w+=r*W,_+=r*Y,a+=(r=t[4])*B,c+=r*x,u+=r*N,h+=r*L,l+=r*F,d+=r*K,f+=r*U,p+=r*j,y+=r*V,g+=r*q,m+=r*z,b+=r*H,v+=r*G,w+=r*$,_+=r*W,E+=r*Y,c+=(r=t[5])*B,u+=r*x,h+=r*N,l+=r*L,d+=r*F,f+=r*K,p+=r*U,y+=r*j,g+=r*V,m+=r*q,b+=r*z,v+=r*H,w+=r*G,_+=r*$,E+=r*W,S+=r*Y,u+=(r=t[6])*B,h+=r*x,l+=r*N,d+=r*L,f+=r*F,p+=r*K,y+=r*U,g+=r*j,m+=r*V,b+=r*q,v+=r*z,w+=r*H,_+=r*G,E+=r*$,S+=r*W,C+=r*Y,h+=(r=t[7])*B,l+=r*x,d+=r*N,f+=r*L,p+=r*F,y+=r*K,g+=r*U,m+=r*j,b+=r*V,v+=r*q,w+=r*z,_+=r*H,E+=r*G,S+=r*$,C+=r*W,A+=r*Y,l+=(r=t[8])*B,d+=r*x,f+=r*N,p+=r*L,y+=r*F,g+=r*K,m+=r*U,b+=r*j,v+=r*V,w+=r*q,_+=r*z,E+=r*H,S+=r*G,C+=r*$,A+=r*W,I+=r*Y,d+=(r=t[9])*B,f+=r*x,p+=r*N,y+=r*L,g+=r*F,m+=r*K,b+=r*U,v+=r*j,w+=r*V,_+=r*q,E+=r*z,S+=r*H,C+=r*G,A+=r*$,I+=r*W,T+=r*Y,f+=(r=t[10])*B,p+=r*x,y+=r*N,g+=r*L,m+=r*F,b+=r*K,v+=r*U,w+=r*j,_+=r*V,E+=r*q,S+=r*z,C+=r*H,A+=r*G,I+=r*$,T+=r*W,R+=r*Y,p+=(r=t[11])*B,y+=r*x,g+=r*N,m+=r*L,b+=r*F,v+=r*K,w+=r*U,_+=r*j,E+=r*V,S+=r*q,C+=r*z,A+=r*H,I+=r*G,T+=r*$,R+=r*W,P+=r*Y,y+=(r=t[12])*B,g+=r*x,m+=r*N,b+=r*L,v+=r*F,w+=r*K,_+=r*U,E+=r*j,S+=r*V,C+=r*q,A+=r*z,I+=r*H,T+=r*G,R+=r*$,P+=r*W,k+=r*Y,g+=(r=t[13])*B,m+=r*x,b+=r*N,v+=r*L,w+=r*F,_+=r*K,E+=r*U,S+=r*j,C+=r*V,A+=r*q,I+=r*z,T+=r*H,R+=r*G,P+=r*$,k+=r*W,O+=r*Y,m+=(r=t[14])*B,b+=r*x,v+=r*N,w+=r*L,_+=r*F,E+=r*K,S+=r*U,C+=r*j,A+=r*V,I+=r*q,T+=r*z,R+=r*H,P+=r*G,k+=r*$,O+=r*W,M+=r*Y,b+=(r=t[15])*B,i+=38*(w+=r*N),s+=38*(_+=r*L),o+=38*(E+=r*F),a+=38*(S+=r*K),c+=38*(C+=r*U),u+=38*(A+=r*j),h+=38*(I+=r*V),l+=38*(T+=r*q),d+=38*(R+=r*z),f+=38*(P+=r*H),p+=38*(k+=r*G),y+=38*(O+=r*$),g+=38*(M+=r*W),m+=38*(D+=r*Y),n=(r=(n+=38*(v+=r*x))+1+65535)-65536*(v=Math.floor(r/65536)),i=(r=i+v+65535)-65536*(v=Math.floor(r/65536)),s=(r=s+v+65535)-65536*(v=Math.floor(r/65536)),o=(r=o+v+65535)-65536*(v=Math.floor(r/65536)),a=(r=a+v+65535)-65536*(v=Math.floor(r/65536)),c=(r=c+v+65535)-65536*(v=Math.floor(r/65536)),u=(r=u+v+65535)-65536*(v=Math.floor(r/65536)),h=(r=h+v+65535)-65536*(v=Math.floor(r/65536)),l=(r=l+v+65535)-65536*(v=Math.floor(r/65536)),d=(r=d+v+65535)-65536*(v=Math.floor(r/65536)),f=(r=f+v+65535)-65536*(v=Math.floor(r/65536)),p=(r=p+v+65535)-65536*(v=Math.floor(r/65536)),y=(r=y+v+65535)-65536*(v=Math.floor(r/65536)),g=(r=g+v+65535)-65536*(v=Math.floor(r/65536)),m=(r=m+v+65535)-65536*(v=Math.floor(r/65536)),b=(r=b+v+65535)-65536*(v=Math.floor(r/65536)),n=(r=(n+=v-1+37*(v-1))+1+65535)-65536*(v=Math.floor(r/65536)),i=(r=i+v+65535)-65536*(v=Math.floor(r/65536)),s=(r=s+v+65535)-65536*(v=Math.floor(r/65536)),o=(r=o+v+65535)-65536*(v=Math.floor(r/65536)),a=(r=a+v+65535)-65536*(v=Math.floor(r/65536)),c=(r=c+v+65535)-65536*(v=Math.floor(r/65536)),u=(r=u+v+65535)-65536*(v=Math.floor(r/65536)),h=(r=h+v+65535)-65536*(v=Math.floor(r/65536)),l=(r=l+v+65535)-65536*(v=Math.floor(r/65536)),d=(r=d+v+65535)-65536*(v=Math.floor(r/65536)),f=(r=f+v+65535)-65536*(v=Math.floor(r/65536)),p=(r=p+v+65535)-65536*(v=Math.floor(r/65536)),y=(r=y+v+65535)-65536*(v=Math.floor(r/65536)),g=(r=g+v+65535)-65536*(v=Math.floor(r/65536)),m=(r=m+v+65535)-65536*(v=Math.floor(r/65536)),b=(r=b+v+65535)-65536*(v=Math.floor(r/65536)),e[0]=n+=v-1+37*(v-1),e[1]=i,e[2]=s,e[3]=o,e[4]=a,e[5]=c,e[6]=u,e[7]=h,e[8]=l,e[9]=d,e[10]=f,e[11]=p,e[12]=y,e[13]=g,e[14]=m,e[15]=b}function w(e,t){v(e,t,t)}function a(e,t){for(var r=new Uint8Array(32),n=new Float64Array(80),i=f(),s=f(),o=f(),a=f(),c=f(),u=f(),h=0;h<31;h++)r[h]=e[h];for(r[31]=127&e[31]|64,r[0]&=248,function(e,t){for(var r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(n,t),h=0;h<16;h++)s[h]=n[h];for(i[0]=a[0]=1,h=254;0<=h;--h){var l=r[h>>>3]>>>(7&h)&1;g(i,s,l),g(o,a,l),m(c,i,o),b(i,i,o),m(o,s,a),b(s,s,a),w(a,c),w(u,i),v(i,o,i),v(o,s,c),m(c,i,o),b(i,i,o),w(s,i),b(o,a,u),v(i,o,p),m(i,i,a),v(o,o,i),v(i,a,u),v(a,s,n),w(s,c),g(i,s,l),g(o,a,l)}for(h=0;h<16;h++)n[h+16]=i[h],n[h+32]=o[h],n[h+48]=s[h],n[h+64]=a[h];var d=n.subarray(32),t=n.subarray(16);!function(e,t){for(var r=f(),n=0;n<16;n++)r[n]=t[n];for(n=253;0<=n;n--)w(r,r),2!==n&&4!==n&&v(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}(d,d),v(t,t,d);d=new Uint8Array(32);return function(e,t){for(var r=f(),n=f(),i=0;i<16;i++)n[i]=t[i];y(n),y(n),y(n);for(var s=0;s<2;s++){for(r[0]=n[0]-65517,i=1;i<15;i++)r[i]=n[i]-65535-(r[i-1]>>16&1),r[i-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);var o=r[15]>>16&1;r[14]&=65535,g(n,r,1-o)}for(i=0;i<16;i++)e[2*i]=255&n[i],e[2*i+1]=n[i]>>8}(d,t),d}function s(e){return a(e,i)}function c(e){if(e.length!==o.SECRET_KEY_LENGTH)throw new Error("x25519: seed must be "+o.SECRET_KEY_LENGTH+" bytes");e=new Uint8Array(e);return{publicKey:s(e),secretKey:e}}o.scalarMult=a,o.scalarMultBase=s,o.generateKeyPairFromSeed=c,o.generateKeyPair=function(e){var t=r.randomBytes(32,e),e=c(t);return n.wipe(t),e},o.sharedKey=function(e,t,r){if(void 0===r&&(r=!1),e.length!==o.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(t.length!==o.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");var n=a(e,t);if(r){for(var i=0,s=0;s<n.length;s++)i|=n[s];if(0===i)throw new Error("X25519: invalid shared key")}return n}},63573:(e,t)=>{"use strict";const h=Math.exp;e.exports=function(i){if("number"!=typeof i)throw new Error("must provide a timespan to the moving average constructor");if(i<=0)throw new Error("must provide a timespan > 0 to the moving average constructor");let s,o,a=0,c=0,u=0,e={push:function(e,t){var r,n;o?(r=1-h(-(e-o)/i),n=t-s,s=r*t+(1-r)*s,a=(1-r)*(a+r*n*n),c=Math.sqrt(a),u=s+r*n):s=t,o=e},movingAverage:function(){return s},variance:function(){return a},deviation:function(){return c},forecast:function(){return u}};return e}},28599:e=>{"use strict";var{AbortController:t,AbortSignal:r}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;e.exports=t,e.exports.AbortSignal=r,e.exports.default=t},42235:e=>{e.exports=class extends Error{constructor(e,t){super(e||"The operation was aborted"),this.type="aborted",this.code=t||"ABORT_ERR"}}},61623:(e,t,r)=>{const n=r(22412),o=r(42235),i=(e,t,r)=>s(e,Array.isArray(t)?t:[{signal:t,options:r}]),s=(i,s)=>(i=n(i),s=s.map(({signal:e,options:t})=>({signal:e,options:t||{}})),async function*(){let t;const r=()=>{t&&t()};for(const{signal:i}of s)i.addEventListener("abort",r);for(;;){let e;try{for(const{signal:i,options:t}of s)if(i.aborted){const{abortMessage:i,abortCode:s}=t;throw new o(i,s)}const r=new Promise((e,r)=>{t=()=>{var e=s.find(({signal:e})=>e.aborted)["options"],{abortMessage:t,abortCode:e}=e;r(new o(t,e))}});e=await Promise.race([r,i.next()]),t=null}catch(t){for(const{signal:i}of s)i.removeEventListener("abort",r);const o=s.find(({signal:e})=>e.aborted),n="aborted"===t.type&&o;if(n&&o.options.onAbort&&await o.options.onAbort(i),"function"==typeof i.return&&await i.return(),n&&o.options.returnOnAbort)return;throw t}if(e.done)break;yield e.value}for(const{signal:i}of s)i.removeEventListener("abort",r)}()),a=(e,t,r)=>c(e,Array.isArray(t)?t:[{signal:t,options:r}]),c=(t,r)=>e=>t(s(e,r));e.exports=i,e.exports.AbortError=o,e.exports.source=i,e.exports.sink=a,e.exports.transform=a,e.exports.duplex=(e,t,r)=>((e,t)=>({sink:c(e.sink,t),source:s(e.source,t)}))(e,Array.isArray(t)?t:[{signal:t,options:r}])},56455:(e,t,r)=>{"use strict";const n=r(95602),i=r(75281);class s extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);var t=(e=[...e].map(e=>e instanceof Error?e:null!==e&&"object"==typeof e?Object.assign(new Error(e.message),e):new Error(e))).map(e=>"string"==typeof e.stack?i(e.stack).replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,""):String(e)).join("\n");super(t="\n"+n(t,4)),this.name="AggregateError",Object.defineProperty(this,"_errors",{value:e})}*[Symbol.iterator](){for(const e of this._errors)yield e}}e.exports=s},32044:(e,t,r)=>{const n=r(35353)["AbortController"];function i(e){const t=new n;function r(){t.abort();for(const t of e)t&&t.removeEventListener&&t.removeEventListener("abort",r)}for(const t of e)if(t&&t.addEventListener){if(t.aborted){r();break}t.addEventListener("abort",r)}return t.signal}e.exports=i,e.exports.anySignal=i},43010:e=>{function t(e){this.ms=(e=e||{}).min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=0<e.jitter&&e.jitter<=1?e.jitter:0,this.attempts=0}(e.exports=t).prototype.duration=function(){var e,t,r=this.ms*Math.pow(this.factor,this.attempts++);return this.jitter&&(e=Math.random(),t=Math.floor(e*this.jitter*r),r=0==(1&Math.floor(10*e))?r-t:r+t),0|Math.min(r,this.max)},t.prototype.reset=function(){this.attempts=0},t.prototype.setMin=function(e){this.ms=e},t.prototype.setMax=function(e){this.max=e},t.prototype.setJitter=function(e){this.jitter=e}},79742:(e,t)=>{"use strict";t.byteLength=function(e){var t=h(e),e=t[0],t=t[1];return 3*(e+t)/4-t},t.toByteArray=function(e){for(var t,r=h(e),n=r[0],r=r[1],i=new u(3*(n+r)/4-r),s=0,o=0<r?n-4:n,a=0;a<o;a+=4)t=c[e.charCodeAt(a)]<<18|c[e.charCodeAt(a+1)]<<12|c[e.charCodeAt(a+2)]<<6|c[e.charCodeAt(a+3)],i[s++]=t>>16&255,i[s++]=t>>8&255,i[s++]=255&t;return 2===r&&(t=c[e.charCodeAt(a)]<<2|c[e.charCodeAt(a+1)]>>4,i[s++]=255&t),1===r&&(t=c[e.charCodeAt(a)]<<10|c[e.charCodeAt(a+1)]<<4|c[e.charCodeAt(a+2)]>>2,i[s++]=t>>8&255,i[s++]=255&t),i},t.fromByteArray=function(e){for(var t,r=e.length,n=r%3,i=[],s=0,o=r-n;s<o;s+=16383)i.push(function(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(a[(n=n)>>18&63]+a[n>>12&63]+a[n>>6&63]+a[63&n]);return i.join("")}(e,s,o<s+16383?o:s+16383));return 1==n?(t=e[r-1],i.push(a[t>>2]+a[t<<4&63]+"==")):2==n&&(t=(e[r-2]<<8)+e[r-1],i.push(a[t>>10]+a[t>>4&63]+a[t<<2&63]+"=")),i.join("")};for(var a=[],c=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,i=r.length;n<i;++n)a[n]=r[n],c[r.charCodeAt(n)]=n;function h(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");e=e.indexOf("=");return[e=-1===e?t:e,e===t?0:4-e%4]}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},44431:function(t,r,n){var i;!function(){"use strict";var e,N=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,L=Math.ceil,F=Math.floor,K="[BigNumber Error] ",U=K+"Number primitive has more than 15 significant digits: ",j=1e14,V=9007199254740991,q=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],z=1e7,H=1e9;function G(e){var t=0|e;return 0<e||e===t?t:t-1}function $(e){for(var t,r,n=1,i=e.length,s=e[0]+"";n<i;){for(r=14-(t=e[n++]+"").length;r--;t="0"+t);s+=t}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function W(e,t){var r,n=e.c,i=t.c,s=e.s,o=t.s,a=e.e,e=t.e;if(!s||!o)return null;if(r=n&&!n[0],t=i&&!i[0],r||t)return r?t?0:-o:s;if(s!=o)return s;if(r=s<0,t=a==e,!n||!i)return t?0:!n^r?1:-1;if(!t)return e<a^r?1:-1;for(o=(a=n.length)<(e=i.length)?a:e,s=0;s<o;s++)if(n[s]!=i[s])return n[s]>i[s]^r?1:-1;return a==e?0:e<a^r?1:-1}function Y(e,t,r,n){if(e<t||r<e||e!==F(e))throw Error(K+(n||"Argument")+("number"==typeof e?e<t||r<e?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function X(e){var t=e.c.length-1;return G(e.e/14)==t&&e.c[t]%2!=0}function J(e,t){return(1<e.length?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function Q(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(++t>(n=e.length)){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}(e=function e(t){var g,l,d,r,u,o,a,c,h,f,m,n=T.prototype={constructor:T,toString:null,valueOf:null},p=new T(1),b=20,v=4,y=-7,w=21,_=-1e7,E=1e7,S=!1,i=1,C=0,A={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},I="0123456789abcdefghijklmnopqrstuvwxyz";function T(e,t){var r,n,i,s,o,a,c,u,h=this;if(!(h instanceof T))return new T(e,t);if(null==t){if(e&&!0===e._isBigNumber)return h.s=e.s,void(!e.c||e.e>E?h.c=h.e=null:e.e<_?h.c=[h.e=0]:(h.e=e.e,h.c=e.c.slice()));if((a="number"==typeof e)&&0*e==0){if(h.s=1/e<0?(e=-e,-1):1,e===~~e){for(s=0,o=e;10<=o;o/=10,s++);return void(E<s?h.c=h.e=null:(h.e=s,h.c=[e]))}u=String(e)}else{if(!N.test(u=String(e)))return d(h,u,a);h.s=45==u.charCodeAt(0)?(u=u.slice(1),-1):1}0<(o=(u=-1<(s=u.indexOf("."))?u.replace(".",""):u).search(/e/i))?(s<0&&(s=o),s+=+u.slice(o+1),u=u.substring(0,o)):s<0&&(s=u.length)}else{if(Y(t,2,I.length,"Base"),10==t)return k(h=new T(e),b+h.e+1,v);if(u=String(e),a="number"==typeof e){if(0*e!=0)return d(h,u,a,t);if(h.s=1/e<0?(u=u.slice(1),-1):1,T.DEBUG&&15<u.replace(/^0\.0*|\./,"").length)throw Error(U+e)}else h.s=45===u.charCodeAt(0)?(u=u.slice(1),-1):1;for(r=I.slice(0,t),s=o=0,c=u.length;o<c;o++)if(r.indexOf(n=u.charAt(o))<0){if("."==n){if(s<o){s=c;continue}}else if(!i&&(u==u.toUpperCase()&&(u=u.toLowerCase())||u==u.toLowerCase()&&(u=u.toUpperCase()))){i=!0,o=-1,s=0;continue}return d(h,String(e),a,t)}a=!1,-1<(s=(u=l(u,t,10,h.s)).indexOf("."))?u=u.replace(".",""):s=u.length}for(o=0;48===u.charCodeAt(o);o++);for(c=u.length;48===u.charCodeAt(--c););if(u=u.slice(o,++c)){if(c-=o,a&&T.DEBUG&&15<c&&(V<e||e!==F(e)))throw Error(U+h.s*e);if((s=s-o-1)>E)h.c=h.e=null;else if(s<_)h.c=[h.e=0];else{if(h.e=s,h.c=[],o=(s+1)%14,s<0&&(o+=14),o<c){for(o&&h.c.push(+u.slice(0,o)),c-=14;o<c;)h.c.push(+u.slice(o,o+=14));o=14-(u=u.slice(o)).length}else o-=c;for(;o--;u+="0");h.c.push(+u)}}else h.c=[h.e=0]}function s(e,t,r,n){var i,s,o,a;if(null==r?r=v:Y(r,0,8),!e.c)return e.toString();if(i=e.c[0],s=e.e,null==t)a=$(e.c),a=1==n||2==n&&(s<=y||w<=s)?J(a,s):Q(a,s,"0");else if(r=(e=k(new T(e),t,r)).e,o=(a=$(e.c)).length,1==n||2==n&&(t<=r||r<=y)){for(;o<t;a+="0",o++);a=J(a,r)}else if(t-=s,a=Q(a,r,"0"),o<r+1){if(0<--t)for(a+=".";t--;a+="0");}else if(0<(t+=r-o))for(r+1==o&&(a+=".");t--;a+="0");return e.s<0&&i?"-"+a:a}function R(e,t){for(var r,n=1,i=new T(e[0]);n<e.length;n++){if(!(r=new T(e[n])).s){i=r;break}t.call(i,r)&&(i=r)}return i}function P(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];10<=i;i/=10,n++);return(r=n+14*r-1)>E?e.c=e.e=null:r<_?e.c=[e.e=0]:(e.e=r,e.c=t),e}function k(e,t,r,n){var i,s,o,a,c,u,h,l=e.c,d=q;if(l){e:{for(i=1,a=l[0];10<=a;a/=10,i++);if((s=t-i)<0)s+=14,o=t,h=(c=l[u=0])/d[i-o-1]%10|0;else if((u=L((s+1)/14))>=l.length){if(!n)break e;for(;l.length<=u;l.push(0));c=h=0,o=(s%=14)-14+(i=1)}else{for(c=a=l[u],i=1;10<=a;a/=10,i++);h=(o=(s%=14)-14+i)<0?0:c/d[i-o-1]%10|0}if(n=n||t<0||null!=l[u+1]||(o<0?c:c%d[i-o-1]),n=r<4?(h||n)&&(0==r||r==(e.s<0?3:2)):5<h||5==h&&(4==r||n||6==r&&(0<s?0<o?c/d[i-o]:0:l[u-1])%10&1||r==(e.s<0?8:7)),t<1||!l[0])return l.length=0,n?(t-=e.e+1,l[0]=d[(14-t%14)%14],e.e=-t||0):l[0]=e.e=0,e;if(0==s?(l.length=u,a=1,u--):(l.length=u+1,a=d[14-s],l[u]=0<o?F(c/d[i-o]%d[o])*a:0),n)for(;;){if(0==u){for(s=1,o=l[0];10<=o;o/=10,s++);for(o=l[0]+=a,a=1;10<=o;o/=10,a++);s!=a&&(e.e++,l[0]==j&&(l[0]=1));break}if(l[u]+=a,l[u]!=j)break;l[u--]=0,a=1}for(s=l.length;0===l[--s];l.pop());}e.e>E?e.c=e.e=null:e.e<_&&(e.c=[e.e=0])}return e}function O(e){var t,r=e.e;return null===r?e.toString():(t=$(e.c),t=r<=y||w<=r?J(t,r):Q(t,r,"0"),e.s<0?"-"+t:t)}return T.clone=e,T.ROUND_UP=0,T.ROUND_DOWN=1,T.ROUND_CEIL=2,T.ROUND_FLOOR=3,T.ROUND_HALF_UP=4,T.ROUND_HALF_DOWN=5,T.ROUND_HALF_EVEN=6,T.ROUND_HALF_CEIL=7,T.ROUND_HALF_FLOOR=8,T.EUCLID=9,T.config=T.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(K+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(Y(r=e[t],0,H,t),b=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(Y(r=e[t],0,8,t),v=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(Y(r[0],-H,0,t),Y(r[1],0,H,t),y=r[0],w=r[1]):(Y(r,-H,H,t),y=-(w=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)Y(r[0],-H,-1,t),Y(r[1],1,H,t),_=r[0],E=r[1];else{if(Y(r,-H,H,t),!r)throw Error(K+t+" cannot be zero: "+r);_=-(E=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(K+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw S=!r,Error(K+"crypto unavailable");S=r}else S=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(Y(r=e[t],0,9,t),i=r),e.hasOwnProperty(t="POW_PRECISION")&&(Y(r=e[t],0,H,t),C=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(K+t+" not an object: "+r);A=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(K+t+" invalid: "+r);I=r}}return{DECIMAL_PLACES:b,ROUNDING_MODE:v,EXPONENTIAL_AT:[y,w],RANGE:[_,E],CRYPTO:S,MODULO_MODE:i,POW_PRECISION:C,FORMAT:A,ALPHABET:I}},T.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!T.DEBUG)return!0;var t,r,n=e.c,i=e.e,s=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===s||-1===s)&&-H<=i&&i<=H&&i===F(i))if(0!==n[0]){if((t=(i+1)%14)<1&&(t+=14),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||j<=r||r!==F(r))break e;if(0!==r)return!0}}else if(0===i&&1===n.length)return!0}else if(null===n&&null===i&&(null===s||1===s||-1===s))return!0;throw Error(K+"Invalid BigNumber: "+e)},T.maximum=T.max=function(){return R(arguments,n.lt)},T.minimum=T.min=function(){return R(arguments,n.gt)},T.random=(r=9007199254740992,u=Math.random()*r&2097151?function(){return F(Math.random()*r)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,n,i,s,o=0,a=[],c=new T(p);if(null==e?e=b:Y(e,0,H),i=L(e/14),S)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));o<i;)9e15<=(s=131072*t[o]+(t[o+1]>>>11))?(r=crypto.getRandomValues(new Uint32Array(2)),t[o]=r[0],t[o+1]=r[1]):(a.push(s%1e14),o+=2);o=i/2}else{if(!crypto.randomBytes)throw S=!1,Error(K+"crypto unavailable");for(t=crypto.randomBytes(i*=7);o<i;)9e15<=(s=281474976710656*(31&t[o])+1099511627776*t[o+1]+4294967296*t[o+2]+16777216*t[o+3]+(t[o+4]<<16)+(t[o+5]<<8)+t[o+6])?crypto.randomBytes(7).copy(t,o):(a.push(s%1e14),o+=7);o=i/7}if(!S)for(;o<i;)(s=u())<9e15&&(a[o++]=s%1e14);for(e%=14,(i=a[--o])&&e&&(a[o]=F(i/(s=q[14-e]))*s);0===a[o];a.pop(),o--);if(o<0)a=[n=0];else{for(n=-1;0===a[0];a.splice(0,1),n-=14);for(o=1,s=a[0];10<=s;s/=10,o++);o<14&&(n-=14-o)}return c.e=n,c.c=a,c}),T.sum=function(){for(var e=1,t=arguments,r=new T(t[0]);e<t.length;)r=r.plus(t[e++]);return r},m="0123456789",l=function(e,t,r,n,i){var s,o,a,c,u,h,l,d,f=e.indexOf("."),p=b,y=v;for(0<=f&&(c=C,C=0,e=e.replace(".",""),h=(d=new T(t)).pow(e.length-f),C=c,d.c=x(Q($(h.c),h.e,"0"),10,r,m),d.e=d.c.length),a=c=(l=x(e,t,r,i?(s=I,m):(s=m,I))).length;0==l[--c];l.pop());if(!l[0])return s.charAt(0);if(f<0?--a:(h.c=l,h.e=a,h.s=n,l=(h=g(h,d,p,y,r)).c,u=h.r,a=h.e),f=l[o=a+p+1],c=r/2,u=u||o<0||null!=l[o+1],u=y<4?(null!=f||u)&&(0==y||y==(h.s<0?3:2)):c<f||f==c&&(4==y||u||6==y&&1&l[o-1]||y==(h.s<0?8:7)),o<1||!l[0])e=u?Q(s.charAt(1),-p,s.charAt(0)):s.charAt(0);else{if(l.length=o,u)for(--r;++l[--o]>r;)l[o]=0,o||(++a,l=[1].concat(l));for(c=l.length;!l[--c];);for(f=0,e="";f<=c;e+=s.charAt(l[f++]));e=Q(e,a,s.charAt(0))}return e},g=function(e,t,r,n,i){var s,o,a,c,u,h,l,d,f,p,y,g,m,b,v,w,_,E=e.s==t.s?1:-1,S=e.c,C=t.c;if(!(S&&S[0]&&C&&C[0]))return new T(e.s&&t.s&&(S?!C||S[0]!=C[0]:C)?S&&0==S[0]||!C?0*E:E/0:NaN);for(f=(d=new T(E)).c=[],E=r+(o=e.e-t.e)+1,i||(i=j,o=G(e.e/14)-G(t.e/14),E=E/14|0),a=0;C[a]==(S[a]||0);a++);if(C[a]>(S[a]||0)&&o--,E<0)f.push(1),c=!0;else{for(b=S.length,w=C.length,E+=2,1<(u=F(i/(C[a=0]+1)))&&(C=M(C,u,i),S=M(S,u,i),w=C.length,b=S.length),m=w,y=(p=S.slice(0,w)).length;y<w;p[y++]=0);_=C.slice(),_=[0].concat(_),v=C[0],C[1]>=i/2&&v++;do{if(u=0,(s=D(C,p,w,y))<0){if(g=p[0],w!=y&&(g=g*i+(p[1]||0)),1<(u=F(g/v)))for(l=(h=M(C,u=i<=u?i-1:u,i)).length,y=p.length;1==D(h,p,l,y);)u--,B(h,w<l?_:C,l,i),l=h.length,s=1;else 0==u&&(s=u=1),l=(h=C.slice()).length;if(B(p,h=l<y?[0].concat(h):h,y,i),y=p.length,-1==s)for(;D(C,p,w,y)<1;)u++,B(p,w<y?_:C,y,i),y=p.length}else 0===s&&(u++,p=[0])}while(f[a++]=u,p[0]?p[y++]=S[m]||0:(p=[S[m]],y=1),(m++<b||null!=p[0])&&E--);c=null!=p[0],f[0]||f.splice(0,1)}if(i==j){for(a=1,E=f[0];10<=E;E/=10,a++);k(d,r+(d.e=a+14*o-1)+1,n,c)}else d.e=o,d.r=+c;return d},o=/^(-?)0([xbo])(?=\w[\w.]*$)/i,a=/^([^.]+)\.$/,c=/^\.([^.]+)$/,h=/^-?(Infinity|NaN)$/,f=/^\s*\+(?=[\w.])|^\s+|\s+$/g,d=function(e,t,r,n){var i,s=r?t:t.replace(f,"");if(h.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!r&&(s=s.replace(o,function(e,t,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?e:t}),n&&(i=n,s=s.replace(a,"$1").replace(c,"0.$1")),t!=s))return new T(s,i);if(T.DEBUG)throw Error(K+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},n.absoluteValue=n.abs=function(){var e=new T(this);return e.s<0&&(e.s=1),e},n.comparedTo=function(e,t){return W(this,new T(e,t))},n.decimalPlaces=n.dp=function(e,t){var r,n;if(null!=e)return Y(e,0,H),null==t?t=v:Y(t,0,8),k(new T(this),e+this.e+1,t);if(!(t=this.c))return null;if(r=14*((n=t.length-1)-G(this.e/14)),n=t[n])for(;n%10==0;n/=10,r--);return r=r<0?0:r},n.dividedBy=n.div=function(e,t){return g(this,new T(e,t),b,v)},n.dividedToIntegerBy=n.idiv=function(e,t){return g(this,new T(e,t),0,1)},n.exponentiatedBy=n.pow=function(e,t){var r,n,i,s,o,a,c,u,h=this;if((e=new T(e)).c&&!e.isInteger())throw Error(K+"Exponent not an integer: "+O(e));if(null!=t&&(t=new T(t)),o=14<e.e,!h.c||!h.c[0]||1==h.c[0]&&!h.e&&1==h.c.length||!e.c||!e.c[0])return u=new T(Math.pow(+O(h),o?2-X(e):+O(e))),t?u.mod(t):u;if(a=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new T(NaN);(n=!a&&h.isInteger()&&t.isInteger())&&(h=h.mod(t))}else{if(9<e.e&&(0<h.e||h.e<-1||(0==h.e?1<h.c[0]||o&&24e7<=h.c[1]:h.c[0]<8e13||o&&h.c[0]<=9999975e7)))return s=h.s<0&&X(e)?-0:0,-1<h.e&&(s=1/s),new T(a?1/s:s);C&&(s=L(C/14+2))}for(c=o?(r=new T(.5),a&&(e.s=1),X(e)):(i=Math.abs(+O(e)))%2,u=new T(p);;){if(c){if(!(u=u.times(h)).c)break;s?u.c.length>s&&(u.c.length=s):n&&(u=u.mod(t))}if(i){if(0===(i=F(i/2)))break;c=i%2}else if(k(e=e.times(r),e.e+1,1),14<e.e)c=X(e);else{if(0==(i=+O(e)))break;c=i%2}h=h.times(h),s?h.c&&h.c.length>s&&(h.c.length=s):n&&(h=h.mod(t))}return n?u:(a&&(u=p.div(u)),t?u.mod(t):s?k(u,C,v,void 0):u)},n.integerValue=function(e){var t=new T(this);return null==e?e=v:Y(e,0,8),k(t,t.e+1,e)},n.isEqualTo=n.eq=function(e,t){return 0===W(this,new T(e,t))},n.isFinite=function(){return!!this.c},n.isGreaterThan=n.gt=function(e,t){return 0<W(this,new T(e,t))},n.isGreaterThanOrEqualTo=n.gte=function(e,t){return 1===(t=W(this,new T(e,t)))||0===t},n.isInteger=function(){return!!this.c&&G(this.e/14)>this.c.length-2},n.isLessThan=n.lt=function(e,t){return W(this,new T(e,t))<0},n.isLessThanOrEqualTo=n.lte=function(e,t){return-1===(t=W(this,new T(e,t)))||0===t},n.isNaN=function(){return!this.s},n.isNegative=function(){return this.s<0},n.isPositive=function(){return 0<this.s},n.isZero=function(){return!!this.c&&0==this.c[0]},n.minus=function(e,t){var r,n,i,s,o=this,a=o.s;if(t=(e=new T(e,t)).s,!a||!t)return new T(NaN);if(a!=t)return e.s=-t,o.plus(e);var c=o.e/14,u=e.e/14,h=o.c,l=e.c;if(!c||!u){if(!h||!l)return h?(e.s=-t,e):new T(l?o:NaN);if(!h[0]||!l[0])return l[0]?(e.s=-t,e):new T(h[0]?o:3==v?-0:0)}if(c=G(c),u=G(u),h=h.slice(),a=c-u){for((i=(s=a<0)?(a=-a,h):(u=c,l)).reverse(),t=a;t--;i.push(0));i.reverse()}else for(n=(s=(a=h.length)<(t=l.length))?a:t,a=t=0;t<n;t++)if(h[t]!=l[t]){s=h[t]<l[t];break}if(s&&(i=h,h=l,l=i,e.s=-e.s),0<(t=(n=l.length)-(r=h.length)))for(;t--;h[r++]=0);for(t=j-1;a<n;){if(h[--n]<l[n]){for(r=n;r&&!h[--r];h[r]=t);--h[r],h[n]+=j}h[n]-=l[n]}for(;0==h[0];h.splice(0,1),--u);return h[0]?P(e,h,u):(e.s=3==v?-1:1,e.c=[e.e=0],e)},n.modulo=n.mod=function(e,t){var r,n=this;return e=new T(e,t),!n.c||!e.s||e.c&&!e.c[0]?new T(NaN):!e.c||n.c&&!n.c[0]?new T(n):(9==i?(t=e.s,e.s=1,r=g(n,e,0,3),e.s=t,r.s*=t):r=g(n,e,0,i),(e=n.minus(r.times(e))).c[0]||1!=i||(e.s=n.s),e)},n.multipliedBy=n.times=function(e,t){var r,n,i,s,o,a,c,u,h,l,d,f=this,p=f.c,y=(e=new T(e,t)).c;if(!(p&&y&&p[0]&&y[0]))return!f.s||!e.s||p&&!p[0]&&!y||y&&!y[0]&&!p?e.c=e.e=e.s=null:(e.s*=f.s,p&&y?(e.c=[0],e.e=0):e.c=e.e=null),e;for(t=G(f.e/14)+G(e.e/14),e.s*=f.s,(a=p.length)<(f=y.length)&&(d=p,p=y,y=d,n=a,a=f,f=n),n=a+f,d=[];n--;d.push(0));for(n=f;0<=--n;){for(h=y[n]%1e7,l=y[n]/1e7|(r=0),i=n+(s=a);n<i;)r=((c=h*(c=p[--s]%1e7)+(o=l*c+(u=p[s]/1e7|0)*h)%1e7*1e7+d[i]+r)/1e14|0)+(o/1e7|0)+l*u,d[i--]=c%1e14;d[i]=r}return r?++t:d.splice(0,1),P(e,d,t)},n.negated=function(){var e=new T(this);return e.s=-e.s||null,e},n.plus=function(e,t){var r,n=this,i=n.s;if(t=(e=new T(e,t)).s,!i||!t)return new T(NaN);if(i!=t)return e.s=-t,n.minus(e);var s=n.e/14,o=e.e/14,a=n.c,c=e.c;if(!s||!o){if(!a||!c)return new T(i/0);if(!a[0]||!c[0])return c[0]?e:new T(a[0]?n:0*i)}if(s=G(s),o=G(o),a=a.slice(),i=s-o){for((r=0<i?(o=s,c):(i=-i,a)).reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(t=c.length)<0&&(r=c,c=a,a=r,t=i),i=0;t;)i=(a[--t]=a[t]+c[t]+i)/j|0,a[t]=j===a[t]?0:a[t]%j;return i&&(a=[i].concat(a),++o),P(e,a,o)},n.precision=n.sd=function(e,t){var r,n;if(null!=e&&e!==!!e)return Y(e,1,H),null==t?t=v:Y(t,0,8),k(new T(this),e,t);if(!(t=this.c))return null;if(r=14*(n=t.length-1)+1,n=t[n]){for(;n%10==0;n/=10,r--);for(n=t[0];10<=n;n/=10,r++);}return r=e&&this.e+1>r?this.e+1:r},n.shiftedBy=function(e){return Y(e,-9007199254740991,V),this.times("1e"+e)},n.squareRoot=n.sqrt=function(){var e,t,r,n,i,s=this,o=s.c,a=s.s,c=s.e,u=b+4,h=new T("0.5");if(1!==a||!o||!o[0])return new T(!a||a<0&&(!o||o[0])?NaN:o?s:1/0);if((r=0==(a=Math.sqrt(+O(s)))||a==1/0?(((t=$(o)).length+c)%2==0&&(t+="0"),a=Math.sqrt(+t),c=G((c+1)/2)-(c<0||c%2),new T(t=a==1/0?"5e"+c:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+c)):new T(a+"")).c[0])for((a=(c=r.e)+u)<3&&(a=0);;)if(i=r,r=h.times(i.plus(g(s,i,u,1))),$(i.c).slice(0,a)===(t=$(r.c)).slice(0,a)){if(r.e<c&&--a,"9999"!=(t=t.slice(a-3,a+1))&&(n||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(k(r,r.e+b+2,1),e=!r.times(r).eq(s));break}if(!n&&(k(i,i.e+b+2,0),i.times(i).eq(s))){r=i;break}u+=4,a+=4,n=1}return k(r,r.e+b+1,v,e)},n.toExponential=function(e,t){return null!=e&&(Y(e,0,H),e++),s(this,e,t,1)},n.toFixed=function(e,t){return null!=e&&(Y(e,0,H),e=e+this.e+1),s(this,e,t)},n.toFormat=function(e,t,r){var n;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=A;else if("object"!=typeof r)throw Error(K+"Argument not an object: "+r);if(n=this.toFixed(e,t),this.c){var i,s=n.split("."),o=+r.groupSize,e=+r.secondaryGroupSize,a=r.groupSeparator||"",c=s[0],t=s[1],s=this.s<0,u=s?c.slice(1):c,h=u.length;if(e&&(i=o,o=e,h-=e=i),0<o&&0<h){for(c=u.substr(0,i=h%o||o);i<h;i+=o)c+=a+u.substr(i,o);0<e&&(c+=a+u.slice(i)),s&&(c="-"+c)}n=t?c+(r.decimalSeparator||"")+((e=+r.fractionGroupSize)?t.replace(new RegExp("\\d{"+e+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):t):c}return(r.prefix||"")+n+(r.suffix||"")},n.toFraction=function(e){var t,r,n,i,s,o,a,c,u,h,l=this,d=l.c;if(null!=e&&(!(o=new T(e)).isInteger()&&(o.c||1!==o.s)||o.lt(p)))throw Error(K+"Argument "+(o.isInteger()?"out of range: ":"not an integer: ")+O(o));if(!d)return new T(l);for(t=new T(p),c=r=new T(p),n=a=new T(p),h=$(d),s=t.e=h.length-l.e-1,t.c[0]=q[(d=s%14)<0?14+d:d],e=!e||0<o.comparedTo(t)?0<s?t:c:o,d=E,E=1/0,o=new T(h),a.c[0]=0;u=g(o,t,0,1),1!=(i=r.plus(u.times(n))).comparedTo(e);)r=n,n=i,c=a.plus(u.times(i=c)),a=i,t=o.minus(u.times(i=t)),o=i;return i=g(e.minus(r),n,0,1),a=a.plus(i.times(c)),r=r.plus(i.times(n)),a.s=c.s=l.s,l=g(c,n,s*=2,v).minus(l).abs().comparedTo(g(a,r,s,v).minus(l).abs())<1?[c,n]:[a,r],E=d,l},n.toNumber=function(){return+O(this)},n.toPrecision=function(e,t){return null!=e&&Y(e,1,H),s(this,e,t,2)},n.toString=function(e){var t,r=this,n=r.s,i=r.e;return null===i?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(t=null==e?i<=y||w<=i?J($(r.c),i):Q($(r.c),i,"0"):10===e?Q($((r=k(new T(r),b+i+1,v)).c),r.e,"0"):(Y(e,2,I.length,"Base"),l(Q($(r.c),i,"0"),10,e,n,!0)),n<0&&r.c[0]&&(t="-"+t)),t},n.valueOf=n.toJSON=function(){return O(this)},n._isBigNumber=!0,null!=t&&T.set(t),T;function M(e,t,r){var n,i,s,o=0,a=e.length,c=t%z,u=t/z|0;for(e=e.slice();a--;)o=((i=c*(i=e[a]%z)+(n=u*i+(s=e[a]/z|0)*c)%z*z+o)/r|0)+(n/z|0)+u*s,e[a]=i%r;return e=o?[o].concat(e):e}function D(e,t,r,n){var i,s;if(r!=n)s=n<r?1:-1;else for(i=s=0;i<r;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function B(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&1<e.length;e.splice(0,1));}function x(e,t,r,n){for(var i,s,o=[0],a=0,c=e.length;a<c;){for(s=o.length;s--;o[s]*=t);for(o[0]+=n.indexOf(e.charAt(a++)),i=0;i<o.length;i++)o[i]>r-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/r|0,o[i]%=r)}return o.reverse()}}()).default=e.BigNumber=e,void 0===(i=function(){return e}.call(r,n,r,t))||(t.exports=i)}()},9668:(e,t,r)=>{"use strict";const h=r(48764)["Buffer"],n=Symbol.for("BufferList");function i(e){if(!(this instanceof i))return new i(e);i._init.call(this,e)}i._init=function(e){Object.defineProperty(this,n,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},i.prototype._new=function(e){return new i(e)},i.prototype._offset=function(t){if(0===t)return[0,0];let r=0;for(let e=0;e<this._bufs.length;e++){var n=r+this._bufs[e].length;if(t<n||e===this._bufs.length-1)return[e,t-r];r=n}},i.prototype._reverseOffset=function(e){var t=e[0];let r=e[1];for(let e=0;e<t;e++)r+=this._bufs[e].length;return r},i.prototype.get=function(e){if(!(e>this.length||e<0)){e=this._offset(e);return this._bufs[e[0]][e[1]]}},i.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},i.prototype.copy=function(t,e,r,n){if(("number"!=typeof n||n>this.length)&&(n=this.length),(r="number"!=typeof r||r<0?0:r)>=this.length)return t||h.alloc(0);if(n<=0)return t||h.alloc(0);var i=!!t,s=this._offset(r),o=n-r;let a=o,c=i&&e||0,u=s[1];if(0===r&&n===this.length){if(!i)return 1===this._bufs.length?this._bufs[0]:h.concat(this._bufs,this.length);for(let e=0;e<this._bufs.length;e++)this._bufs[e].copy(t,c),c+=this._bufs[e].length;return t}if(a<=this._bufs[s[0]].length-u)return i?this._bufs[s[0]].copy(t,e,u,u+a):this._bufs[s[0]].slice(u,u+a);i||(t=h.allocUnsafe(o));for(let e=s[0];e<this._bufs.length;e++){const r=this._bufs[e].length-u;if(!(a>r)){this._bufs[e].copy(t,c,u,u+a),c+=r;break}this._bufs[e].copy(t,c,u),c+=r,a-=r,u=u&&0}return t.length>c?t.slice(0,c):t},i.prototype.shallowSlice=function(e,t){if(t="number"!=typeof t?this.length:t,(e=e||0)<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();const r=this._offset(e),n=this._offset(t),i=this._bufs.slice(r[0],n[0]+1);return 0===n[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),0!==r[1]&&(i[0]=i[0].slice(r[1])),this._new(i)},i.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},i.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},i.prototype.duplicate=function(){const t=this._new();for(let e=0;e<this._bufs.length;e++)t.append(this._bufs[e]);return t},i.prototype.append=function(t){if(null==t)return this;if(t.buffer)this._appendBuffer(h.from(t.buffer,t.byteOffset,t.byteLength));else if(Array.isArray(t))for(let e=0;e<t.length;e++)this.append(t[e]);else if(this._isBufferList(t))for(let e=0;e<t._bufs.length;e++)this.append(t._bufs[e]);else"number"==typeof t&&(t=t.toString()),this._appendBuffer(h.from(t));return this},i.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},i.prototype.indexOf=function(e,t,r){if(void 0===r&&"string"==typeof t&&(r=t,t=void 0),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=h.from([e]):"string"==typeof e?e=h.from(e,r):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=h.from(e.buffer,e.byteOffset,e.byteLength):h.isBuffer(e)||(e=h.from(e)),t=Number(t||0),(t=(t=isNaN(t)?0:t)<0?this.length+t:t)<0&&(t=0),0===e.length)return t>this.length?this.length:t;t=this._offset(t);let n=t[0],i=t[1];for(;n<this._bufs.length;n++){const s=this._bufs[n];for(;i<s.length;)if(s.length-i>=e.length){const r=s.indexOf(e,i);if(-1!==r)return this._reverseOffset([n,r]);i=s.length-e.length+1}else{const s=this._reverseOffset([n,i]);if(this._match(s,e))return s;i++}i=0}return-1},i.prototype._match=function(t,r){if(this.length-t<r.length)return!1;for(let e=0;e<r.length;e++)if(this.get(t+e)!==r[e])return!1;return!0},function(){const t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const e in t)!function(r){i.prototype[r]=null===t[r]?function(e,t){return this.slice(e,e+t)[r](0,t)}:function(e=0){return this.slice(e,e+t[r])[r](0)}}(e)}(),i.prototype._isBufferList=function(e){return e instanceof i||i.isBufferList(e)},i.isBufferList=function(e){return null!=e&&e[n]},e.exports=i},13550:function(S,e,C){!function(e){"use strict";function y(e,t){if(!e)throw new Error(t||"Assertion failed")}function t(e,t){e.super_=t;function r(){}r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function g(e,t,r){if(g.isBN(e))return e;this.negative=0,this.words=null,this.length=0,(this.red=null)!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var r;"object"==typeof S?S.exports=g:e.BN=g,(g.BN=g).wordSize=26;try{r=("undefined"!=typeof window&&void 0!==window.Buffer?window:C(46601)).Buffer}catch(e){}function i(e,t){t=e.charCodeAt(t);return 65<=t&&t<=70?t-55:97<=t&&t<=102?t-87:t-48&15}function a(e,t,r){var n=i(e,r);return t<=r-1&&(n|=i(e,r-1)<<4),n}function l(e,t,r,n){for(var i=0,s=Math.min(e.length,r),o=t;o<s;o++){var a=e.charCodeAt(o)-48;i*=n,i+=49<=a?a-49+10:17<=a?a-17+10:a}return i}g.isBN=function(e){return e instanceof g||null!==e&&"object"==typeof e&&e.constructor.wordSize===g.wordSize&&Array.isArray(e.words)},g.max=function(e,t){return 0<e.cmp(t)?e:t},g.min=function(e,t){return e.cmp(t)<0?e:t},g.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);y((t="hex"===t?16:t)===(0|t)&&2<=t&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<e.length&&(16===t?this._parseHex(e,n,r):(this._parseBase(e,t,n),"le"===r&&this._initArray(this.toArray(),t,r)))},g.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(y(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},g.prototype._initArray=function(e,t,r){if(y("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s,o=0;if("be"===r)for(n=e.length-1,i=0;0<=n;n-=3)s=e[n]|e[n-1]<<8|e[n-2]<<16,this.words[i]|=s<<o&67108863,this.words[i+1]=s>>>26-o&67108863,26<=(o+=24)&&(o-=26,i++);else if("le"===r)for(i=n=0;n<e.length;n+=3)s=e[n]|e[n+1]<<8|e[n+2]<<16,this.words[i]|=s<<o&67108863,this.words[i+1]=s>>>26-o&67108863,26<=(o+=24)&&(o-=26,i++);return this.strip()},g.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=e.length-1;t<=n;n-=2)i=a(e,t,n)<<s,this.words[o]|=67108863&i,18<=s?(s-=18,this.words[o+=1]|=i>>>26):s+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=a(e,t,n)<<s,this.words[o]|=67108863&i,18<=s?(s-=18,this.words[o+=1]|=i>>>26):s+=8;this.strip()},g.prototype._parseBase=function(e,t,r){this.words=[0];for(var n=0,i=this.length=1;i<=67108863;i*=t)n++;for(var i=i/t|0,s=e.length-r,o=s%--n,a=Math.min(s,s-o)+r,c=0,u=r;u<a;u+=n)c=l(e,u,u+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!=o){for(var h=1,c=l(e,u,e.length,t),u=0;u<o;u++)h*=t;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},g.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},g.prototype.clone=function(){var e=new g(null);return this.copy(e),e},g.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},g.prototype.strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},g.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},g.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function n(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0,n=(r.length=n)-1|0,i=(0|e.words[0])*(0|t.words[0]),s=i/67108864|0;r.words[0]=67108863&i;for(var o=1;o<n;o++){for(var a=s>>>26,c=67108863&s,u=Math.min(o,t.length-1),h=Math.max(0,o-e.length+1);h<=u;h++)a+=(i=(0|e.words[o-h|0])*(0|t.words[h])+c)/67108864|0,c=67108863&i;r.words[o]=0|c,s=0|a}return 0!==s?r.words[o]=0|s:r.length--,r.strip()}g.prototype.toString=function(e,t){if(t=0|t||1,16===(e=e||10)||"hex"===e){a="";for(var r=0,n=0,i=0;i<this.length;i++){var s=this.words[i],o=(16777215&(s<<r|n)).toString(16),a=0!=(n=s>>>24-r&16777215)||i!==this.length-1?d[6-o.length]+o+a:o+a;26<=(r+=2)&&(r-=26,i--)}for(0!==n&&(a=n.toString(16)+a);a.length%t!=0;)a="0"+a;return a=0!==this.negative?"-"+a:a}if(e===(0|e)&&2<=e&&e<=36){var c=f[e],u=p[e];a="";var h=this.clone();for(h.negative=0;!h.isZero();){var l=h.modn(u).toString(e);a=(h=h.idivn(u)).isZero()?l+a:d[c-l.length]+l+a}for(this.isZero()&&(a="0"+a);a.length%t!=0;)a="0"+a;return a=0!==this.negative?"-"+a:a}y(!1,"Base should be between 2 and 36")},g.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:2<this.length&&y(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},g.prototype.toJSON=function(){return this.toString(16)},g.prototype.toBuffer=function(e,t){return y(void 0!==r),this.toArrayLike(r,e,t)},g.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},g.prototype.toArrayLike=function(e,t,r){var n=this.byteLength(),i=r||Math.max(1,n);y(n<=i,"byte array longer than desired length"),y(0<i,"Requested array length <= 0"),this.strip();var s,o,t="le"===t,a=new e(i),c=this.clone();if(t){for(o=0;!c.isZero();o++)s=c.andln(255),c.iushrn(8),a[o]=s;for(;o<i;o++)a[o]=0}else{for(o=0;o<i-n;o++)a[o]=0;for(o=0;!c.isZero();o++)s=c.andln(255),c.iushrn(8),a[i-o-1]=s}return a},Math.clz32?g.prototype._countBits=function(e){return 32-Math.clz32(e)}:g.prototype._countBits=function(e){var t=e,e=0;return 4096<=t&&(e+=13,t>>>=13),64<=t&&(e+=7,t>>>=7),8<=t&&(e+=4,t>>>=4),2<=t&&(e+=2,t>>>=2),e+t},g.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,e=0;return 0==(8191&t)&&(e+=13,t>>>=13),0==(127&t)&&(e+=7,t>>>=7),0==(15&t)&&(e+=4,t>>>=4),0==(3&t)&&(e+=2,t>>>=2),0==(1&t)&&e++,e},g.prototype.bitLength=function(){var e=this.words[this.length-1],e=this._countBits(e);return 26*(this.length-1)+e},g.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},g.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},g.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},g.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},g.prototype.isNeg=function(){return 0!==this.negative},g.prototype.neg=function(){return this.clone().ineg()},g.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},g.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},g.prototype.ior=function(e){return y(0==(this.negative|e.negative)),this.iuor(e)},g.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},g.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},g.prototype.iuand=function(e){for(var t=this.length>e.length?e:this,r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},g.prototype.iand=function(e){return y(0==(this.negative|e.negative)),this.iuand(e)},g.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},g.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},g.prototype.iuxor=function(e){for(var t,r=this.length>e.length?(t=this,e):(t=e,this),n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},g.prototype.ixor=function(e){return y(0==(this.negative|e.negative)),this.iuxor(e)},g.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},g.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},g.prototype.inotn=function(e){y("number"==typeof e&&0<=e);var t=0|Math.ceil(e/26),e=e%26;this._expand(t),0<e&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return 0<e&&(this.words[r]=~this.words[r]&67108863>>26-e),this.strip()},g.prototype.notn=function(e){return this.clone().inotn(e)},g.prototype.setn=function(e,t){y("number"==typeof e&&0<=e);var r=e/26|0,e=e%26;return this._expand(1+r),this.words[r]=t?this.words[r]|1<<e:this.words[r]&~(1<<e),this.strip()},g.prototype.iadd=function(e){var t,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();for(var n=this.length>e.length?(r=this,e):(r=e,this),i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},g.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},g.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;for(var i=0<n?(r=this,e):(r=e,this),s=0,o=0;o<i.length;o++)s=(t=(0|r.words[o])-(0|i.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<r.length;o++)s=(t=(0|r.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},g.prototype.sub=function(e){return this.clone().isub(e)};var s=function(e,t,r){var n=e.words,i=t.words,s=r.words,o=0|n[0],a=8191&o,c=o>>>13,u=0|n[1],h=8191&u,l=u>>>13,d=0|n[2],f=8191&d,p=d>>>13,y=0|n[3],g=8191&y,m=y>>>13,b=0|n[4],v=8191&b,w=b>>>13,_=0|n[5],E=8191&_,S=_>>>13,C=0|n[6],A=8191&C,I=C>>>13,T=0|n[7],R=8191&T,P=T>>>13,k=0|n[8],O=8191&k,M=k>>>13,D=0|n[9],B=8191&D,x=D>>>13,N=0|i[0],L=8191&N,F=N>>>13,K=0|i[1],U=8191&K,j=K>>>13,V=0|i[2],q=8191&V,z=V>>>13,H=0|i[3],G=8191&H,$=H>>>13,W=0|i[4],Y=8191&W,X=W>>>13,J=0|i[5],Q=8191&J,Z=J>>>13,o=0|i[6],u=8191&o,d=o>>>13,y=0|i[7],b=8191&y,_=y>>>13,C=0|i[8],T=8191&C,k=C>>>13,n=0|i[9],D=8191&n,N=n>>>13;r.negative=e.negative^t.negative,r.length=19;var H=(0+Math.imul(a,L)|0)+((8191&(V=Math.imul(a,F)+Math.imul(c,L)|0))<<13)|0,ee=(Math.imul(c,F)+(V>>>13)|0)+(H>>>26)|0;H&=67108863;K=Math.imul(h,L),V=Math.imul(h,F)+Math.imul(l,L)|0,W=Math.imul(l,F),J=(ee+(K+Math.imul(a,U)|0)|0)+((8191&(V=(V+Math.imul(a,j)|0)+Math.imul(c,U)|0))<<13)|0;ee=((W+Math.imul(c,j)|0)+(V>>>13)|0)+(J>>>26)|0,J&=67108863,K=Math.imul(f,L),V=Math.imul(f,F)+Math.imul(p,L)|0,W=Math.imul(p,F),K=K+Math.imul(h,U)|0,V=(V+Math.imul(h,j)|0)+Math.imul(l,U)|0,W=W+Math.imul(l,j)|0;o=(ee+(K+Math.imul(a,q)|0)|0)+((8191&(V=(V+Math.imul(a,z)|0)+Math.imul(c,q)|0))<<13)|0;ee=((W+Math.imul(c,z)|0)+(V>>>13)|0)+(o>>>26)|0,o&=67108863,K=Math.imul(g,L),V=Math.imul(g,F)+Math.imul(m,L)|0,W=Math.imul(m,F),K=K+Math.imul(f,U)|0,V=(V+Math.imul(f,j)|0)+Math.imul(p,U)|0,W=W+Math.imul(p,j)|0,K=K+Math.imul(h,q)|0,V=(V+Math.imul(h,z)|0)+Math.imul(l,q)|0,W=W+Math.imul(l,z)|0;y=(ee+(K+Math.imul(a,G)|0)|0)+((8191&(V=(V+Math.imul(a,$)|0)+Math.imul(c,G)|0))<<13)|0;ee=((W+Math.imul(c,$)|0)+(V>>>13)|0)+(y>>>26)|0,y&=67108863,K=Math.imul(v,L),V=Math.imul(v,F)+Math.imul(w,L)|0,W=Math.imul(w,F),K=K+Math.imul(g,U)|0,V=(V+Math.imul(g,j)|0)+Math.imul(m,U)|0,W=W+Math.imul(m,j)|0,K=K+Math.imul(f,q)|0,V=(V+Math.imul(f,z)|0)+Math.imul(p,q)|0,W=W+Math.imul(p,z)|0,K=K+Math.imul(h,G)|0,V=(V+Math.imul(h,$)|0)+Math.imul(l,G)|0,W=W+Math.imul(l,$)|0;C=(ee+(K+Math.imul(a,Y)|0)|0)+((8191&(V=(V+Math.imul(a,X)|0)+Math.imul(c,Y)|0))<<13)|0;ee=((W+Math.imul(c,X)|0)+(V>>>13)|0)+(C>>>26)|0,C&=67108863,K=Math.imul(E,L),V=Math.imul(E,F)+Math.imul(S,L)|0,W=Math.imul(S,F),K=K+Math.imul(v,U)|0,V=(V+Math.imul(v,j)|0)+Math.imul(w,U)|0,W=W+Math.imul(w,j)|0,K=K+Math.imul(g,q)|0,V=(V+Math.imul(g,z)|0)+Math.imul(m,q)|0,W=W+Math.imul(m,z)|0,K=K+Math.imul(f,G)|0,V=(V+Math.imul(f,$)|0)+Math.imul(p,G)|0,W=W+Math.imul(p,$)|0,K=K+Math.imul(h,Y)|0,V=(V+Math.imul(h,X)|0)+Math.imul(l,Y)|0,W=W+Math.imul(l,X)|0;i=(ee+(K+Math.imul(a,Q)|0)|0)+((8191&(V=(V+Math.imul(a,Z)|0)+Math.imul(c,Q)|0))<<13)|0;ee=((W+Math.imul(c,Z)|0)+(V>>>13)|0)+(i>>>26)|0,i&=67108863,K=Math.imul(A,L),V=Math.imul(A,F)+Math.imul(I,L)|0,W=Math.imul(I,F),K=K+Math.imul(E,U)|0,V=(V+Math.imul(E,j)|0)+Math.imul(S,U)|0,W=W+Math.imul(S,j)|0,K=K+Math.imul(v,q)|0,V=(V+Math.imul(v,z)|0)+Math.imul(w,q)|0,W=W+Math.imul(w,z)|0,K=K+Math.imul(g,G)|0,V=(V+Math.imul(g,$)|0)+Math.imul(m,G)|0,W=W+Math.imul(m,$)|0,K=K+Math.imul(f,Y)|0,V=(V+Math.imul(f,X)|0)+Math.imul(p,Y)|0,W=W+Math.imul(p,X)|0,K=K+Math.imul(h,Q)|0,V=(V+Math.imul(h,Z)|0)+Math.imul(l,Q)|0,W=W+Math.imul(l,Z)|0;n=(ee+(K+Math.imul(a,u)|0)|0)+((8191&(V=(V+Math.imul(a,d)|0)+Math.imul(c,u)|0))<<13)|0;ee=((W+Math.imul(c,d)|0)+(V>>>13)|0)+(n>>>26)|0,n&=67108863,K=Math.imul(R,L),V=Math.imul(R,F)+Math.imul(P,L)|0,W=Math.imul(P,F),K=K+Math.imul(A,U)|0,V=(V+Math.imul(A,j)|0)+Math.imul(I,U)|0,W=W+Math.imul(I,j)|0,K=K+Math.imul(E,q)|0,V=(V+Math.imul(E,z)|0)+Math.imul(S,q)|0,W=W+Math.imul(S,z)|0,K=K+Math.imul(v,G)|0,V=(V+Math.imul(v,$)|0)+Math.imul(w,G)|0,W=W+Math.imul(w,$)|0,K=K+Math.imul(g,Y)|0,V=(V+Math.imul(g,X)|0)+Math.imul(m,Y)|0,W=W+Math.imul(m,X)|0,K=K+Math.imul(f,Q)|0,V=(V+Math.imul(f,Z)|0)+Math.imul(p,Q)|0,W=W+Math.imul(p,Z)|0,K=K+Math.imul(h,u)|0,V=(V+Math.imul(h,d)|0)+Math.imul(l,u)|0,W=W+Math.imul(l,d)|0;e=(ee+(K+Math.imul(a,b)|0)|0)+((8191&(V=(V+Math.imul(a,_)|0)+Math.imul(c,b)|0))<<13)|0;ee=((W+Math.imul(c,_)|0)+(V>>>13)|0)+(e>>>26)|0,e&=67108863,K=Math.imul(O,L),V=Math.imul(O,F)+Math.imul(M,L)|0,W=Math.imul(M,F),K=K+Math.imul(R,U)|0,V=(V+Math.imul(R,j)|0)+Math.imul(P,U)|0,W=W+Math.imul(P,j)|0,K=K+Math.imul(A,q)|0,V=(V+Math.imul(A,z)|0)+Math.imul(I,q)|0,W=W+Math.imul(I,z)|0,K=K+Math.imul(E,G)|0,V=(V+Math.imul(E,$)|0)+Math.imul(S,G)|0,W=W+Math.imul(S,$)|0,K=K+Math.imul(v,Y)|0,V=(V+Math.imul(v,X)|0)+Math.imul(w,Y)|0,W=W+Math.imul(w,X)|0,K=K+Math.imul(g,Q)|0,V=(V+Math.imul(g,Z)|0)+Math.imul(m,Q)|0,W=W+Math.imul(m,Z)|0,K=K+Math.imul(f,u)|0,V=(V+Math.imul(f,d)|0)+Math.imul(p,u)|0,W=W+Math.imul(p,d)|0,K=K+Math.imul(h,b)|0,V=(V+Math.imul(h,_)|0)+Math.imul(l,b)|0,W=W+Math.imul(l,_)|0;t=(ee+(K+Math.imul(a,T)|0)|0)+((8191&(V=(V+Math.imul(a,k)|0)+Math.imul(c,T)|0))<<13)|0;ee=((W+Math.imul(c,k)|0)+(V>>>13)|0)+(t>>>26)|0,t&=67108863,K=Math.imul(B,L),V=Math.imul(B,F)+Math.imul(x,L)|0,W=Math.imul(x,F),K=K+Math.imul(O,U)|0,V=(V+Math.imul(O,j)|0)+Math.imul(M,U)|0,W=W+Math.imul(M,j)|0,K=K+Math.imul(R,q)|0,V=(V+Math.imul(R,z)|0)+Math.imul(P,q)|0,W=W+Math.imul(P,z)|0,K=K+Math.imul(A,G)|0,V=(V+Math.imul(A,$)|0)+Math.imul(I,G)|0,W=W+Math.imul(I,$)|0,K=K+Math.imul(E,Y)|0,V=(V+Math.imul(E,X)|0)+Math.imul(S,Y)|0,W=W+Math.imul(S,X)|0,K=K+Math.imul(v,Q)|0,V=(V+Math.imul(v,Z)|0)+Math.imul(w,Q)|0,W=W+Math.imul(w,Z)|0,K=K+Math.imul(g,u)|0,V=(V+Math.imul(g,d)|0)+Math.imul(m,u)|0,W=W+Math.imul(m,d)|0,K=K+Math.imul(f,b)|0,V=(V+Math.imul(f,_)|0)+Math.imul(p,b)|0,W=W+Math.imul(p,_)|0,K=K+Math.imul(h,T)|0,V=(V+Math.imul(h,k)|0)+Math.imul(l,T)|0,W=W+Math.imul(l,k)|0;a=(ee+(K+Math.imul(a,D)|0)|0)+((8191&(V=(V+Math.imul(a,N)|0)+Math.imul(c,D)|0))<<13)|0;ee=((W+Math.imul(c,N)|0)+(V>>>13)|0)+(a>>>26)|0,a&=67108863,K=Math.imul(B,U),V=Math.imul(B,j)+Math.imul(x,U)|0,W=Math.imul(x,j),K=K+Math.imul(O,q)|0,V=(V+Math.imul(O,z)|0)+Math.imul(M,q)|0,W=W+Math.imul(M,z)|0,K=K+Math.imul(R,G)|0,V=(V+Math.imul(R,$)|0)+Math.imul(P,G)|0,W=W+Math.imul(P,$)|0,K=K+Math.imul(A,Y)|0,V=(V+Math.imul(A,X)|0)+Math.imul(I,Y)|0,W=W+Math.imul(I,X)|0,K=K+Math.imul(E,Q)|0,V=(V+Math.imul(E,Z)|0)+Math.imul(S,Q)|0,W=W+Math.imul(S,Z)|0,K=K+Math.imul(v,u)|0,V=(V+Math.imul(v,d)|0)+Math.imul(w,u)|0,W=W+Math.imul(w,d)|0,K=K+Math.imul(g,b)|0,V=(V+Math.imul(g,_)|0)+Math.imul(m,b)|0,W=W+Math.imul(m,_)|0,K=K+Math.imul(f,T)|0,V=(V+Math.imul(f,k)|0)+Math.imul(p,T)|0,W=W+Math.imul(p,k)|0;h=(ee+(K+Math.imul(h,D)|0)|0)+((8191&(V=(V+Math.imul(h,N)|0)+Math.imul(l,D)|0))<<13)|0;ee=((W+Math.imul(l,N)|0)+(V>>>13)|0)+(h>>>26)|0,h&=67108863,K=Math.imul(B,q),V=Math.imul(B,z)+Math.imul(x,q)|0,W=Math.imul(x,z),K=K+Math.imul(O,G)|0,V=(V+Math.imul(O,$)|0)+Math.imul(M,G)|0,W=W+Math.imul(M,$)|0,K=K+Math.imul(R,Y)|0,V=(V+Math.imul(R,X)|0)+Math.imul(P,Y)|0,W=W+Math.imul(P,X)|0,K=K+Math.imul(A,Q)|0,V=(V+Math.imul(A,Z)|0)+Math.imul(I,Q)|0,W=W+Math.imul(I,Z)|0,K=K+Math.imul(E,u)|0,V=(V+Math.imul(E,d)|0)+Math.imul(S,u)|0,W=W+Math.imul(S,d)|0,K=K+Math.imul(v,b)|0,V=(V+Math.imul(v,_)|0)+Math.imul(w,b)|0,W=W+Math.imul(w,_)|0,K=K+Math.imul(g,T)|0,V=(V+Math.imul(g,k)|0)+Math.imul(m,T)|0,W=W+Math.imul(m,k)|0;f=(ee+(K+Math.imul(f,D)|0)|0)+((8191&(V=(V+Math.imul(f,N)|0)+Math.imul(p,D)|0))<<13)|0;ee=((W+Math.imul(p,N)|0)+(V>>>13)|0)+(f>>>26)|0,f&=67108863,K=Math.imul(B,G),V=Math.imul(B,$)+Math.imul(x,G)|0,W=Math.imul(x,$),K=K+Math.imul(O,Y)|0,V=(V+Math.imul(O,X)|0)+Math.imul(M,Y)|0,W=W+Math.imul(M,X)|0,K=K+Math.imul(R,Q)|0,V=(V+Math.imul(R,Z)|0)+Math.imul(P,Q)|0,W=W+Math.imul(P,Z)|0,K=K+Math.imul(A,u)|0,V=(V+Math.imul(A,d)|0)+Math.imul(I,u)|0,W=W+Math.imul(I,d)|0,K=K+Math.imul(E,b)|0,V=(V+Math.imul(E,_)|0)+Math.imul(S,b)|0,W=W+Math.imul(S,_)|0,K=K+Math.imul(v,T)|0,V=(V+Math.imul(v,k)|0)+Math.imul(w,T)|0,W=W+Math.imul(w,k)|0;g=(ee+(K+Math.imul(g,D)|0)|0)+((8191&(V=(V+Math.imul(g,N)|0)+Math.imul(m,D)|0))<<13)|0;ee=((W+Math.imul(m,N)|0)+(V>>>13)|0)+(g>>>26)|0,g&=67108863,K=Math.imul(B,Y),V=Math.imul(B,X)+Math.imul(x,Y)|0,W=Math.imul(x,X),K=K+Math.imul(O,Q)|0,V=(V+Math.imul(O,Z)|0)+Math.imul(M,Q)|0,W=W+Math.imul(M,Z)|0,K=K+Math.imul(R,u)|0,V=(V+Math.imul(R,d)|0)+Math.imul(P,u)|0,W=W+Math.imul(P,d)|0,K=K+Math.imul(A,b)|0,V=(V+Math.imul(A,_)|0)+Math.imul(I,b)|0,W=W+Math.imul(I,_)|0,K=K+Math.imul(E,T)|0,V=(V+Math.imul(E,k)|0)+Math.imul(S,T)|0,W=W+Math.imul(S,k)|0;v=(ee+(K+Math.imul(v,D)|0)|0)+((8191&(V=(V+Math.imul(v,N)|0)+Math.imul(w,D)|0))<<13)|0;ee=((W+Math.imul(w,N)|0)+(V>>>13)|0)+(v>>>26)|0,v&=67108863,K=Math.imul(B,Q),V=Math.imul(B,Z)+Math.imul(x,Q)|0,W=Math.imul(x,Z),K=K+Math.imul(O,u)|0,V=(V+Math.imul(O,d)|0)+Math.imul(M,u)|0,W=W+Math.imul(M,d)|0,K=K+Math.imul(R,b)|0,V=(V+Math.imul(R,_)|0)+Math.imul(P,b)|0,W=W+Math.imul(P,_)|0,K=K+Math.imul(A,T)|0,V=(V+Math.imul(A,k)|0)+Math.imul(I,T)|0,W=W+Math.imul(I,k)|0;E=(ee+(K+Math.imul(E,D)|0)|0)+((8191&(V=(V+Math.imul(E,N)|0)+Math.imul(S,D)|0))<<13)|0;ee=((W+Math.imul(S,N)|0)+(V>>>13)|0)+(E>>>26)|0,E&=67108863,K=Math.imul(B,u),V=Math.imul(B,d)+Math.imul(x,u)|0,W=Math.imul(x,d),K=K+Math.imul(O,b)|0,V=(V+Math.imul(O,_)|0)+Math.imul(M,b)|0,W=W+Math.imul(M,_)|0,K=K+Math.imul(R,T)|0,V=(V+Math.imul(R,k)|0)+Math.imul(P,T)|0,W=W+Math.imul(P,k)|0;A=(ee+(K+Math.imul(A,D)|0)|0)+((8191&(V=(V+Math.imul(A,N)|0)+Math.imul(I,D)|0))<<13)|0;ee=((W+Math.imul(I,N)|0)+(V>>>13)|0)+(A>>>26)|0,A&=67108863,K=Math.imul(B,b),V=Math.imul(B,_)+Math.imul(x,b)|0,W=Math.imul(x,_),K=K+Math.imul(O,T)|0,V=(V+Math.imul(O,k)|0)+Math.imul(M,T)|0,W=W+Math.imul(M,k)|0;R=(ee+(K+Math.imul(R,D)|0)|0)+((8191&(V=(V+Math.imul(R,N)|0)+Math.imul(P,D)|0))<<13)|0;ee=((W+Math.imul(P,N)|0)+(V>>>13)|0)+(R>>>26)|0,R&=67108863,K=Math.imul(B,T),V=Math.imul(B,k)+Math.imul(x,T)|0,W=Math.imul(x,k);O=(ee+(K+Math.imul(O,D)|0)|0)+((8191&(V=(V+Math.imul(O,N)|0)+Math.imul(M,D)|0))<<13)|0;ee=((W+Math.imul(M,N)|0)+(V>>>13)|0)+(O>>>26)|0,O&=67108863;D=(ee+Math.imul(B,D)|0)+((8191&(V=Math.imul(B,N)+Math.imul(x,D)|0))<<13)|0;return ee=(Math.imul(x,N)+(V>>>13)|0)+(D>>>26)|0,D&=67108863,s[0]=H,s[1]=J,s[2]=o,s[3]=y,s[4]=C,s[5]=i,s[6]=n,s[7]=e,s[8]=t,s[9]=a,s[10]=h,s[11]=f,s[12]=g,s[13]=v,s[14]=E,s[15]=A,s[16]=R,s[17]=O,s[18]=D,0!=ee&&(s[19]=ee,r.length++),r};function o(e,t,r){return(new c).mulp(e,t,r)}function c(e,t){this.x=e,this.y=t}Math.imul||(s=n),g.prototype.mulTo=function(e,t){var r=this.length+e.length;return(10===this.length&&10===e.length?s:r<63?n:r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){for(var o=i,i=0,a=67108863&n,c=Math.min(s,t.length-1),u=Math.max(0,s-e.length+1);u<=c;u++){var h,l=(0|e.words[s-u])*(0|t.words[u]),a=67108863&(h=(h=67108863&l)+a|0);i+=(o=(o=o+(l/67108864|0)|0)+(h>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}:o)(this,e,t)},c.prototype.makeRBT=function(e){for(var t=new Array(e),r=g.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},c.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},c.prototype.permute=function(e,t,r,n,i,s){for(var o=0;o<s;o++)n[o]=t[e[o]],i[o]=r[e[o]]},c.prototype.transform=function(e,t,r,n,i,s){this.permute(s,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var l=c,d=u,f=0;f<o;f++){var p=r[h+f],y=n[h+f],g=r[h+f+o],m=l*g-d*(b=n[h+f+o]),b=l*b+d*g;r[h+f]=p+(g=m),n[h+f]=y+b,r[h+f+o]=p-g,n[h+f+o]=y-b,f!==a&&(m=c*l-u*d,d=c*d+u*l,l=m)}},c.prototype.guessLen13b=function(e,t){for(var e=1&(n=1|Math.max(t,e)),r=0,n=n/2|0;n;n>>>=1)r++;return 1<<r+1+e},c.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},c.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},c.prototype.convert13b=function(e,t,r,n){for(var i=0,s=0;s<t;s++)i+=0|e[s],r[2*s]=8191&i,r[2*s+1]=8191&(i>>>=13),i>>>=13;for(s=2*t;s<n;++s)r[s]=0;y(0===i),y(0==(-8192&i))},c.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},c.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),c=new Array(n),u=new Array(n),h=new Array(n),l=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,u,n),this.transform(o,s,a,c,n,i),this.transform(u,s,h,l,n,i);for(var f=0;f<n;f++){var p=a[f]*h[f]-c[f]*l[f];c[f]=a[f]*l[f]+c[f]*h[f],a[f]=p}return this.conjugate(a,c,n),this.transform(a,c,d,s,n,i),this.conjugate(d,s,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},g.prototype.mul=function(e){var t=new g(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},g.prototype.mulf=function(e){var t=new g(null);return t.words=new Array(this.length+e.length),o(this,e,t)},g.prototype.imul=function(e){return this.clone().mulTo(e,this)},g.prototype.imuln=function(e){y("number"==typeof e),y(e<67108864);for(var t=0,r=0;r<this.length;r++){var n=(0|this.words[r])*e,i=(67108863&n)+(67108863&t);t>>=26,t+=n/67108864|0,t+=i>>>26,this.words[r]=67108863&i}return 0!==t&&(this.words[r]=t,this.length++),this},g.prototype.muln=function(e){return this.clone().imuln(e)},g.prototype.sqr=function(){return this.mul(this)},g.prototype.isqr=function(){return this.imul(this.clone())},g.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r%26;t[r]=(e.words[r/26|0]&1<<n)>>>n}return t}(e);if(0===t.length)return new g(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},g.prototype.iushln=function(e){y("number"==typeof e&&0<=e);var t=e%26,r=(e-t)/26,n=67108863>>>26-t<<26-t;if(0!=t){for(var i=0,s=0;s<this.length;s++){var o=this.words[s]&n,a=(0|this.words[s])-o<<t;this.words[s]=a|i,i=o>>>26-t}i&&(this.words[s]=i,this.length++)}if(0!=r){for(s=this.length-1;0<=s;s--)this.words[s+r]=this.words[s];for(s=0;s<r;s++)this.words[s]=0;this.length+=r}return this.strip()},g.prototype.ishln=function(e){return y(0===this.negative),this.iushln(e)},g.prototype.iushrn=function(e,t,r){y("number"==typeof e&&0<=e);var n=t?(t-t%26)/26:0,i=e%26,s=Math.min((e-i)/26,this.length),o=67108863^67108863>>>i<<i,a=r;if(n-=s,n=Math.max(0,n),a){for(var c=0;c<s;c++)a.words[c]=this.words[c];a.length=s}if(0!==s)if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;for(var u=0,c=this.length-1;0<=c&&(0!==u||n<=c);c--){var h=0|this.words[c];this.words[c]=u<<26-i|h>>>i,u=h&o}return a&&0!==u&&(a.words[a.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},g.prototype.ishrn=function(e,t,r){return y(0===this.negative),this.iushrn(e,t,r)},g.prototype.shln=function(e){return this.clone().ishln(e)},g.prototype.ushln=function(e){return this.clone().iushln(e)},g.prototype.shrn=function(e){return this.clone().ishrn(e)},g.prototype.ushrn=function(e){return this.clone().iushrn(e)},g.prototype.testn=function(e){y("number"==typeof e&&0<=e);var t=e%26,e=(e-t)/26;return!(this.length<=e||!(this.words[e]&1<<t))},g.prototype.imaskn=function(e){y("number"==typeof e&&0<=e);var t=e%26,e=(e-t)/26;return y(0===this.negative,"imaskn works only with positive numbers"),this.length<=e?this:(0!=t&&e++,this.length=Math.min(e,this.length),0!=t&&(this.words[this.length-1]&=67108863^67108863>>>t<<t),this.strip())},g.prototype.maskn=function(e){return this.clone().imaskn(e)},g.prototype.iaddn=function(e){return y("number"==typeof e),y(e<67108864),e<0?this.isubn(-e):0!==this.negative?(1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(e),this.negative=1),this):this._iaddn(e)},g.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&67108864<=this.words[t];t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},g.prototype.isubn=function(e){if(y("number"==typeof e),y(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,--this.words[t+1];return this.strip()},g.prototype.addn=function(e){return this.clone().iaddn(e)},g.prototype.subn=function(e){return this.clone().isubn(e)},g.prototype.iabs=function(){return this.negative=0,this},g.prototype.abs=function(){return this.clone().iabs()},g.prototype._ishlnsubmul=function(e,t,r){var n=e.length+r;this._expand(n);for(var i=0,s=0;s<e.length;s++){var o=(0|this.words[s+r])+i,a=(0|e.words[s])*t,i=((o-=67108863&a)>>26)-(a/67108864|0);this.words[s+r]=67108863&o}for(;s<this.length-r;s++)i=(o=(0|this.words[s+r])+i)>>26,this.words[s+r]=67108863&o;if(0===i)return this.strip();for(y(-1===i),s=i=0;s<this.length;s++)i=(o=-(0|this.words[s])+i)>>26,this.words[s]=67108863&o;return this.negative=1,this.strip()},g.prototype._wordDiv=function(e,t){this.length,e.length;var r,n=this.clone(),i=e,s=0|i.words[i.length-1];0!=(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var o,a=n.length-i.length;if("mod"!==t){(o=new g(null)).length=1+a,o.words=new Array(o.length);for(var c=0;c<o.length;c++)o.words[c]=0}e=n.clone()._ishlnsubmul(i,1,a);0===e.negative&&(n=e,o&&(o.words[a]=1));for(var u=a-1;0<=u;u--){var h=67108864*(0|n.words[i.length+u])+(0|n.words[i.length+u-1]),h=Math.min(h/s|0,67108863);for(n._ishlnsubmul(i,h,u);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,u),n.isZero()||(n.negative^=1);o&&(o.words[u]=h)}return o&&o.strip(),n.strip(),"div"!==t&&0!=r&&n.iushrn(r),{div:o||null,mod:n}},g.prototype.divmod=function(e,t,r){return y(!e.isZero()),this.isZero()?{div:new g(0),mod:new g(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(n=s.div.neg()),"div"!==t&&(i=s.mod.neg(),r&&0!==i.negative&&i.iadd(e)),{div:n,mod:i}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),{div:n="mod"!==t?s.div.neg():n,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(i=s.mod.neg(),r&&0!==i.negative&&i.isub(e)),{div:s.div,mod:i}):e.length>this.length||this.cmp(e)<0?{div:new g(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new g(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new g(this.modn(e.words[0]))}:this._wordDiv(e,t);var n,i,s},g.prototype.div=function(e){return this.divmod(e,"div",!1).div},g.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},g.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},g.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),e=e.andln(1),n=r.cmp(n);return n<0||1===e&&0===n?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},g.prototype.modn=function(e){y(e<=67108863);for(var t=(1<<26)%e,r=0,n=this.length-1;0<=n;n--)r=(t*r+(0|this.words[n]))%e;return r},g.prototype.idivn=function(e){y(e<=67108863);for(var t=0,r=this.length-1;0<=r;r--){var n=(0|this.words[r])+67108864*t;this.words[r]=n/e|0,t=n%e}return this.strip()},g.prototype.divn=function(e){return this.clone().idivn(e)},g.prototype.egcd=function(e){y(0===e.negative),y(!e.isZero());for(var t=this,r=e.clone(),t=0!==t.negative?t.umod(e):t.clone(),n=new g(1),i=new g(0),s=new g(0),o=new g(1),a=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++a;for(var c=r.clone(),u=t.clone();!t.isZero();){for(var h=0,l=1;0==(t.words[0]&l)&&h<26;++h,l<<=1);if(0<h)for(t.iushrn(h);0<h--;)(n.isOdd()||i.isOdd())&&(n.iadd(c),i.isub(u)),n.iushrn(1),i.iushrn(1);for(var d=0,f=1;0==(r.words[0]&f)&&d<26;++d,f<<=1);if(0<d)for(r.iushrn(d);0<d--;)(s.isOdd()||o.isOdd())&&(s.iadd(c),o.isub(u)),s.iushrn(1),o.iushrn(1);0<=t.cmp(r)?(t.isub(r),n.isub(s),i.isub(o)):(r.isub(t),s.isub(n),o.isub(i))}return{a:s,b:o,gcd:r.iushln(a)}},g.prototype._invmp=function(e){y(0===e.negative),y(!e.isZero());for(var t,r=this,n=e.clone(),r=0!==r.negative?r.umod(e):r.clone(),i=new g(1),s=new g(0),o=n.clone();0<r.cmpn(1)&&0<n.cmpn(1);){for(var a=0,c=1;0==(r.words[0]&c)&&a<26;++a,c<<=1);if(0<a)for(r.iushrn(a);0<a--;)i.isOdd()&&i.iadd(o),i.iushrn(1);for(var u=0,h=1;0==(n.words[0]&h)&&u<26;++u,h<<=1);if(0<u)for(n.iushrn(u);0<u--;)s.isOdd()&&s.iadd(o),s.iushrn(1);0<=r.cmp(n)?(r.isub(n),i.isub(s)):(n.isub(r),s.isub(i))}return(t=0===r.cmpn(1)?i:s).cmpn(0)<0&&t.iadd(e),t},g.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0;for(var n=r.negative=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0)var s=t,t=r,r=s;else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},g.prototype.invm=function(e){return this.egcd(e).a.umod(e)},g.prototype.isEven=function(){return 0==(1&this.words[0])},g.prototype.isOdd=function(){return 1==(1&this.words[0])},g.prototype.andln=function(e){return this.words[0]&e},g.prototype.bincn=function(e){y("number"==typeof e);var t=e%26,e=(e-t)/26,t=1<<t;if(this.length<=e)return this._expand(1+e),this.words[e]|=t,this;for(var r=t,n=e;0!==r&&n<this.length;n++){var i=0|this.words[n],r=(i+=r)>>>26;i&=67108863,this.words[n]=i}return 0!==r&&(this.words[n]=r,this.length++),this},g.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},g.prototype.cmpn=function(e){var t=e<0;return 0===this.negative||t?0===this.negative&&t?1:(this.strip(),e=1<this.length?1:(y((e=t?-e:e)<=67108863,"Number is too big"),(t=0|this.words[0])===e?0:t<e?-1:1),0!==this.negative?0|-e:e):-1},g.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;e=this.ucmp(e);return 0!==this.negative?0|-e:e},g.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;0<=r;r--){var n=0|this.words[r],i=0|e.words[r];if(n!=i){n<i?t=-1:i<n&&(t=1);break}}return t},g.prototype.gtn=function(e){return 1===this.cmpn(e)},g.prototype.gt=function(e){return 1===this.cmp(e)},g.prototype.gten=function(e){return 0<=this.cmpn(e)},g.prototype.gte=function(e){return 0<=this.cmp(e)},g.prototype.ltn=function(e){return-1===this.cmpn(e)},g.prototype.lt=function(e){return-1===this.cmp(e)},g.prototype.lten=function(e){return this.cmpn(e)<=0},g.prototype.lte=function(e){return this.cmp(e)<=0},g.prototype.eqn=function(e){return 0===this.cmpn(e)},g.prototype.eq=function(e){return 0===this.cmp(e)},g.red=function(e){return new _(e)},g.prototype.toRed=function(e){return y(!this.red,"Already a number in reduction context"),y(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},g.prototype.fromRed=function(){return y(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},g.prototype._forceRed=function(e){return this.red=e,this},g.prototype.forceRed=function(e){return y(!this.red,"Already a number in reduction context"),this._forceRed(e)},g.prototype.redAdd=function(e){return y(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},g.prototype.redIAdd=function(e){return y(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},g.prototype.redSub=function(e){return y(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},g.prototype.redISub=function(e){return y(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},g.prototype.redShl=function(e){return y(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},g.prototype.redMul=function(e){return y(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},g.prototype.redIMul=function(e){return y(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},g.prototype.redSqr=function(){return y(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},g.prototype.redISqr=function(){return y(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},g.prototype.redSqrt=function(){return y(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},g.prototype.redInvm=function(){return y(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},g.prototype.redNeg=function(){return y(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},g.prototype.redPow=function(e){return y(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var u={k256:null,p224:null,p192:null,p25519:null};function h(e,t){this.name=e,this.p=new g(t,16),this.n=this.p.bitLength(),this.k=new g(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function m(){h.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){h.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function v(){h.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){h.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(e){var t;"string"==typeof e?(t=g._prime(e),this.m=t.p,this.prime=t):(y(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null)}function E(e){_.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new g(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}h.prototype._tmp=function(){var e=new g(null);return e.words=new Array(Math.ceil(this.n/13)),e},h.prototype.ireduce=function(e){for(var t,r=e;this.split(r,this.tmp),(t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength())>this.n;);e=t<this.n?-1:r.ucmp(this.p);return 0===e?(r.words[0]=0,r.length=1):0<e?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},h.prototype.split=function(e,t){e.iushrn(this.n,0,t)},h.prototype.imulK=function(e){return e.imul(this.k)},t(m,h),m.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,n=10;n<e.length;n++){var s=0|e.words[n];e.words[n-10]=(4194303&s)<<4|i>>>22,i=s}0===(e.words[n-10]=i>>>=22)&&10<e.length?e.length-=10:e.length-=9},m.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},t(b,h),t(v,h),t(w,h),w.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},g._prime=function(e){if(u[e])return u[e];var t;if("k256"===e)t=new m;else if("p224"===e)t=new b;else if("p192"===e)t=new v;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new w}return u[e]=t},_.prototype._verify1=function(e){y(0===e.negative,"red works only with positives"),y(e.red,"red works only with red numbers")},_.prototype._verify2=function(e,t){y(0==(e.negative|t.negative),"red works only with positives"),y(e.red&&e.red===t.red,"red works only with red numbers")},_.prototype.imod=function(e){return(this.prime?this.prime.ireduce(e):e.umod(this.m))._forceRed(this)},_.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},_.prototype.add=function(e,t){this._verify2(e,t);t=e.add(t);return 0<=t.cmp(this.m)&&t.isub(this.m),t._forceRed(this)},_.prototype.iadd=function(e,t){this._verify2(e,t);t=e.iadd(t);return 0<=t.cmp(this.m)&&t.isub(this.m),t},_.prototype.sub=function(e,t){this._verify2(e,t);t=e.sub(t);return t.cmpn(0)<0&&t.iadd(this.m),t._forceRed(this)},_.prototype.isub=function(e,t){this._verify2(e,t);t=e.isub(t);return t.cmpn(0)<0&&t.iadd(this.m),t},_.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},_.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},_.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},_.prototype.isqr=function(e){return this.imul(e,e.clone())},_.prototype.sqr=function(e){return this.mul(e,e)},_.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(y(t%2==1),3===t){t=this.m.add(new g(1)).iushrn(2);return this.pow(e,t)}for(var r=this.m.subn(1),n=0;!r.isZero()&&0===r.andln(1);)n++,r.iushrn(1);y(!r.isZero());for(var i=new g(1).toRed(this),s=i.redNeg(),o=this.m.subn(1).iushrn(1),a=new g(2*(a=this.m.bitLength())*a).toRed(this);0!==this.pow(a,o).cmp(s);)a.redIAdd(s);for(var c=this.pow(a,r),u=this.pow(e,r.addn(1).iushrn(1)),h=this.pow(e,r),l=n;0!==h.cmp(i);){for(var d=h,f=0;0!==d.cmp(i);f++)d=d.redSqr();y(f<l);var p=this.pow(c,new g(1).iushln(l-f-1)),u=u.redMul(p),c=p.redSqr(),h=h.redMul(c),l=f}return u},_.prototype.invm=function(e){e=e._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},_.prototype.pow=function(e,t){if(t.isZero())return new g(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new g(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,o=0,a=t.bitLength()%26;for(0===a&&(a=26),n=t.length-1;0<=n;n--){for(var c=t.words[n],u=a-1;0<=u;u--){var h=c>>u&1;i!==r[0]&&(i=this.sqr(i)),0!=h||0!==s?(s<<=1,s|=h,(4==++o||0===n&&0===u)&&(i=this.mul(i,r[s]),s=o=0)):o=0}a=26}return i},_.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},_.prototype.convertFrom=function(e){e=e.clone();return e.red=null,e},g.mont=function(e){return new E(e)},t(E,_),E.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},E.prototype.convertFrom=function(e){e=this.imod(e.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;e=e.imul(t),t=e.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=e.isub(t).iushrn(this.shift),t=e;return 0<=e.cmp(this.m)?t=e.isub(this.m):e.cmpn(0)<0&&(t=e.iadd(this.m)),t._forceRed(this)},E.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new g(0)._forceRed(this);e=e.mul(t),t=e.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=e.isub(t).iushrn(this.shift),t=e;return 0<=e.cmp(this.m)?t=e.isub(this.m):e.cmpn(0)<0&&(t=e.iadd(this.m)),t._forceRed(this)},E.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}((S=C.nmd(S),this))},29931:(e,t,r)=>{var n;function i(e){this.rand=e}if(e.exports=function(e){return(n=n||new i(null)).generate(e)},(e.exports.Rand=i).prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){e=new Uint8Array(e);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){e=new Uint8Array(e);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s=r(89214);if("function"!=typeof s.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return s.randomBytes(e)}}catch(e){}},48764:(e,r,t)=>{"use strict";const a=t(79742),s=t(80645),n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=h,r.SlowBuffer=function(e){return h.alloc(+(e=+e!=e?0:e))},r.INSPECT_MAX_BYTES=50;const i=2147483647;function o(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');e=new Uint8Array(e);return Object.setPrototypeOf(e,h.prototype),e}function h(e,t,r){if("number"!=typeof e)return c(e,t,r);if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}function c(e,t,r){if("string"==typeof e)return function(e,t){if(!h.isEncoding(t="string"!=typeof t||""===t?"utf8":t))throw new TypeError("Unknown encoding: "+t);var r=0|y(e,t);let n=o(r);t=n.write(e,t);return t!==r&&(n=n.slice(0,t)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(K(e,Uint8Array)){var t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(K(e,ArrayBuffer)||e&&K(e.buffer,ArrayBuffer))return f(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(K(e,SharedArrayBuffer)||e&&K(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return h.from(n,t,r);n=function(e){if(h.isBuffer(e)){var t=0|p(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||U(e.length)?o(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return h.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return u(e),o(e<0?0:0|p(e))}function d(t){const r=t.length<0?0:0|p(t.length),n=o(r);for(let e=0;e<r;e+=1)n[e]=255&t[e];return n}function f(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');r=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r);return Object.setPrototypeOf(r,h.prototype),r}function p(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function y(e,t){if(h.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||K(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=2<arguments.length&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return L(e).length;default:if(i)return n?-1:N(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,r){let n=!1;if((t=void 0===t||t<0?0:t)>this.length)return"";if((r=void 0===r||r>this.length?this.length:r)<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":return function(t,r,n){var e=t.length;(!r||r<0)&&(r=0),(!n||n<0||e<n)&&(n=e);let i="";for(let e=r;e<n;++e)i+=j[t[e]];return i}(this,t,r);case"utf8":case"utf-8":return w(this,t,r);case"ascii":return function(t,r,n){let i="";n=Math.min(t.length,n);for(let e=r;e<n;++e)i+=String.fromCharCode(127&t[e]);return i}(this,t,r);case"latin1":case"binary":return function(t,r,n){let i="";n=Math.min(t.length,n);for(let e=r;e<n;++e)i+=String.fromCharCode(t[e]);return i}(this,t,r);case"base64":return i=this,o=r,0===(s=t)&&o===i.length?a.fromByteArray(i):a.fromByteArray(i.slice(s,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){var n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}var i,s,o}function m(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),(r=(r=U(r=+r)?i?0:e.length-1:r)<0?e.length+r:r)>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=h.from(t,n)),h.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?(i?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(r,n,t,e,i){let s,o=1,a=r.length,c=n.length;if(void 0!==e&&("ucs2"===(e=String(e).toLowerCase())||"ucs-2"===e||"utf16le"===e||"utf-16le"===e)){if(r.length<2||n.length<2)return-1;o=2,a/=2,c/=2,t/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let e=-1;for(s=t;s<a;s++)if(u(r,s)===u(n,-1===e?0:s-e)){if(-1===e&&(e=s),s-e+1===c)return e*o}else-1!==e&&(s-=s-e),e=-1}else for(t+c>a&&(t=a-c),s=t;0<=s;s--){let t=!0;for(let e=0;e<c;e++)if(u(r,s+e)!==u(n,e)){t=!1;break}if(t)return s}return-1}function w(o,a,e){e=Math.min(o.length,e);const t=[];let c=a;for(;c<e;){const a=o[c];let i=null,s=239<a?4:223<a?3:191<a?2:1;if(c+s<=e){let e,t,r,n;switch(s){case 1:a<128&&(i=a);break;case 2:e=o[c+1],128==(192&e)&&(n=(31&a)<<6|63&e,127<n&&(i=n));break;case 3:e=o[c+1],t=o[c+2],128==(192&e)&&128==(192&t)&&(n=(15&a)<<12|(63&e)<<6|63&t,2047<n&&(n<55296||57343<n)&&(i=n));break;case 4:e=o[c+1],t=o[c+2],r=o[c+3],128==(192&e)&&128==(192&t)&&128==(192&r)&&(n=(15&a)<<18|(63&e)<<12|(63&t)<<6|63&r,65535<n&&n<1114112&&(i=n))}}null===i?(i=65533,s=1):65535<i&&(i-=65536,t.push(i>>>10&1023|55296),i=56320|1023&i),t.push(i),c+=s}return function(e){var t=e.length;if(t<=_)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=_));return r}(t)}r.kMaxLength=i,(h.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=c,Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(e,t,r){return t=t,r=r,u(e=e),!(e<=0)&&void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)},h.allocUnsafe=l,h.allocUnsafeSlow=l,h.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==h.prototype},h.compare=function(r,n){if(K(r,Uint8Array)&&(r=h.from(r,r.offset,r.byteLength)),K(n,Uint8Array)&&(n=h.from(n,n.offset,n.byteLength)),!h.isBuffer(r)||!h.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===n)return 0;let i=r.length,s=n.length;for(let e=0,t=Math.min(i,s);e<t;++e)if(r[e]!==n[e]){i=r[e],s=n[e];break}return i<s?-1:s<i?1:0},h.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=h.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(K(e,Uint8Array))i+e.length>n.length?(h.isBuffer(e)||(e=h.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!h.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},h.byteLength=y,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},h.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},h.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},h.prototype.toLocaleString=h.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?w(this,0,e):g.apply(this,arguments)},h.prototype.equals=function(e){if(!h.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===h.compare(this,e)},h.prototype.inspect=function(){let e="";var t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},n&&(h.prototype[n]=h.prototype.inspect),h.prototype.compare=function(e,t,r,n,i){if(K(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),!h.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),(t=void 0===t?0:t)<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(i<=n&&r<=t)return 0;if(i<=n)return-1;if(r<=t)return 1;if(this===e)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0);var a=Math.min(s,o),c=this.slice(n,i),u=e.slice(t,r);for(let e=0;e<a;++e)if(c[e]!==u[e]){s=c[e],o=u[e];break}return s<o?-1:o<s?1:0},h.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},h.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},h.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},h.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i,s,o,a,c,u,h=this.length-t;if((void 0===r||h<r)&&(r=h),0<e.length&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n=n||"utf8";let l=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var i=e.length-r;(!n||(n=Number(n))>i)&&(n=i),i=t.length;let s;for(i/2<n&&(n=i/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(U(n))return s;e[r+s]=n}return s}(this,e,t,r);case"utf8":case"utf-8":return c=t,u=r,F(N(e,(a=this).length-c),a,c,u);case"ascii":case"latin1":case"binary":return a=this,c=t,u=r,F(function(t){const r=[];for(let e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}(e),a,c,u);case"base64":return i=this,s=t,o=r,F(L(e),i,s,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i=t,s=r,F(function(t,r){var n,i;const s=[];for(let e=0;e<t.length&&!((r-=2)<0);++e)i=(n=t.charCodeAt(e))>>8,s.push(n%256),s.push(i);return s}(e,(o=this).length-i),o,i,s);default:if(l)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),l=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const _=4096;function E(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(r<e+t)throw new RangeError("Trying to access beyond buffer length")}function S(e,t,r,n,i,s){if(!h.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<t||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function C(e,t,r,n,i){M(t,n,i,e,r,7);i=Number(t&BigInt(4294967295));e[r++]=i,e[r++]=i>>=8,e[r++]=i>>=8,e[r++]=i>>=8;t=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=t,e[r++]=t>>=8,e[r++]=t>>=8,e[r++]=t>>=8,r}function A(e,t,r,n,i){M(t,n,i,e,r,7);i=Number(t&BigInt(4294967295));e[r+7]=i,e[r+6]=i>>=8,e[r+5]=i>>=8,e[r+4]=i>>=8;t=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=t,e[r+2]=t>>=8,e[r+1]=t>>=8,e[r]=t>>=8,r+8}function I(e,t,r,n){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function T(e,t,r,n,i){return t=+t,r>>>=0,i||I(e,0,r,4),s.write(e,t,r,n,23,4),r+4}function R(e,t,r,n,i){return t=+t,r>>>=0,i||I(e,0,r,8),s.write(e,t,r,n,52,8),r+8}h.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e);t=this.subarray(e,t);return Object.setPrototypeOf(t,h.prototype),t},h.prototype.readUintLE=h.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},h.prototype.readUintBE=h.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);let n=this[e+--t],i=1;for(;0<t&&(i*=256);)n+=this[e+--t]*i;return n},h.prototype.readUint8=h.prototype.readUInt8=function(e,t){return e>>>=0,t||E(e,1,this.length),this[e]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]|this[e+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]<<8|this[e+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},h.prototype.readBigUInt64LE=V(function(e){D(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||B(e,this.length-8);t=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,r=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(t)+(BigInt(r)<<BigInt(32))}),h.prototype.readBigUInt64BE=V(function(e){D(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||B(e,this.length-8);t=t*2**24+65536*this[++e]+256*this[++e]+this[++e],r=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(t)<<BigInt(32))+BigInt(r)}),h.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},h.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;0<n&&(i*=256);)s+=this[e+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},h.prototype.readInt8=function(e,t){return e>>>=0,t||E(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},h.prototype.readInt16LE=function(e,t){e>>>=0,t||E(e,2,this.length);e=this[e]|this[e+1]<<8;return 32768&e?4294901760|e:e},h.prototype.readInt16BE=function(e,t){e>>>=0,t||E(e,2,this.length);e=this[e+1]|this[e]<<8;return 32768&e?4294901760|e:e},h.prototype.readInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},h.prototype.readInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},h.prototype.readBigInt64LE=V(function(e){D(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||B(e,this.length-8);r=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),h.prototype.readBigInt64BE=V(function(e){D(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||B(e,this.length-8);t=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(t)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)}),h.prototype.readFloatLE=function(e,t){return e>>>=0,t||E(e,4,this.length),s.read(this,e,!0,23,4)},h.prototype.readFloatBE=function(e,t){return e>>>=0,t||E(e,4,this.length),s.read(this,e,!1,23,4)},h.prototype.readDoubleLE=function(e,t){return e>>>=0,t||E(e,8,this.length),s.read(this,e,!0,52,8)},h.prototype.readDoubleBE=function(e,t){return e>>>=0,t||E(e,8,this.length),s.read(this,e,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||S(this,e,t,r,Math.pow(2,8*r)-1,0);let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||S(this,e,t,r,Math.pow(2,8*r)-1,0);let i=r-1,s=1;for(this[t+i]=255&e;0<=--i&&(s*=256);)this[t+i]=e/s&255;return t+r},h.prototype.writeUint8=h.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,1,255,0),this[t]=255&e,t+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeBigUInt64LE=V(function(e,t=0){return C(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=V(function(e,t=0){return A(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);S(this,e,t,r,n-1,-n)}let i=0,s=1,o=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},h.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);S(this,e,t,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[t+i]=255&e;0<=--i&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},h.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,1,127,-128),this[t]=255&(e=e<0?255+e+1:e),t+1},h.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},h.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,4,2147483647,-2147483648),this[t]=(e=e<0?4294967295+e+1:e)>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeBigInt64LE=V(function(e,t=0){return C(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=V(function(e,t=0){return A(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeFloatLE=function(e,t,r){return T(this,e,t,!0,r)},h.prototype.writeFloatBE=function(e,t,r){return T(this,e,t,!1,r)},h.prototype.writeDoubleLE=function(e,t,r){return R(this,e,t,!0,r)},h.prototype.writeDoubleBE=function(e,t,r){return R(this,e,t,!1,r)},h.prototype.copy=function(e,t,r,n){if(!h.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r=r||0,n||0===n||(n=this.length),t>=e.length&&(t=e.length),(n=0<n&&n<r?r:n)===r)return 0;if(0===e.length||0===this.length)return 0;if((t=t||0)<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length);var i=(n=e.length-t<n-r?e.length-t+r:n)-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},h.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!h.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,"number"==typeof(e=e||0))for(i=t;i<r;++i)this[i]=e;else{var s=h.isBuffer(e)?e:h.from(e,n),o=s.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%o]}return this};const P={};function k(e,t,r){P[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=this.name+` [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return this.name+` [${e}]: `+this.message}}}function O(e){let t="",r=e.length;for(var n="-"===e[0]?1:0;r>=4+n;r-=3)t="_"+e.slice(r-3,r)+t;return""+e.slice(0,r)+t}function M(e,t,r,n,i,s){if(r<e||e<t){const o="bigint"==typeof t?"n":"";r=3<s?0===t||t===BigInt(0)?`>= 0${o} and < 2${o} ** `+8*(s+1)+o:`>= -(2${o} ** ${8*(s+1)-1}${o}) and < 2 ** `+(8*(s+1)-1)+o:`>= ${t}${o} and <= `+r+o;throw new P.ERR_OUT_OF_RANGE("value",r,e)}n=n,s=s,D(i=i,"offset"),void 0!==n[i]&&void 0!==n[i+s]||B(i,n.length-(s+1))}function D(e,t){if("number"!=typeof e)throw new P.ERR_INVALID_ARG_TYPE(t,"number",e)}function B(e,t,r){if(Math.floor(e)!==e)throw D(e,r),new P.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new P.ERR_BUFFER_OUT_OF_BOUNDS;throw new P.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= `+t,e)}k("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?e+" is outside of buffer bounds":"Attempt to access memory outside buffer bounds"},RangeError),k("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type `+typeof t},TypeError),k("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=O(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=O(i)),i+="n"),n+=` It must be ${t}. Received `+i},RangeError);const x=/[^+/0-9A-Za-z-_]/g;function N(t,r){let n;r=r||1/0;var i=t.length;let s=null;const o=[];for(let e=0;e<i;++e){if(n=t.charCodeAt(e),55295<n&&n<57344){if(!s){if(56319<n){-1<(r-=3)&&o.push(239,191,189);continue}if(e+1===i){-1<(r-=3)&&o.push(239,191,189);continue}s=n;continue}if(n<56320){-1<(r-=3)&&o.push(239,191,189),s=n;continue}n=65536+(s-55296<<10|n-56320)}else s&&-1<(r-=3)&&o.push(239,191,189);if(s=null,n<128){if(--r<0)break;o.push(n)}else if(n<2048){if((r-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((r-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function L(e){return a.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(x,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function F(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function K(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function U(e){return e!=e}const j=function(){const r="0123456789abcdef",n=new Array(256);for(let t=0;t<16;++t){var i=16*t;for(let e=0;e<16;++e)n[i+e]=r[t]+r[e]}return n}();function V(e){return"undefined"==typeof BigInt?q:e}function q(){throw new Error("BigInt not supported")}},98514:e=>{"use strict";e.exports=function(e,{className:t,symbolName:r}){const n=Symbol.for(r),i={[t]:class extends e{constructor(...e){super(...e),Object.defineProperty(this,n,{value:!0})}get[Symbol.toStringTag](){return t}}}[t];return i["is"+t]=e=>!(!e||!e[n]),i},e.exports.proto=function(t,{className:e,symbolName:r,withoutNew:n}){const i=Symbol.for(r),s={[e]:function(...e){if(n&&!(this instanceof s))return new s(...e);e=t.call(this,...e)||this;return e&&!e[i]&&Object.defineProperty(e,i,{value:!0}),e}}[e];return s.prototype=Object.create(t.prototype),s.prototype.constructor=s,Object.defineProperty(s.prototype,Symbol.toStringTag,{get:()=>e}),s["is"+e]=e=>!(!e||!e[i]),s}},75281:(e,t,r)=>{"use strict";const n=r(5696),i=/\s+at.*(?:\(|\s)(.*)\)?/,s=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,o=void 0===n.homedir?"":n.homedir();e.exports=(e,t)=>(t=Object.assign({pretty:!1},t),e.replace(/\\/g,"/").split("\n").filter(e=>{e=e.match(i);if(null===e||!e[1])return!0;const t=e[1];return!t.includes(".app/Contents/Resources/electron.asar")&&!t.includes(".app/Contents/Resources/default_app.asar")&&!s.test(t)}).filter(e=>""!==e.trim()).map(e=>t.pretty?e.replace(i,(e,t)=>e.replace(t,t.replace(o,"~"))):e).join("\n"))},27484:function(e){e.exports=function(){"use strict";function n(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e}var i="millisecond",l="second",d="minute",f="hour",p="day",y="week",g="month",o="quarter",m="year",b="date",v="Invalid Date",a=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,e={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},t={s:n,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),e=Math.floor(r/60),r=r%60;return(t<=0?"+":"-")+n(e,2,"0")+":"+n(r,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),i=t.clone().add(n,g),s=r-i<0,t=t.clone().add(n+(s?-1:1),g);return+(-(n+(r-i)/(s?i-t:t-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:g,y:m,w:y,d:p,D:b,h:f,m:d,s:l,ms:i,Q:o}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},s="en",c={};c[s]=e;function r(e){return e instanceof E}function u(e,t,r){var n;return e?("string"==typeof e?(c[e]&&(n=e),t&&(c[e]=t,n=e)):(t=e.name,c[t]=e,n=t),!r&&n&&(s=n),n||!r&&s):s}function h(e,t){return r(e)?e.clone():((t="object"==typeof t?t:{}).date=e,t.args=arguments,new E(t))}var _=t;_.l=u,_.i=r,_.w=function(e,t){return h(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var E=((t=C.prototype).parse=function(s){this.$d=function(){var e=s.date,t=s.utc;if(null===e)return new Date(NaN);if(_.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(a);if(r){var n=r[2]-1||0,i=(r[7]||"0").substring(0,3);return t?new Date(Date.UTC(r[1],n,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],n,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(e)}(),this.$x=s.x||{},this.init()},t.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},t.$utils=function(){return _},t.isValid=function(){return!(this.$d.toString()===v)},t.isSame=function(e,t){e=h(e);return this.startOf(t)<=e&&e<=this.endOf(t)},t.isAfter=function(e,t){return h(e)<this.startOf(t)},t.isBefore=function(e,t){return this.endOf(t)<h(e)},t.$g=function(e,t,r){return _.u(e)?this[t]:this.set(r,e)},t.unix=function(){return Math.floor(this.valueOf()/1e3)},t.valueOf=function(){return this.$d.getTime()},t.startOf=function(e,t){function r(e,t){return e=_.w(i.$u?Date.UTC(i.$y,t,e):new Date(i.$y,t,e),i),s?e:e.endOf(p)}function n(e,t){return _.w(i.toDate()[e].apply(i.toDate("s"),(s?[0,0,0,0]:[23,59,59,999]).slice(t)),i)}var i=this,s=!!_.u(t)||t,e=_.p(e),o=this.$W,a=this.$M,c=this.$D,u="set"+(this.$u?"UTC":"");switch(e){case m:return s?r(1,0):r(31,11);case g:return s?r(1,a):r(0,a+1);case y:var h=this.$locale().weekStart||0,h=(o<h?o+7:o)-h;return r(s?c-h:c+(6-h),a);case p:case b:return n(u+"Hours",0);case f:return n(u+"Minutes",1);case d:return n(u+"Seconds",2);case l:return n(u+"Milliseconds",3);default:return this.clone()}},t.endOf=function(e){return this.startOf(e,!1)},t.$set=function(e,t){var r=_.p(e),n="set"+(this.$u?"UTC":""),e=((e={})[p]=n+"Date",e[b]=n+"Date",e[g]=n+"Month",e[m]=n+"FullYear",e[f]=n+"Hours",e[d]=n+"Minutes",e[l]=n+"Seconds",e[i]=n+"Milliseconds",e[r]),t=r===p?this.$D+(t-this.$W):t;return r===g||r===m?((r=this.clone().set(b,1)).$d[e](t),r.init(),this.$d=r.set(b,Math.min(this.$D,r.daysInMonth())).$d):e&&this.$d[e](t),this.init(),this},t.set=function(e,t){return this.clone().$set(e,t)},t.get=function(e){return this[_.p(e)]()},t.add=function(r,e){var n=this;r=Number(r);var t=_.p(e),e=function(e){var t=h(n);return _.w(t.date(t.date()+Math.round(e*r)),n)};if(t===g)return this.set(g,this.$M+r);if(t===m)return this.set(m,this.$y+r);if(t===p)return e(1);if(t===y)return e(7);(e={})[d]=6e4,e[f]=36e5,e[l]=1e3,t=e[t]||1,t=this.$d.getTime()+r*t;return _.w(t,this)},t.subtract=function(e,t){return this.add(-1*e,t)},t.format=function(e){var i=this,t=this.$locale();if(!this.isValid())return t.invalidDate||v;function r(e,t,r,n){return e&&(e[t]||e(i,s))||r[t].substr(0,n)}function n(e){return _.s(a%12||12,e,"0")}var s=e||"YYYY-MM-DDTHH:mm:ssZ",o=_.z(this),a=this.$H,c=this.$m,u=this.$M,h=t.weekdays,l=t.months,e=t.meridiem||function(e,t,r){e=e<12?"AM":"PM";return r?e.toLowerCase():e},d={YY:String(this.$y).slice(-2),YYYY:this.$y,M:u+1,MM:_.s(u+1,2,"0"),MMM:r(t.monthsShort,u,l,3),MMMM:r(l,u),D:this.$D,DD:_.s(this.$D,2,"0"),d:String(this.$W),dd:r(t.weekdaysMin,this.$W,h,2),ddd:r(t.weekdaysShort,this.$W,h,3),dddd:h[this.$W],H:String(a),HH:_.s(a,2,"0"),h:n(1),hh:n(2),a:e(a,c,!0),A:e(a,c,!1),m:String(c),mm:_.s(c,2,"0"),s:String(this.$s),ss:_.s(this.$s,2,"0"),SSS:_.s(this.$ms,3,"0"),Z:o};return s.replace(w,function(e,t){return t||d[e]||o.replace(":","")})},t.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},t.diff=function(e,t,r){var n=_.p(t),i=h(e),s=6e4*(i.utcOffset()-this.utcOffset()),t=this-i,e=_.m(this,i),i={};return i[m]=e/12,i[g]=e,i[o]=e/3,i[y]=(t-s)/6048e5,i[p]=(t-s)/864e5,i[f]=t/36e5,i[d]=t/6e4,i[l]=t/1e3,e=i[n]||t,r?e:_.a(e)},t.daysInMonth=function(){return this.endOf(g).$D},t.$locale=function(){return c[this.$L]},t.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),t=u(e,t,!0);return t&&(r.$L=t),r},t.clone=function(){return _.w(this.$d,this)},t.toDate=function(){return new Date(this.valueOf())},t.toJSON=function(){return this.isValid()?this.toISOString():null},t.toISOString=function(){return this.$d.toISOString()},t.toString=function(){return this.$d.toUTCString()},C),S=E.prototype;function C(e){this.$L=u(e.locale,null,!0),this.parse(e)}return h.prototype=S,[["$ms",i],["$s",l],["$m",d],["$H",f],["$W",p],["$M",g],["$y",m],["$D",b]].forEach(function(t){S[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),h.extend=function(e,t){return e.$i||(e(t,E,h),e.$i=!0),h},h.locale=u,h.isDayjs=r,h.unix=function(e){return h(1e3*e)},h.en=c[s],h.Ls=c,h.p={},h}()},84110:function(e){e.exports=function(){"use strict";return function(g,e,m){g=g||{};var i=e.prototype,b={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function r(e,t,r,n){return i.fromToBase(e,t,r,n)}m.en.relativeTime=b,i.fromToBase=function(e,t,r,n,i){for(var s,o,a=r.$locale().relativeTime||b,c=g.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],u=c.length,h=0;h<u;h+=1){var l=c[h];l.d&&(s=n?m(e).diff(r,l.d,!0):r.diff(e,l.d,!0));var d=(g.rounding||Math.round)(Math.abs(s)),f=0<s;if(d<=l.r||!l.r){var p=a[(l=d<=1&&0<h?c[h-1]:l).l];i&&(d=i(""+d)),o="string"==typeof p?p.replace("%d",d):p(d,t,l.l,f);break}}if(t)return o;var y=f?a.future:a.past;return"function"==typeof y?y(o):y.replace("%s",o)},i.to=function(e,t){return r(e,t,this,!0)},i.from=function(e,t){return r(e,t,this)};function t(e){return e.$u?m.utc():m()}i.toNow=function(e){return this.to(t(this),e)},i.fromNow=function(e){return this.from(t(this),e)}}}()},11227:(e,i,t)=>{function r(){var e;try{e=i.storage.debug}catch(e){}return e=!e&&"undefined"!=typeof process&&"env"in process?process.env.DEBUG:e}(i=e.exports=t(11658)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},i.formatArgs=function(e){var t,r,n=this.useColors;e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+i.humanize(this.diff),n&&(n="color: "+this.color,e.splice(1,0,n,"color: inherit"),e[r=t=0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(t++,"%c"===e&&(r=t))}),e.splice(r,0,n))},i.save=function(e){try{null==e?i.storage.removeItem("debug"):i.storage.debug=e}catch(e){}},i.load=r,i.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},i.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),i.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],i.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},i.enable(r())},11658:(e,a,t)=>{var c;function r(e){function o(){if(o.enabled){var n=o,e=+new Date,t=e-(c||e);n.diff=t,n.prev=c,n.curr=e,c=e;for(var i=new Array(arguments.length),r=0;r<i.length;r++)i[r]=arguments[r];i[0]=a.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var s=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(e,t){if("%%"===e)return e;s++;var r=a.formatters[t];return"function"==typeof r&&(t=i[s],e=r.call(n,t),i.splice(s,1),s--),e}),a.formatArgs.call(n,i),(o.log||a.log||console.log.bind(console)).apply(n,i)}}return o.namespace=e,o.enabled=a.enabled(e),o.useColors=a.useColors(),o.color=function(e){var t,r=0;for(t in e)r=(r<<5)-r+e.charCodeAt(t),r|=0;return a.colors[Math.abs(r)%a.colors.length]}(e),"function"==typeof a.init&&a.init(o),o}(a=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},a.disable=function(){a.enable("")},a.enable=function(e){a.save(e),a.names=[],a.skips=[];for(var t=("string"==typeof e?e:"").split(/[\s,]+/),r=t.length,n=0;n<r;n++)t[n]&&("-"===(e=t[n].replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+e.substr(1)+"$")):a.names.push(new RegExp("^"+e+"$")))},a.enabled=function(e){for(var t=0,r=a.skips.length;t<r;t++)if(a.skips[t].test(e))return!1;for(t=0,r=a.names.length;t<r;t++)if(a.names[t].test(e))return!0;return!1},a.humanize=t(57824),a.names=[],a.skips=[],a.formatters={}},45001:e=>{"use strict";function t(e,t){t=t||{},this._head=0,this._tail=0,this._capacity=t.capacity,this._capacityMask=3,this._list=new Array(4),Array.isArray(e)&&this._fromArray(e)}t.prototype.peekAt=function(e){var t=e;if(t===(0|t)){e=this.size();if(!(e<=t||t<-e))return t<0&&(t+=e),t=this._head+t&this._capacityMask,this._list[t]}},t.prototype.get=function(e){return this.peekAt(e)},t.prototype.peek=function(){if(this._head!==this._tail)return this._list[this._head]},t.prototype.peekFront=function(){return this.peek()},t.prototype.peekBack=function(){return this.peekAt(-1)},Object.defineProperty(t.prototype,"length",{get:function(){return this.size()}}),t.prototype.size=function(){return this._head===this._tail?0:this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},t.prototype.unshift=function(e){if(void 0===e)return this.size();var t=this._list.length;return this._head=this._head-1+t&this._capacityMask,this._list[this._head]=e,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.pop(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},t.prototype.shift=function(){var e=this._head;if(e!==this._tail){var t=this._list[e];return this._list[e]=void 0,this._head=e+1&this._capacityMask,e<2&&1e4<this._tail&&this._tail<=this._list.length>>>2&&this._shrinkArray(),t}},t.prototype.push=function(e){if(void 0===e)return this.size();var t=this._tail;return this._list[t]=e,this._tail=t+1&this._capacityMask,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.shift(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},t.prototype.pop=function(){var e=this._tail;if(e!==this._head){var t=this._list.length;this._tail=e-1+t&this._capacityMask;var r=this._list[this._tail];return this._list[this._tail]=void 0,this._head<2&&1e4<e&&e<=t>>>2&&this._shrinkArray(),r}},t.prototype.removeOne=function(e){if((i=e)===(0|i)&&this._head!==this._tail){var t=this.size(),r=this._list.length;if(!(t<=i||i<-t)){i<0&&(i+=t);var n,i=this._head+i&this._capacityMask,s=this._list[i];if(e<t/2){for(n=e;0<n;n--)this._list[i]=this._list[i=i-1+r&this._capacityMask];this._list[i]=void 0,this._head=this._head+1+r&this._capacityMask}else{for(n=t-1-e;0<n;n--)this._list[i]=this._list[i=i+1+r&this._capacityMask];this._list[i]=void 0,this._tail=this._tail-1+r&this._capacityMask}return s}}},t.prototype.remove=function(e,t){var r,n=e,i=t;if(n===(0|n)&&this._head!==this._tail){var s,o=this.size(),a=this._list.length;if(!(o<=n||n<-o||t<1)){if(n<0&&(n+=o),1===t||!t)return(r=new Array(1))[0]=this.removeOne(n),r;if(0===n&&o<=n+t)return r=this.toArray(),this.clear(),r;for(o<n+t&&(t=o-n),r=new Array(t),s=0;s<t;s++)r[s]=this._list[this._head+n+s&this._capacityMask];if(n=this._head+n&this._capacityMask,e+t===o){for(this._tail=this._tail-t+a&this._capacityMask,s=t;0<s;s--)this._list[n=n+1+a&this._capacityMask]=void 0;return r}if(0===e){for(this._head=this._head+t+a&this._capacityMask,s=t-1;0<s;s--)this._list[n=n+1+a&this._capacityMask]=void 0;return r}if(n<o/2){for(this._head=this._head+e+t+a&this._capacityMask,s=e;0<s;s--)this.unshift(this._list[n=n-1+a&this._capacityMask]);for(n=this._head-1+a&this._capacityMask;0<i;)this._list[n=n-1+a&this._capacityMask]=void 0,i--;e<0&&(this._tail=n)}else{for(n=(this._tail=n)+t+a&this._capacityMask,s=o-(t+e);0<s;s--)this.push(this._list[n++]);for(n=this._tail;0<i;)this._list[n=n+1+a&this._capacityMask]=void 0,i--}return this._head<2&&1e4<this._tail&&this._tail<=a>>>2&&this._shrinkArray(),r}}},t.prototype.splice=function(e,t){var r=e;if(r===(0|r)){var n=this.size();if(r<0&&(r+=n),!(n<r)){if(2<arguments.length){var i,s,o=arguments.length,e=this._list.length,a=2;if(!n||r<n/2){for(i=new Array(r),u=0;u<r;u++)i[u]=this._list[this._head+u&this._capacityMask];for(0===t?(s=[],0<r&&(this._head=this._head+r+e&this._capacityMask)):(s=this.remove(r,t),this._head=this._head+r+e&this._capacityMask);a<o;)this.unshift(arguments[--o]);for(u=r;0<u;u--)this.unshift(i[u-1])}else{for(var c=(i=new Array(n-(r+t))).length,u=0;u<c;u++)i[u]=this._list[this._head+r+t+u&this._capacityMask];for(0===t?(s=[],r!=n&&(this._tail=this._head+r+e&this._capacityMask)):(s=this.remove(r,t),this._tail=this._tail-c+e&this._capacityMask);a<o;)this.push(arguments[a++]);for(u=0;u<c;u++)this.push(i[u])}return s}return this.remove(r,t)}}},t.prototype.clear=function(){this._head=0,this._tail=0},t.prototype.isEmpty=function(){return this._head===this._tail},t.prototype.toArray=function(){return this._copyArray(!1)},t.prototype._fromArray=function(e){for(var t=0;t<e.length;t++)this.push(e[t])},t.prototype._copyArray=function(e){var t,r=[],n=this._list,i=n.length;if(e||this._head>this._tail){for(t=this._head;t<i;t++)r.push(n[t]);for(t=0;t<this._tail;t++)r.push(n[t])}else for(t=this._head;t<this._tail;t++)r.push(n[t]);return r},t.prototype._growArray=function(){this._head&&(this._list=this._copyArray(!0),this._head=0),this._tail=this._list.length,this._list.length<<=1,this._capacityMask=this._capacityMask<<1|1},t.prototype._shrinkArray=function(){this._list.length>>>=1,this._capacityMask>>>=1},e.exports=t},90049:(t,r,e)=>{r.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");let t=0,r=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(t++,"%c"===e&&(r=t))}),e.splice(r,0,n)}},r.save=function(e){try{e?r.storage.setItem("debug",e):r.storage.removeItem("debug")}catch(e){}},r.load=function(){let e;try{e=r.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},r.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},r.storage=function(){try{return localStorage}catch(e){}}(),r.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],r.log=console.debug||console.log||(()=>{}),t.exports=e(59413)(r);const n=t.exports["formatters"];n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},59413:(e,t,n)=>{e.exports=function(t){function a(e){let r,t,n,i=null;function o(...i){if(o.enabled){const s=o,e=Number(new Date),t=e-(r||e);s.diff=t,s.prev=r,s.curr=e,r=e,i[0]=a.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");let n=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(e,t)=>{if("%%"===e)return"%";n++;const r=a.formatters[t];if("function"==typeof r){const a=i[n];e=r.call(s,a),i.splice(n,1),n--}return e}),a.formatArgs.call(s,i),(s.log||a.log).apply(s,i)}}return o.namespace=e,o.useColors=a.useColors(),o.color=a.selectColor(e),o.extend=s,o.destroy=a.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(t!==a.namespaces&&(t=a.namespaces,n=a.enabled(e)),n),set:e=>{i=e}}),"function"==typeof a.init&&a.init(o),o}function s(e,t){const r=a(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return((a.debug=a).default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},a.disable=function(){var e=[...a.names.map(r),...a.skips.map(r).map(e=>"-"+e)].join(",");return a.enable(""),e},a.enable=function(e){let t;a.save(e),a.namespaces=e,a.names=[],a.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length;for(t=0;t<n;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+e.substr(1)+"$")):a.names.push(new RegExp("^"+e+"$")))},a.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=a.skips.length;t<r;t++)if(a.skips[t].test(e))return!1;for(t=0,r=a.names.length;t<r;t++)if(a.names[t].test(e))return!0;return!1},a.humanize=n(31509),a.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(e=>{a[e]=t[e]}),a.names=[],a.skips=[],a.formatters={},a.selectColor=function(t){let r=0;for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return a.colors[Math.abs(r)%a.colors.length]},a.enable(a.load()),a}},31509:e=>{var s=36e5,o=864e5;function a(e,t,r,n){t=1.5*r<=t;return Math.round(e/r)+" "+n+(t?"s":"")}e.exports=function(r,e){e=e||{};var t,n,i=typeof r;if("string"==i&&0<r.length)return function(e){if(!(100<(e=String(r)).length)){e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(e){var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"weeks":case"week":case"w":return 6048e5*t;case"days":case"day":case"d":return t*o;case"hours":case"hour":case"hrs":case"hr":case"h":return t*s;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}(r);if("number"==i&&isFinite(r))return e.long?(n=r,(t=Math.abs(n))>=o?a(n,t,o,"day"):s<=t?a(n,t,s,"hour"):6e4<=t?a(n,t,6e4,"minute"):1e3<=t?a(n,t,1e3,"second"):n+" ms"):(t=r,n=Math.abs(t),o<=n?Math.round(t/o)+"d":s<=n?Math.round(t/s)+"h":6e4<=n?Math.round(t/6e4)+"m":1e3<=n?Math.round(t/1e3)+"s":t+"ms");throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))}},926:(e,t,r)=>{"use strict";const n=r(90049),o=n("dns-over-http-resolver");o.error=n("dns-over-http-resolver:error");const i=r(73692),a=r(46177);class s{constructor({maxCache:e=100}={}){this._cache=new i({max:e}),this._servers=["https://cloudflare-dns.com/dns-query","https://dns.google/resolve"]}getServers(){return this._servers}_getShuffledServers(){const t=[].concat(this._servers);for(let e=t.length-1;0<e;e--){var r=Math.floor(Math.random()*e),n=t[e];t[e]=t[r],t[r]=n}return t}setServers(e){this._servers=e}resolve(e,t="A"){switch(t){case"A":return this.resolve4(e);case"AAAA":return this.resolve6(e);case"TXT":return this.resolveTxt(e);default:throw new Error(t+" is not supported")}}async resolve4(t){const r=this._cache.get(a.getCacheKey(t,"A"));if(r)return r;for(const r of this._getShuffledServers())try{const e=await a.fetch(a.buildResource({serverResolver:r,hostname:t,recordType:"A"})),n=await e.json(),o=n.Answer.map(e=>e.data),i=Math.min(n.Answer.map(e=>e.TTL));return this._cache.set(a.getCacheKey(t,"A"),o,{ttl:i}),o}catch(e){o.error(r+` could not resolve ${t} record A`)}throw new Error(`Could not resolve ${t} record A`)}async resolve6(e){const t="AAAA",r=this._cache.get(a.getCacheKey(e,t));if(r)return r;for(const r of this._getShuffledServers())try{const n=await a.fetch(a.buildResource({serverResolver:r,hostname:e,recordType:t})),o=await n.json(),i=o.Answer.map(e=>e.data),s=Math.min(o.Answer.map(e=>e.TTL));return this._cache.set(a.getCacheKey(e,t),i,{ttl:s}),i}catch(t){o.error(r+` could not resolve ${e} record AAAA`)}throw new Error(`Could not resolve ${e} record AAAA`)}async resolveTxt(t){const r=this._cache.get(a.getCacheKey(t,"TXT"));if(r)return r;for(const r of this._getShuffledServers())try{const e=await a.fetch(a.buildResource({serverResolver:r,hostname:t,recordType:"TXT"})),o=await e.json(),n=o.Answer.map(e=>[e.data.replace(/['"]+/g,"")]),i=Math.min(o.Answer.map(e=>e.TTL));return this._cache.set(a.getCacheKey(t,"TXT"),n,{ttl:i}),n}catch(e){o.error(r+` could not resolve ${t} record TXT`)}throw new Error(`Could not resolve ${t} record TXT`)}}e.exports=s.Resolver=s},46177:(e,t,r)=>{"use strict";const{default:n,Headers:i}=r(30700);e.exports={buildResource:function({serverResolver:e,hostname:t,recordType:r}){return e+`?name=${t}&type=`+r},fetch:function(e){return n(e,{headers:new i({accept:"application/dns-json"})})},getCacheKey:function(e,t){return t+"_"+e}}},86266:(e,t,r)=>{"use strict";t.version=r(18597).i8,t.utils=r(80953),t.rand=r(29931),t.curve=r(88254),t.curves=r(45427),t.ec=r(57954),t.eddsa=r(65980)},4918:(e,t,r)=>{"use strict";var n=r(13550),i=r(80953),A=i.getNAF,I=i.getJSF,l=i.assert;function s(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;t=this.n&&this.p.div(this.n);!t||0<t.cmpn(100)?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function o(e,t){this.curve=e,this.type=t,this.precomputed=null}(e.exports=s).prototype.point=function(){throw new Error("Not implemented")},s.prototype.validate=function(){throw new Error("Not implemented")},s.prototype._fixedNafMul=function(e,t){l(e.precomputed);var r=e._getDoubles(),n=A(t,1,this._bitLength),t=(1<<r.step+1)-(r.step%2==0?2:1);t/=3;for(var i=[],s=0;s<n.length;s+=r.step){for(var o=0,a=s+r.step-1;s<=a;a--)o=(o<<1)+n[a];i.push(o)}for(var c=this.jpoint(null,null,null),u=this.jpoint(null,null,null),h=t;0<h;h--){for(s=0;s<i.length;s++)(o=i[s])===h?u=u.mixedAdd(r.points[s]):o===-h&&(u=u.mixedAdd(r.points[s].neg()));c=c.add(u)}return c.toP()},s.prototype._wnafMul=function(e,t){for(var r=e._getNAFPoints(4),n=r.wnd,i=r.points,s=A(t,n,this._bitLength),o=this.jpoint(null,null,null),a=s.length-1;0<=a;a--){for(var c=0;0<=a&&0===s[a];a--)c++;if(0<=a&&c++,o=o.dblp(c),a<0)break;var u=s[a];l(0!==u),o="affine"===e.type?0<u?o.mixedAdd(i[u-1>>1]):o.mixedAdd(i[-u-1>>1].neg()):0<u?o.add(i[u-1>>1]):o.add(i[-u-1>>1].neg())}return"affine"===e.type?o.toP():o},s.prototype._wnafMulAdd=function(e,t,r,n,i){for(var s,o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,u=0,h=0;h<n;h++){var l=(s=t[h])._getNAFPoints(e);o[h]=l.wnd,a[h]=l.points}for(h=n-1;1<=h;h-=2){var d=h-1,f=h;if(1===o[d]&&1===o[f]){var p=[t[d],null,null,t[f]];0===t[d].y.cmp(t[f].y)?(p[1]=t[d].add(t[f]),p[2]=t[d].toJ().mixedAdd(t[f].neg())):0===t[d].y.cmp(t[f].y.redNeg())?(p[1]=t[d].toJ().mixedAdd(t[f]),p[2]=t[d].add(t[f].neg())):(p[1]=t[d].toJ().mixedAdd(t[f]),p[2]=t[d].toJ().mixedAdd(t[f].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],g=I(r[d],r[f]),u=Math.max(g[0].length,u);for(c[d]=new Array(u),c[f]=new Array(u),S=0;S<u;S++){var m=0|g[0][S],b=0|g[1][S];c[d][S]=y[3*(1+m)+(1+b)],c[f][S]=0,a[d]=p}}else c[d]=A(r[d],o[d],this._bitLength),c[f]=A(r[f],o[f],this._bitLength),u=Math.max(c[d].length,u),u=Math.max(c[f].length,u)}var v=this.jpoint(null,null,null),w=this._wnafT4;for(h=u;0<=h;h--){for(var _=0;0<=h;){for(var E=!0,S=0;S<n;S++)w[S]=0|c[S][h],0!==w[S]&&(E=!1);if(!E)break;_++,h--}if(0<=h&&_++,v=v.dblp(_),h<0)break;for(S=0;S<n;S++){var C=w[S];0!==C&&(0<C?s=a[S][C-1>>1]:C<0&&(s=a[S][-C-1>>1].neg()),v="affine"===s.type?v.mixedAdd(s):v.add(s))}}for(h=0;h<n;h++)a[h]=null;return i?v:v.toP()},(s.BasePoint=o).prototype.eq=function(){throw new Error("Not implemented")},o.prototype.validate=function(){return this.curve.validate(this)},s.prototype.decodePoint=function(e,t){e=i.toArray(e,t);t=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*t)return 6===e[0]?l(e[e.length-1]%2==0):7===e[0]&&l(e[e.length-1]%2==1),this.point(e.slice(1,1+t),e.slice(1+t,1+2*t));if((2===e[0]||3===e[0])&&e.length-1===t)return this.pointFromX(e.slice(1,1+t),3===e[0]);throw new Error("Unknown point format")},o.prototype.encodeCompressed=function(e){return this.encode(e,!0)},o.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},o.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},o.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},o.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},o.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var s=0;s<e;s++)n=n.dbl();r.push(n)}return{step:e,points:r}},o.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1==r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},o.prototype._getBeta=function(){return null},o.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},31138:(e,t,r)=>{"use strict";var n=r(80953),s=r(13550),i=r(35717),o=r(4918),a=n.assert;function c(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,o.call(this,"edwards",e),this.a=new s(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function u(e,t,r,n,i){o.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(t,16),this.y=new s(r,16),this.z=n?new s(n,16):this.curve.one,this.t=i&&new s(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}i(c,o),(e.exports=c).prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},c.prototype.pointFromX=function(e,t){var r=(e=!(e=new s(e,16)).red?e.toRed(this.red):e).redSqr(),n=this.c2.redSub(this.a.redMul(r)),r=this.one.redSub(this.c2.redMul(this.d).redMul(r)),n=n.redMul(r.redInvm()),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");n=r.fromRed().isOdd();return(t&&!n||!t&&n)&&(r=r.redNeg()),this.point(e,r)},c.prototype.pointFromY=function(e,t){var r=(e=!(e=new s(e,16)).red?e.toRed(this.red):e).redSqr(),n=r.redSub(this.c2),r=r.redMul(this.d).redMul(this.c2).redSub(this.a),n=n.redMul(r.redInvm());if(0===n.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");return r.fromRed().isOdd()!==t&&(r=r.redNeg()),this.point(r,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),e=t.redMul(this.a).redAdd(r),r=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===e.cmp(r)},i(u,o.BasePoint),c.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},c.prototype.point=function(e,t,r,n){return new u(this,e,t,r,n)},u.fromJSON=function(e,t){return new u(e,t[0],t[1],t[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=(r=this.z.redSqr()).redIAdd(r),n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),s=n.redAdd(t),e=s.redSub(r),r=n.redSub(t),n=i.redMul(e),t=s.redMul(r),r=i.redMul(r),s=e.redMul(s);return this.curve.point(n,t,s,r)},u.prototype._projDbl=function(){var e,t,r,n,i,s,o=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),c=this.y.redSqr();return s=this.curve.twisted?(i=(r=this.curve._mulA(a)).redAdd(c),this.zOne?(e=o.redSub(a).redSub(c).redMul(i.redSub(this.curve.two)),t=i.redMul(r.redSub(c)),i.redSqr().redSub(i).redSub(i)):(n=this.z.redSqr(),s=i.redSub(n).redISub(n),e=o.redSub(a).redISub(c).redMul(s),t=i.redMul(r.redSub(c)),i.redMul(s))):(r=a.redAdd(c),n=this.curve._mulC(this.z).redSqr(),s=r.redSub(n).redSub(n),e=this.curve._mulC(o.redISub(r)).redMul(s),t=this.curve._mulC(r).redMul(a.redISub(c)),r.redMul(s)),this.curve.point(e,t,s)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),s=r.redSub(t),e=i.redSub(n),i=i.redAdd(n),n=r.redAdd(t),r=s.redMul(e),t=i.redMul(n),n=s.redMul(n),i=e.redMul(i);return this.curve.point(r,t,i,n)},u.prototype._projAdd=function(e){var t,r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(i).redMul(s),a=n.redSub(o),o=n.redAdd(o),e=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),e=r.redMul(a).redMul(e),o=this.curve.twisted?(t=r.redMul(o).redMul(s.redSub(this.curve._mulA(i))),a.redMul(o)):(t=r.redMul(o).redMul(s.redSub(i)),this.curve._mulC(a).redMul(o));return this.curve.point(e,t,o)},u.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},u.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},u.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},u.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),0<=r.cmp(this.curve.p))return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},88254:(e,t,r)=>{"use strict";t.base=r(4918),t.short=r(6673),t.mont=r(22881),t.edwards=r(31138)},22881:(e,t,r)=>{"use strict";var n=r(13550),i=r(35717),s=r(4918),o=r(80953);function a(e){s.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){s.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,s),(e.exports=a).prototype.validate=function(e){var t=e.normalize().x,e=t.redSqr(),t=e.redMul(t).redAdd(e.redMul(this.a)).redAdd(t);return 0===t.redSqrt().redSqr().cmp(t)},i(c,s.BasePoint),a.prototype.decodePoint=function(e,t){return this.point(o.toArray(e,t),1)},a.prototype.point=function(e,t){return new c(this,e,t)},a.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),e=e.redMul(t),r=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(e,r)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),r=e.x.redSub(e.z).redMul(r),i=i.redMul(n),n=t.z.redMul(r.redAdd(i).redSqr()),i=t.x.redMul(r.redISub(i).redSqr());return this.curve.point(n,i)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var s=i.length-1;0<=s;s--)0===i[s]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},6673:(e,t,r)=>{"use strict";var n=r(80953),v=r(13550),i=r(35717),s=r(4918),o=n.assert;function a(e){s.call(this,"short",e),this.a=new v(e.a,16).toRed(this.red),this.b=new v(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(e,t,r,n){s.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new v(t,16),this.y=new v(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(e,t,r,n){s.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new v(0)):(this.x=new v(t,16),this.y=new v(r,16),this.z=new v(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}i(a,s),(e.exports=a).prototype._getEndomorphism=function(e){var t,r,n;if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3))return r=(e.beta?new v(e.beta,16):r=(n=this._getEndoRoots(this.p))[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red),e.lambda?t=new v(e.lambda,16):(n=this._getEndoRoots(this.n),0===this.g.mul(n[0]).x.cmp(this.g.x.redMul(r))?t=n[0]:(t=n[1],o(0===this.g.mul(t).x.cmp(this.g.x.redMul(r))))),{beta:r,lambda:t,basis:e.basis?e.basis.map(function(e){return{a:new v(e.a,16),b:new v(e.b,16)}}):this._getEndoBasis(t)}},a.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:v.mont(e),r=new v(2).toRed(t).redInvm(),e=r.redNeg(),r=new v(3).toRed(t).redNeg().redSqrt().redMul(r);return[e.redAdd(r).fromRed(),e.redSub(r).fromRed()]},a.prototype._getEndoBasis=function(e){for(var t,r,n,i,s,o=this.n.ushrn(Math.floor(this.n.bitLength()/2)),a=e,c=this.n.clone(),u=new v(1),h=new v(0),l=new v(0),d=new v(1),f=0;0!==a.cmpn(0);){var p=c.div(a),y=c.sub(p.mul(a)),g=l.sub(p.mul(u)),p=d.sub(p.mul(h));if(!n&&y.cmp(o)<0)t=s.neg(),r=u,n=y.neg(),i=g;else if(n&&2==++f)break;c=a,a=s=y,l=u,u=g,d=h,h=p}var m=y.neg(),b=g,e=n.sqr().add(i.sqr());return 0<=m.sqr().add(b.sqr()).cmp(e)&&(m=t,b=r),n.negative&&(n=n.neg(),i=i.neg()),m.negative&&(m=m.neg(),b=b.neg()),[{a:n,b:i},{a:m,b:b}]},a.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),o=i.mul(r.a),t=s.mul(n.a),r=i.mul(r.b),n=s.mul(n.b);return{k1:e.sub(o).sub(t),k2:r.add(n).neg()}},a.prototype.pointFromX=function(e,t){var r=(e=!(e=new v(e,16)).red?e.toRed(this.red):e).redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");r=n.fromRed().isOdd();return(t&&!r||!t&&r)&&(n=n.redNeg()),this.point(e,n)},a.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,e=this.a.redMul(t),e=t.redSqr().redMul(t).redIAdd(e).redIAdd(this.b);return 0===r.redSqr().redISub(e).cmpn(0)},a.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(t[s]),a=e[s],c=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),n[2*s]=a,n[2*s+1]=c,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var r=this._wnafMulAdd(1,n,i,2*s,r),u=0;u<2*s;u++)n[u]=null,i[u]=null;return r},i(c,s.BasePoint),a.prototype.point=function(e,t,r){return new c(this,e,t,r)},a.prototype.pointFromJSON=function(e,t){return c.fromJSON(this,e,t)},c.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t,r,n=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);return e&&(t=this.curve,r=function(e){return t.point(e.x.redMul(t.endo.beta),e.y)},(e.beta=n).precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}),n}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}e=e[2];return n.precomputed={beta:null,doubles:e.doubles&&{step:e.doubles.step,points:[n].concat(e.doubles.points.map(i))},naf:e.naf&&{wnd:e.naf.wnd,points:[n].concat(e.naf.points.map(i))}},n},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y),e=(t=0!==t.cmpn(0)?t.redMul(this.x.redSub(e.x).redInvm()):t).redSqr().redISub(this.x).redISub(e.x),t=t.redMul(this.x.redSub(e)).redISub(this.y);return this.curve.point(e,t)},c.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),e=e.redInvm(),t=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(e),e=t.redSqr().redISub(this.x.redAdd(this.x)),t=t.redMul(this.x.redSub(e)).redISub(this.y);return this.curve.point(e,t)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(e){return e=new v(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,r){t=[this,t],r=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(t,r):this.curve._wnafMulAdd(1,t,r,2)},c.prototype.jmulAdd=function(e,t,r){t=[this,t],r=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(t,r,!0):this.curve._wnafMulAdd(1,t,r,2,!0)},c.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},c.prototype.neg=function(e){if(this.inf)return this;var t,r=this.curve.point(this.x,this.y.redNeg());return e&&this.precomputed&&(t=this.precomputed,e=function(e){return e.neg()},r.precomputed={naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(e)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(e)}}),r},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},i(u,s.BasePoint),a.prototype.jpoint=function(e,t,r){return new u(this,e,t,r)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),e=this.y.redMul(t).redMul(e);return this.curve.point(r,e)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),t=n.redSub(i),r=s.redSub(o);if(0===t.cmpn(0))return 0!==r.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();i=t.redSqr(),o=i.redMul(t),n=n.redMul(i),i=r.redSqr().redIAdd(o).redISub(n).redISub(n),o=r.redMul(n.redISub(i)).redISub(s.redMul(o)),t=this.z.redMul(e.z).redMul(t);return this.curve.jpoint(i,o,t)},u.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,s=e.y.redMul(t).redMul(this.z),e=r.redSub(n),t=i.redSub(s);if(0===e.cmpn(0))return 0!==t.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();n=e.redSqr(),s=n.redMul(e),r=r.redMul(n),n=t.redSqr().redIAdd(s).redISub(r).redISub(r),s=t.redMul(r.redISub(n)).redISub(i.redMul(s)),e=this.z.redMul(e);return this.curve.jpoint(n,s,e)},u.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,c=a.redSqr().redSqr(),u=o.redAdd(o);for(r=0;r<e;r++){var h=s.redSqr(),l=u.redSqr(),d=l.redSqr(),f=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(c)),h=s.redMul(l),l=f.redSqr().redISub(h.redAdd(h)),h=h.redISub(l),f=(f=f.redMul(h)).redIAdd(f).redISub(d),h=u.redMul(a);r+1<e&&(c=c.redMul(d)),s=l,a=h,u=f}return this.curve.jpoint(s,u.redMul(i),a)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var e,t,r,n,i,s;return s=this.zOne?(r=this.x.redSqr(),e=(n=this.y.redSqr()).redSqr(),i=(i=this.x.redAdd(n).redSqr().redISub(r).redISub(e)).redIAdd(i),n=(t=r.redAdd(r).redIAdd(r)).redSqr().redISub(i).redISub(i),r=(r=(r=e.redIAdd(e)).redIAdd(r)).redIAdd(r),t=t.redMul(i.redISub(e=n)).redISub(r),this.y.redAdd(this.y)):(i=this.x.redSqr(),s=(n=this.y.redSqr()).redSqr(),r=(r=this.x.redAdd(n).redSqr().redISub(i).redISub(s)).redIAdd(r),i=(n=i.redAdd(i).redIAdd(i)).redSqr(),s=(s=(s=s.redIAdd(s)).redIAdd(s)).redIAdd(s),e=i.redISub(r).redISub(r),t=n.redMul(r.redISub(e)).redISub(s),(s=this.y.redMul(this.z)).redIAdd(s)),this.curve.jpoint(e,t,s)},u.prototype._threeDbl=function(){var e,t,r,n,i,s,o,a;return this.zOne?(r=this.x.redSqr(),n=(t=this.y.redSqr()).redSqr(),o=(o=this.x.redAdd(t).redSqr().redISub(r).redISub(n)).redIAdd(o),e=i=(a=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a)).redSqr().redISub(o).redISub(o),s=(s=(s=n.redIAdd(n)).redIAdd(s)).redIAdd(s),t=a.redMul(o.redISub(i)).redISub(s),r=this.y.redAdd(this.y)):(n=this.z.redSqr(),a=this.y.redSqr(),o=this.x.redMul(a),i=(i=this.x.redSub(n).redMul(this.x.redAdd(n))).redAdd(i).redIAdd(i),o=(s=(s=o.redIAdd(o)).redIAdd(s)).redAdd(s),e=i.redSqr().redISub(o),r=this.y.redAdd(this.z).redSqr().redISub(a).redISub(n),a=(a=(a=(a=a.redSqr()).redIAdd(a)).redIAdd(a)).redIAdd(a),t=i.redMul(s.redISub(e)).redISub(a)),this.curve.jpoint(e,t,r)},u.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=t.redSqr(),o=r.redSqr(),e=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),i=t.redAdd(t),t=(i=i.redIAdd(i)).redMul(o),i=e.redSqr().redISub(t.redAdd(t)),t=t.redISub(i),o=(o=(o=(o=o.redSqr()).redIAdd(o)).redIAdd(o)).redIAdd(o),o=e.redMul(t).redISub(o),n=r.redAdd(r).redMul(n);return this.curve.jpoint(i,o,n)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(n),e=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),n=(n=(n=(n=n.redIAdd(n)).redIAdd(n)).redIAdd(n)).redIAdd(n),s=i.redIAdd(o).redSqr().redISub(s).redISub(e).redISub(n),t=(t=(t=t.redMul(s)).redIAdd(t)).redIAdd(t),t=(t=(t=this.x.redMul(e).redISub(t)).redIAdd(t)).redIAdd(t),s=(s=(s=(s=this.y.redMul(s.redMul(n.redISub(s)).redISub(o.redMul(e)))).redIAdd(s)).redIAdd(s)).redIAdd(s),e=this.z.redAdd(o).redSqr().redISub(r).redISub(e);return this.curve.jpoint(t,s,e)},u.prototype.mul=function(e,t){return e=new v(e,t),this.curve._wnafMul(this,e)},u.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;t=t.redMul(this.z),r=r.redMul(e.z);return 0===this.y.redMul(r).redISub(e.y.redMul(t)).cmpn(0)},u.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),0<=n.cmp(this.curve.p))return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},45427:(e,t,r)=>{"use strict";var n,i=t,t=r(33715),s=r(88254),o=r(80953).assert;function a(e){"short"===e.type?this.curve=new s.short(e):"edwards"===e.type?this.curve=new s.edwards(e):this.curve=new s.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(t,r){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var e=new a(r);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:e}),e}})}i.PresetCurve=a,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:t.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:t.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:t.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:t.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:t.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(91037)}catch(e){n=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:t.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},57954:(e,t,r)=>{"use strict";var d=r(13550),f=r(2156),n=r(80953),i=r(45427),s=r(29931),a=n.assert,o=r(31251),p=r(90611);function c(e){if(!(this instanceof c))return new c(e);"string"==typeof e&&(a(Object.prototype.hasOwnProperty.call(i,e),"Unknown curve "+e),e=i[e]),e instanceof i.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}(e.exports=c).prototype.keyPair=function(e){return new o(this,e)},c.prototype.keyFromPrivate=function(e,t){return o.fromPrivate(this,e,t)},c.prototype.keyFromPublic=function(e,t){return o.fromPublic(this,e,t)},c.prototype.genKeyPair=function(e){for(var t=new f({hash:this.hash,pers:(e=e||{}).pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new d(2));;){var i=new d(t.generate(r));if(!(0<i.cmp(n)))return i.iaddn(1),this.keyFromPrivate(i)}},c.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return 0<r&&(e=e.ushrn(r)),!t&&0<=e.cmp(this.n)?e.sub(this.n):e},c.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n=n||{},t=this.keyFromPrivate(t,r),e=this._truncateToN(new d(e,16));for(var i=this.n.byteLength(),r=t.getPrivate().toArray("be",i),i=e.toArray("be",i),s=new f({hash:this.hash,entropy:r,nonce:i,pers:n.pers,persEnc:n.persEnc||"utf8"}),o=this.n.sub(new d(1)),a=0;;a++){var c=n.k?n.k(a):new d(s.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||0<=c.cmp(o))){var u=this.g.mul(c);if(!u.isInfinity()){var h=u.getX(),l=h.umod(this.n);if(0!==l.cmpn(0)){c=c.invm(this.n).mul(l.mul(t.getPrivate()).iadd(e));if(0!==(c=c.umod(this.n)).cmpn(0)){h=(u.getY().isOdd()?1:0)|(0!==h.cmp(l)?2:0);return n.canonical&&0<c.cmp(this.nh)&&(c=this.n.sub(c),h^=1),new p({r:l,s:c,recoveryParam:h})}}}}}},c.prototype.verify=function(e,t,r,n){e=this._truncateToN(new d(e,16)),r=this.keyFromPublic(r,n);n=(t=new p(t,"hex")).r,t=t.s;if(n.cmpn(1)<0||0<=n.cmp(this.n))return!1;if(t.cmpn(1)<0||0<=t.cmp(this.n))return!1;var i,t=t.invm(this.n),e=t.mul(e).umod(this.n),t=t.mul(n).umod(this.n);return this.curve._maxwellTrick?!(i=this.g.jmulAdd(e,r.getPublic(),t)).isInfinity()&&i.eqXToP(n):!(i=this.g.mulAdd(e,r.getPublic(),t)).isInfinity()&&0===i.getX().umod(this.n).cmp(n)},c.prototype.recoverPubKey=function(e,t,r,n){a((3&r)===r,"The recovery param is more than two bits"),t=new p(t,n);var i=this.n,s=new d(e),o=t.r,n=t.s,e=1&r,r=r>>1;if(0<=o.cmp(this.curve.p.umod(this.curve.n))&&r)throw new Error("Unable to find sencond key candinate");o=r?this.curve.pointFromX(o.add(this.curve.n),e):this.curve.pointFromX(o,e),t=t.r.invm(i),s=i.sub(s).mul(t).umod(i),i=n.mul(t).umod(i);return this.g.mulAdd(s,o,i)},c.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new p(t,n)).recoveryParam)return t.recoveryParam;for(var i,s=0;s<4;s++){try{i=this.recoverPubKey(e,t,s)}catch(e){continue}if(i.eq(r))return s}throw new Error("Unable to find valid recovery factor")}},31251:(e,t,r)=>{"use strict";var n=r(13550),i=r(80953).assert;function s(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}(e.exports=s).fromPublic=function(e,t,r){return t instanceof s?t:new s(e,{pub:t,pubEnc:r})},s.fromPrivate=function(e,t,r){return t instanceof s?t:new s(e,{priv:t,privEnc:r})},s.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},s.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},s.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},s.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},s.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},90611:(e,t,r)=>{"use strict";var i=r(13550),s=r(80953),n=s.assert;function o(e,t){if(e instanceof o)return e;this._importDER(e,t)||(n(e.r&&e.s,"Signature without r or s"),this.r=new i(e.r,16),this.s=new i(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function a(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0==n||4<n)return!1;for(var i=0,s=0,o=t.place;s<n;s++,o++)i<<=8,i|=e[o],i>>>=0;return!(i<=127)&&(t.place=o,i)}function u(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function h(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}(e.exports=o).prototype._importDER=function(e,t){e=s.toArray(e,t);var r=new a;if(48!==e[r.place++])return!1;var n=c(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;t=c(e,r);if(!1===t)return!1;n=e.slice(r.place,t+r.place);if(r.place+=t,2!==e[r.place++])return!1;t=c(e,r);if(!1===t)return!1;if(e.length!==t+r.place)return!1;r=e.slice(r.place,t+r.place);if(0===n[0]){if(!(128&n[1]))return!1;n=n.slice(1)}if(0===r[0]){if(!(128&r[1]))return!1;r=r.slice(1)}return this.r=new i(n),this.s=new i(r),!(this.recoveryParam=null)},o.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=u(t),r=u(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];h(n,t.length),(n=n.concat(t)).push(2),h(n,r.length);t=n.concat(r),n=[48];return h(n,t.length),n=n.concat(t),s.encode(n,e)}},65980:(e,t,r)=>{"use strict";var n=r(33715),i=r(45427),s=r(80953),o=s.assert,a=s.parseBytes,c=r(79087),u=r(23622);function h(e){if(o("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof h))return new h(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}(e.exports=h).prototype.sign=function(e,t){e=a(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),t=this.encodePoint(i),r=this.hashInt(t,r.pubBytes(),e).mul(r.priv()),r=n.add(r).umod(this.curve.n);return this.makeSignature({R:i,S:r,Rencoded:t})},h.prototype.verify=function(e,t,r){e=a(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),r=this.hashInt(t.Rencoded(),n.pubBytes(),e),e=this.g.mul(t.S());return t.R().add(n.pub().mul(r)).eq(e)},h.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return s.intFromLE(e.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},h.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},h.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},h.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},h.prototype.decodePoint=function(e){var t=(e=s.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),t=0!=(128&e[t]),r=s.intFromLE(r);return this.curve.pointFromY(r,t)},h.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(e){return s.intFromLE(e)},h.prototype.isPoint=function(e){return e instanceof this.pointClass}},79087:(e,t,r)=>{"use strict";var n=r(80953),i=n.assert,s=n.parseBytes,r=n.cachedProperty;function o(e,t){this.eddsa=e,this._secret=s(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=s(t.pub)}o.fromPublic=function(e,t){return t instanceof o?t:new o(e,{pub:t})},o.fromSecret=function(e,t){return t instanceof o?t:new o(e,{secret:t})},o.prototype.secret=function(){return this._secret},r(o,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),r(o,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),r(o,"privBytes",function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,e=t.slice(0,e.encodingLength);return e[0]&=248,e[r]&=127,e[r]|=64,e}),r(o,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),r(o,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),r(o,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),o.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},o.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},o.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},o.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=o},23622:(e,t,r)=>{"use strict";var n=r(13550),i=r(80953),s=i.assert,r=i.cachedProperty,o=i.parseBytes;function a(e,t){this.eddsa=e,"object"!=typeof t&&(t=o(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),s(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}r(a,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),r(a,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),r(a,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),r(a,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),a.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},a.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=a},91037:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},80953:(e,t,r)=>{"use strict";var n=t,i=r(13550),t=r(79746),r=r(34504);n.assert=t,n.toArray=r.toArray,n.zero2=r.zero2,n.toHex=r.toHex,n.encode=r.encode,n.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,s=e.clone(),o=0;o<n.length;o++){var a,c=s.andln(i-1);s.isOdd()?s.isubn(a=(i>>1)-1<c?(i>>1)-c:c):a=0,n[o]=a,s.iushrn(1)}return n},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,s=0;0<e.cmpn(-i)||0<t.cmpn(-s);){var o,a=e.andln(3)+i&3,c=t.andln(3)+s&3;3===c&&(c=-1),o=0==(1&(a=3===a?-1:a))?0:3!=(n=e.andln(7)+i&7)&&5!==n||2!==c?a:-a,r[0].push(o),c=0==(1&c)?0:3!=(n=t.andln(7)+s&7)&&5!==n||2!==a?c:-c,r[1].push(c),2*i===o+1&&(i=1-i),2*s===c+1&&(s=1-s),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},32114:e=>{"use strict";function i(e,t){for(const r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}e.exports=function(e,t,r){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");r=r||{},"object"==typeof t&&(r=t,t=void 0),null!=t&&(r.code=t);try{return i(e,r)}catch(t){r.message=e.message,r.stack=e.stack;var n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(e)),i(new n,r)}}},76021:(e,t)=>{"use strict";function r(i){if("function"!=typeof i)throw new TypeError("Argument to promisify must be a function");var a=i["__ES6-PROMISIFY--CUSTOM-ARGUMENTS__"],s=r.Promise||Promise;if("function"!=typeof s)throw new Error("No Promise implementation found; do you need a polyfill?");return function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return new s(function(s,o){r.push(function(e){if(e)return o(e);for(var t=arguments.length,r=Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(1===r.length||!a)return s(r[0]);var i={};r.forEach(function(e,t){t=a[t];t&&(i[t]=e)}),s(i)}),i.apply(e,r)})}}Object.defineProperty(t,"__esModule",{value:!0}),(t.promisify=r).argumentNames="__ES6-PROMISIFY--CUSTOM-ARGUMENTS__",r.Promise=void 0},90507:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(8231);t.EventIterator=n.EventIterator,t.subscribe=function(t,r,e){return new n.EventIterator(({push:e})=>(this.addEventListener(t,e,r),()=>this.removeEventListener(t,e,r)),e)},t.default=n.EventIterator},8231:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){this.pullQueue=[],this.pushQueue=[],this.eventHandlers={},this.isPaused=!1,this.isStopped=!1}push(e){if(!this.isStopped){e={value:e,done:!1};if(this.pullQueue.length){const t=this.pullQueue.shift();t&&t.resolve(e)}else this.pushQueue.push(Promise.resolve(e)),void 0!==this.highWaterMark&&this.pushQueue.length>=this.highWaterMark&&!this.isPaused&&(this.isPaused=!0,this.eventHandlers.highWater?this.eventHandlers.highWater():console&&console.warn(`EventIterator queue reached ${this.pushQueue.length} items`))}}stop(){if(!this.isStopped){this.isStopped=!0,this.remove();for(const e of this.pullQueue)e.resolve({value:void 0,done:!0});this.pullQueue.length=0}}fail(e){if(!this.isStopped)if(this.isStopped=!0,this.remove(),this.pullQueue.length){for(const t of this.pullQueue)t.reject(e);this.pullQueue.length=0}else{const r=Promise.reject(e);r.catch(()=>{}),this.pushQueue.push(r)}}remove(){Promise.resolve().then(()=>{this.removeCallback&&this.removeCallback()})}[Symbol.asyncIterator](){return{next:e=>{var t=this.pushQueue.shift();return t?(void 0!==this.lowWaterMark&&this.pushQueue.length<=this.lowWaterMark&&this.isPaused&&(this.isPaused=!1,this.eventHandlers.lowWater&&this.eventHandlers.lowWater()),t):this.isStopped?Promise.resolve({value:void 0,done:!0}):new Promise((e,t)=>{this.pullQueue.push({resolve:e,reject:t})})},return:()=>(this.isStopped=!0,this.pushQueue.length=0,this.remove(),Promise.resolve({value:void 0,done:!0}))}}}class r{constructor(e,{highWaterMark:t=100,lowWaterMark:r=1}={}){const n=new i;n.highWaterMark=t,n.lowWaterMark=r,n.removeCallback=e({push:e=>n.push(e),stop:()=>n.stop(),fail:e=>n.fail(e),on:(e,t)=>{n.eventHandlers[e]=t}})||(()=>{}),this[Symbol.asyncIterator]=()=>n[Symbol.asyncIterator](),Object.freeze(this)}}t.EventIterator=r,t.default=r},26729:e=>{"use strict";var n=Object.prototype.hasOwnProperty,f="~";function r(){}function s(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function i(e,t,r,n,i){if("function"!=typeof r)throw new TypeError("The listener must be a function");i=new s(r,n||e,i),t=f?f+t:t;return e._events[t]?e._events[t].fn?e._events[t]=[e._events[t],i]:e._events[t].push(i):(e._events[t]=i,e._eventsCount++),e}function c(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function t(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(f=!1)),t.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(f?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},t.prototype.listeners=function(e){var e=f?f+e:e,t=this._events[e];if(!t)return[];if(t.fn)return[t.fn];for(var r=0,n=t.length,i=new Array(n);r<n;r++)i[r]=t[r].fn;return i},t.prototype.listenerCount=function(e){e=f?f+e:e,e=this._events[e];return e?e.fn?1:e.length:0},t.prototype.emit=function(e,t,r,n,i,s){var o=f?f+e:e;if(!this._events[o])return!1;var a,c=this._events[o],u=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,n),!0;case 5:return c.fn.call(c.context,t,r,n,i),!0;case 6:return c.fn.call(c.context,t,r,n,i,s),!0}for(d=1,a=new Array(u-1);d<u;d++)a[d-1]=arguments[d];c.fn.apply(c.context,a)}else for(var h,l=c.length,d=0;d<l;d++)switch(c[d].once&&this.removeListener(e,c[d].fn,void 0,!0),u){case 1:c[d].fn.call(c[d].context);break;case 2:c[d].fn.call(c[d].context,t);break;case 3:c[d].fn.call(c[d].context,t,r);break;case 4:c[d].fn.call(c[d].context,t,r,n);break;default:if(!a)for(h=1,a=new Array(u-1);h<u;h++)a[h-1]=arguments[h];c[d].fn.apply(c[d].context,a)}return!0},t.prototype.on=function(e,t,r){return i(this,e,t,r,!1)},t.prototype.once=function(e,t,r){return i(this,e,t,r,!0)},t.prototype.removeListener=function(e,t,r,n){e=f?f+e:e;if(!this._events[e])return this;if(!t)return c(this,e),this;var i=this._events[e];if(i.fn)i.fn!==t||n&&!i.once||r&&i.context!==r||c(this,e);else{for(var s=0,o=[],a=i.length;s<a;s++)(i[s].fn!==t||n&&!i[s].once||r&&i[s].context!==r)&&o.push(i[s]);o.length?this._events[e]=1===o.length?o[0]:o:c(this,e)}return this},t.prototype.removeAllListeners=function(e){return e?(e=f?f+e:e,this._events[e]&&c(this,e)):(this._events=new r,this._eventsCount=0),this},t.prototype.off=t.prototype.removeListener,t.prototype.addListener=t.prototype.on,t.prefixed=f,e.exports=t.EventEmitter=t},17187:e=>{"use strict";var t="object"==typeof Reflect?Reflect:null,c=t&&"function"==typeof t.apply?t.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},r=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},n=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(i,s){return new Promise(function(e,t){function r(e){i.removeListener(s,n),t(e)}function n(){"function"==typeof i.removeListener&&i.removeListener("error",r),e([].slice.call(arguments))}p(i,s,n,{once:!0}),"error"===s||"function"==typeof i.on&&p(i,"error",r,{once:!0})})},(i.EventEmitter=i).prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function o(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){var i,s;return a(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener||r),i=e._events),s=i[t]),void 0===s?(s=i[t]=r,++e._eventsCount):("function"==typeof s?s=i[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),0<(r=o(e))&&s.length>r&&!s.warned&&(s.warned=!0,(r=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",r.emitter=e,r.type=t,r.count=s.length,console&&console.warn&&console.warn(r))),e}function h(e,t,r){e={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},t=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(e);return t.listener=r,e.wrapFn=t}function l(e,t,r){e=e._events;if(void 0===e)return[];t=e[t];return void 0===t?[]:"function"==typeof t?r?[t.listener||t]:[t]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(t):f(t,t.length)}function d(e){var t=this._events;if(void 0!==t){e=t[e];if("function"==typeof e)return 1;if(void 0!==e)return e.length}return 0}function f(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function p(r,n,i,s){if("function"==typeof r.on)s.once?r.once(n,i):r.on(n,i);else{if("function"!=typeof r.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r);r.addEventListener(n,function e(t){s.once&&r.removeEventListener(n,e),i(t)})}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return o(this)},i.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n,i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){if((n=0<t.length?t[0]:n)instanceof Error)throw n;i=new Error("Unhandled error."+(n?" ("+n.message+")":""));throw i.context=n,i}e=s[e];if(void 0===e)return!1;if("function"==typeof e)c(e,this,t);else for(var o=e.length,a=f(e,o),r=0;r<o;++r)c(a[r],this,t);return!0},i.prototype.on=i.prototype.addListener=function(e,t){return u(this,e,t,!1)},i.prototype.prependListener=function(e,t){return u(this,e,t,!0)},i.prototype.once=function(e,t){return a(t),this.on(e,h(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,h(this,e,t)),this},i.prototype.removeListener=function(e,t){var r,n,i,s,o;if(a(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,s=r.length-1;0<=s;s--)if(r[s]===t||r[s].listener===t){o=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,r;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){for(var n,i=Object.keys(r),s=0;s<i.length;++s)"removeListener"!==(n=i[s])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(s=t.length-1;0<=s;s--)this.removeListener(e,t[s]);return this},i.prototype.listeners=function(e){return l(this,e,!0)},i.prototype.rawListeners=function(e){return l(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},i.prototype.listenerCount=d,i.prototype.eventNames=function(){return 0<this._eventsCount?r(this._events):[]}},3975:e=>{e.exports=class{constructor(e){if(!(0<e)||0!=(e-1&e))throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){var e=this.buffer[this.btm];if(void 0!==e)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}isEmpty(){return void 0===this.buffer[this.btm]}}},91607:(e,t,r)=>{const n=r(3975);e.exports=class{constructor(e){this.hwm=e||16,this.head=new n(this.hwm),this.tail=this.head}push(e){if(!this.head.push(e)){const t=this.head;this.head=t.next=new n(2*this.head.buffer.length),this.head.push(e)}}shift(){const e=this.tail.shift();if(void 0===e&&this.tail.next){const e=this.tail.next;return this.tail.next=null,this.tail=e,this.tail.shift()}return e}isEmpty(){return this.head.isEmpty()}}},5177:e=>{e.exports=function(){if("undefined"==typeof globalThis)return null;var e={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null}},22412:e=>{e.exports=function(e){if(e){if("function"==typeof e[Symbol.iterator])return e[Symbol.iterator]();if("function"==typeof e[Symbol.asyncIterator])return e[Symbol.asyncIterator]();if("function"==typeof e.next)return e}throw new Error("argument is not an iterator or iterable")}},38058:t=>{try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},33715:(e,t,r)=>{t.utils=r(26436),t.common=r(95772),t.sha=r(89041),t.ripemd=r(12949),t.hmac=r(52344),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160},95772:(e,t,r)=>{"use strict";var n=r(26436),i=r(79746);function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}(t.BlockHash=s).prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){t=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-t,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-t,this.endian);for(var r=0;r<e.length;r+=this._delta32)this._update(e,r,r+this._delta32)}return this},s.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},s.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n}},52344:(e,t,r)=>{"use strict";var n=r(26436),i=r(79746);function s(e,t,r){if(!(this instanceof s))return new s(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}(e.exports=s).prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},s.prototype.update=function(e,t){return this.inner.update(e,t),this},s.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},12949:(e,t,r)=>{"use strict";var n=r(26436),r=r(95772),y=n.rotl32,g=n.sum32,m=n.sum32_3,b=n.sum32_4,i=r.BlockHash;function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function v(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}n.inherits(s,i),(t.ripemd160=s).blockSize=512,s.outSize=160,s.hmacStrength=192,s.padLength=64,s.prototype._update=function(e,t){for(var r,n=h=this.h[0],i=p=this.h[1],s=f=this.h[2],o=d=this.h[3],a=l=this.h[4],c=0;c<80;c++)var u=g(y(b(h,v(c,p,f,d),e[w[c]+t],(r=c)<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838),E[c]),l),h=l,l=d,d=y(f,10),f=p,p=u,u=g(y(b(n,v(79-c,i,s,o),e[_[c]+t],(r=c)<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0),S[c]),a),n=a,a=o,o=y(s,10),s=i,i=u;u=m(this.h[1],f,o),this.h[1]=m(this.h[2],d,a),this.h[2]=m(this.h[3],l,n),this.h[3]=m(this.h[4],h,i),this.h[4]=m(this.h[0],p,s),this.h[0]=u},s.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var w=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],_=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],E=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],S=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},89041:(e,t,r)=>{"use strict";t.sha1=r(84761),t.sha224=r(10799),t.sha256=r(89344),t.sha384=r(80772),t.sha512=r(45900)},84761:(e,t,r)=>{"use strict";var n=r(26436),i=r(95772),r=r(37038),h=n.rotl32,l=n.sum32,d=n.sum32_5,f=r.ft_1,s=i.BlockHash,p=[1518500249,1859775393,2400959708,3395469782];function o(){if(!(this instanceof o))return new o;s.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(o,s),(e.exports=o).blockSize=512,o.outSize=160,o.hmacStrength=80,o.padLength=64,o.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=h(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);for(var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],n=0;n<r.length;n++)var u=~~(n/20),u=d(h(i,5),f(u,s,o,a),c,r[n],p[u]),c=a,a=o,o=h(s,30),s=i,i=u;this.h[0]=l(this.h[0],i),this.h[1]=l(this.h[1],s),this.h[2]=l(this.h[2],o),this.h[3]=l(this.h[3],a),this.h[4]=l(this.h[4],c)},o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},10799:(e,t,r)=>{"use strict";var n=r(26436),i=r(89344);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(s,i),(e.exports=s).blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},89344:(e,t,r)=>{"use strict";var n=r(26436),i=r(95772),s=r(37038),p=r(79746),y=n.sum32,g=n.sum32_4,m=n.sum32_5,b=s.ch32,v=s.maj32,w=s.s0_256,_=s.s1_256,E=s.g0_256,S=s.g1_256,o=i.BlockHash,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function c(){if(!(this instanceof c))return new c;o.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=a,this.W=new Array(64)}n.inherits(c,o),(e.exports=c).blockSize=512,c.outSize=256,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=g(S(r[n-2]),r[n-7],E(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],u=this.h[5],h=this.h[6],l=this.h[7];for(p(this.k.length===r.length),n=0;n<r.length;n++)var d=m(l,_(c),b(c,u,h),this.k[n],r[n]),f=y(w(i),v(i,s,o)),l=h,h=u,u=c,c=y(a,d),a=o,o=s,s=i,i=y(d,f);this.h[0]=y(this.h[0],i),this.h[1]=y(this.h[1],s),this.h[2]=y(this.h[2],o),this.h[3]=y(this.h[3],a),this.h[4]=y(this.h[4],c),this.h[5]=y(this.h[5],u),this.h[6]=y(this.h[6],h),this.h[7]=y(this.h[7],l)},c.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},80772:(e,t,r)=>{"use strict";var n=r(26436),i=r(45900);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(s,i),(e.exports=s).blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},45900:(e,t,r)=>{"use strict";var n=r(26436),i=r(95772),O=r(79746),M=n.rotr64_hi,D=n.rotr64_lo,d=n.shr64_hi,f=n.shr64_lo,B=n.sum64,x=n.sum64_hi,N=n.sum64_lo,p=n.sum64_4_hi,y=n.sum64_4_lo,L=n.sum64_5_hi,F=n.sum64_5_lo,s=i.BlockHash,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function a(){if(!(this instanceof a))return new a;s.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=o,this.W=new Array(160)}n.inherits(a,s),(e.exports=a).blockSize=1024,a.outSize=512,a.hmacStrength=192,a.padLength=128,a.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=(a=r[n-4],l=r[n-3],u=void 0,(u=M(a,l,19)^M(l,a,29)^d(a,l,6))<0&&(u+=4294967296),u),s=(c=r[n-4],h=r[n-3],(h=D(c,h,19)^D(h,c,29)^f(c,h,6))<0&&(h+=4294967296),h),o=r[n-14],a=r[n-13],c=(l=r[n-30],u=r[n-29],(u=M(l,u,1)^M(l,u,8)^d(l,u,7))<0&&(u+=4294967296),u),u=(h=r[n-30],l=r[n-29],(l=D(h,l,1)^D(h,l,8)^f(h,l,7))<0&&(l+=4294967296),l),h=r[n-32],l=r[n-31];r[n]=p(i,s,o,a,c,u,h,l),r[n+1]=y(i,s,o,a,c,u,h,l)}},a.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],c=this.h[5],u=this.h[6],h=this.h[7],l=this.h[8],d=this.h[9],f=this.h[10],p=this.h[11],y=this.h[12],g=this.h[13],m=this.h[14],b=this.h[15];O(this.k.length===r.length);for(var v=0;v<r.length;v+=2){var w=m,_=b,E=(I=void 0,(I=M(A=l,k=d,14)^M(A,k,18)^M(k,A,9))<0&&(I+=4294967296),I),S=((R=D(R=l,T=d,14)^D(R,T,18)^D(T,R,9))<0&&(R+=4294967296),R),C=((P=l&f^~l&(P=y))<0&&(P+=4294967296),P),A=((k=d&p^~d&(k=g))<0&&(k+=4294967296),k),I=this.k[v],T=this.k[v+1],R=r[v],P=r[v+1],k=L(w,_,E,S,C,A,I,T,R,P),I=F(w,_,E,S,C,A,I,T,R,P);(T=M(T=n,R=i,28)^M(R,T,2)^M(R,T,7))<0&&(T+=4294967296),w=T,(P=D(P=n,R=i,28)^D(R,P,2)^D(R,P,7))<0&&(P+=4294967296),(T=n&s^n&(T=a)^s&T)<0&&(T+=4294967296),(R=i&o^i&(R=c)^o&R)<0&&(R+=4294967296);R=x(w,_=P,E=T,S=R),S=N(w,_,E,S),m=y,b=g,y=f,g=p,f=l,p=d,l=x(u,h,k,I),d=N(h,h,k,I),u=a,h=c,a=s,c=o,s=n,o=i,n=x(k,I,R,S),i=N(k,I,R,S)}B(this.h,0,n,i),B(this.h,2,s,o),B(this.h,4,a,c),B(this.h,6,u,h),B(this.h,8,l,d),B(this.h,10,f,p),B(this.h,12,y,g),B(this.h,14,m,b)},a.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},37038:(e,t,r)=>{"use strict";var n=r(26436).rotr32;function i(e,t,r){return e&t^~e&r}function s(e,t,r){return e&t^e&r^t&r}function o(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?t^r^n:2===e?s(t,r,n):void 0},t.ch32=i,t.maj32=s,t.p32=o,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},26436:(e,t,r)=>{"use strict";var c=r(79746),r=r(35717);function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function n(e){return 1===e.length?"0"+e:e}function o(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=r,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r,n,i=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),o=0;o<e.length;o+=2)i.push(parseInt(e[o]+e[o+1],16))}else for(var s=0,o=0;o<e.length;o++){var a=e.charCodeAt(o);a<128?i[s++]=a:a<2048?(i[s++]=a>>6|192,i[s++]=63&a|128):(n=o,55296!=(64512&(r=e).charCodeAt(n))||n<0||n+1>=r.length||56320!=(64512&r.charCodeAt(n+1))?i[s++]=a>>12|224:(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++o)),i[s++]=a>>18|240,i[s++]=a>>12&63|128),i[s++]=a>>6&63|128,i[s++]=63&a|128)}else for(o=0;o<e.length;o++)i[o]=0|e[o];return i},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t},t.htonl=s,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];r+=o((i="little"===t?s(i):i).toString(16))}return r},t.zero2=n,t.zero8=o,t.join32=function(e,t,r,n){r-=t;c(r%4==0);for(var i=new Array(r/4),s=0,o=t;s<i.length;s++,o+=4){var a="big"===n?e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3]:e[o+3]<<24|e[o+2]<<16|e[o+1]<<8|e[o];i[s]=a>>>0}return i},t.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var s=e[n];"big"===t?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},t.sum64=function(e,t,r,n){var i=e[t],s=n+e[t+1]>>>0;e[t]=(s<n?1:0)+r+i>>>0,e[t+1]=s},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,i,s,o,a){var c,u=0;return u+=(c=t+n>>>0)<t?1:0,e+r+i+o+((u+=(c=c+s>>>0)<s?1:0)+(c+a>>>0<a?1:0))>>>0},t.sum64_4_lo=function(e,t,r,n,i,s,o,a){return t+n+s+a>>>0},t.sum64_5_hi=function(e,t,r,n,i,s,o,a,c,u){var h,l=0;return l+=(h=t+n>>>0)<t?1:0,l+=(h=h+s>>>0)<s?1:0,e+r+i+o+c+((l+=(h=h+a>>>0)<a?1:0)+(h+u>>>0<u?1:0))>>>0},t.sum64_5_lo=function(e,t,r,n,i,s,o,a,c,u){return t+n+s+a+u>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},70248:e=>{e.exports=function(r){if(!r)throw Error("hashlru must have a max value, of type number, greater than 0");var n=0,i=Object.create(null),s=Object.create(null);function o(e,t){i[e]=t,++n>=r&&(n=0,s=i,i=Object.create(null))}return{has:function(e){return void 0!==i[e]||void 0!==s[e]},remove:function(e){void 0!==i[e]&&(i[e]=void 0),void 0!==s[e]&&(s[e]=void 0)},get:function(e){var t=i[e];return void 0!==t?t:void 0!==(t=s[e])?(o(e,t),t):void 0},set:function(e,t){void 0!==i[e]?i[e]=t:o(e,t)},clear:function(){i=Object.create(null),s=Object.create(null)}}}},2156:(e,t,r)=>{"use strict";var n=r(33715),s=r(34504),i=r(79746);function o(e){if(!(this instanceof o))return new o(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=s.toArray(e.entropy,e.entropyEnc||"hex"),r=s.toArray(e.nonce,e.nonceEnc||"hex"),e=s.toArray(e.pers,e.persEnc||"hex");i(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,e)}(e.exports=o).prototype._init=function(e,t,r){r=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},o.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=s.toArray(e,t),r=s.toArray(r,n),i(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},o.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=s.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);n=i.slice(0,e);return this._update(r),this._reseed++,s.encode(n,t)}},80645:(e,t)=>{t.read=function(e,t,r,n,i){var s,o,a=8*i-n-1,c=(1<<a)-1,u=c>>1,h=-7,l=r?i-1:0,d=r?-1:1,r=e[t+l];for(l+=d,s=r&(1<<-h)-1,r>>=-h,h+=a;0<h;s=256*s+e[t+l],l+=d,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=n;0<h;o=256*o+e[t+l],l+=d,h-=8);if(0===s)s=1-u;else{if(s===c)return o?NaN:1/0*(r?-1:1);o+=Math.pow(2,n),s-=u}return(r?-1:1)*o*Math.pow(2,s-n)},t.write=function(e,t,r,n,i,s){var o,a,c=8*s-i-1,u=(1<<c)-1,h=u>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,f=n?1:-1,s=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(n=Math.pow(2,-o))<1&&(o--,n*=2),2<=(t+=1<=o+h?l/n:l*Math.pow(2,1-h))*n&&(o++,n/=2),u<=o+h?(a=0,o=u):1<=o+h?(a=(t*n-1)*Math.pow(2,i),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));8<=i;e[r+d]=255&a,d+=f,a/=256,i-=8);for(o=o<<i|a,c+=i;0<c;e[r+d]=255&o,d+=f,o/=256,c-=8);e[r+d-f]|=128*s}},95602:e=>{"use strict";e.exports=(e,t=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},"string"!=typeof e)throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if("number"!=typeof t)throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if("string"!=typeof r.indent)throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(0===t)return e;var n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(n,r.indent.repeat(t))}},35717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){var r;t&&(e.super_=t,(r=function(){}).prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e)}},91843:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.v6=t.AddressError=t.Address6=t.Address4=void 0;var o=r(62507);Object.defineProperty(t,"Address4",{enumerable:!0,get:function(){return o.Address4}});var a=r(76862);Object.defineProperty(t,"Address6",{enumerable:!0,get:function(){return a.Address6}});var c=r(64762);Object.defineProperty(t,"AddressError",{enumerable:!0,get:function(){return c.AddressError}});r=s(r(16454));t.v6={helpers:r}},64762:function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AddressError=void 0;var i,r=(i=Error,r(s,i),s);function s(e,t){e=i.call(this,e)||this;return e.name="AddressError",null!==t&&(e.parseMessage=t),e}t.AddressError=r},72029:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCorrect=t.isInSubnet=void 0,t.isInSubnet=function(e){return!(this.subnetMask<e.subnetMask)&&this.mask(e.subnetMask)===e.mask()},t.isCorrect=function(e){return function(){return this.addressMinusSuffix===this.correctForm()&&(this.subnetMask===e&&!this.parsedSubnet||this.parsedSubnet===String(this.subnetMask))}}},62507:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Address4=void 0;var o=s(r(72029)),a=s(r(37802)),c=r(64762),u=r(3799),h=r(8975),r=(l.isValid=function(e){try{return new l(e),!0}catch(e){return!1}},l.prototype.parse=function(e){var t=e.split(".");if(!e.match(a.RE_ADDRESS))throw new c.AddressError("Invalid IPv4 address.");return t},l.prototype.correctForm=function(){return this.parsedAddress.map(function(e){return parseInt(e,10)}).join(".")},l.fromHex=function(e){for(var t=e.replace(/:/g,"").padStart(8,"0"),r=[],n=0;n<8;n+=2){var i=t.slice(n,n+2);r.push(parseInt(i,16))}return new l(r.join("."))},l.fromInteger=function(e){return l.fromHex(e.toString(16))},l.fromArpa=function(e){return new l(e.replace(/(\.in-addr\.arpa)?\.$/,"").split(".").reverse().join("."))},l.prototype.toHex=function(){return this.parsedAddress.map(function(e){return h.sprintf("%02x",parseInt(e,10))}).join(":")},l.prototype.toArray=function(){return this.parsedAddress.map(function(e){return parseInt(e,10)})},l.prototype.toGroup6=function(){for(var e=[],t=0;t<a.GROUPS;t+=2){var r=h.sprintf("%02x%02x",parseInt(this.parsedAddress[t],10),parseInt(this.parsedAddress[t+1],10));e.push(h.sprintf("%x",parseInt(r,16)))}return e.join(":")},l.prototype.bigInteger=function(){return new u.BigInteger(this.parsedAddress.map(function(e){return h.sprintf("%02x",parseInt(e,10))}).join(""),16)},l.prototype._startAddress=function(){return new u.BigInteger(this.mask()+"0".repeat(a.BITS-this.subnetMask),2)},l.prototype.startAddress=function(){return l.fromBigInteger(this._startAddress())},l.prototype.startAddressExclusive=function(){var e=new u.BigInteger("1");return l.fromBigInteger(this._startAddress().add(e))},l.prototype._endAddress=function(){return new u.BigInteger(this.mask()+"1".repeat(a.BITS-this.subnetMask),2)},l.prototype.endAddress=function(){return l.fromBigInteger(this._endAddress())},l.prototype.endAddressExclusive=function(){var e=new u.BigInteger("1");return l.fromBigInteger(this._endAddress().subtract(e))},l.fromBigInteger=function(e){return l.fromInteger(parseInt(e.toString(),10))},l.prototype.mask=function(e){return void 0===e&&(e=this.subnetMask),this.getBitsBase2(0,e)},l.prototype.getBitsBase2=function(e,t){return this.binaryZeroPad().slice(e,t)},l.prototype.reverseForm=function(e){e=e||{};var t=this.correctForm().split(".").reverse().join(".");return e.omitSuffix?t:h.sprintf("%s.in-addr.arpa.",t)},l.prototype.isMulticast=function(){return this.isInSubnet(new l("224.0.0.0/4"))},l.prototype.binaryZeroPad=function(){return this.bigInteger().toString(2).padStart(a.BITS,"0")},l.prototype.groupForV6=function(){var e=this.parsedAddress;return this.address.replace(a.RE_ADDRESS,h.sprintf('<span class="hover-group group-v4 group-6">%s</span>.<span class="hover-group group-v4 group-7">%s</span>',e.slice(0,2).join("."),e.slice(2,4).join(".")))},l);function l(e){this.groups=a.GROUPS,this.parsedAddress=[],this.parsedSubnet="",this.subnet="/32",this.subnetMask=32,this.v4=!0,this.isCorrect=o.isCorrect(a.BITS),this.isInSubnet=o.isInSubnet,this.address=e;var t=a.RE_SUBNET_STRING.exec(e);if(t){if(this.parsedSubnet=t[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet="/"+this.subnetMask,this.subnetMask<0||this.subnetMask>a.BITS)throw new c.AddressError("Invalid subnet mask.");e=e.replace(a.RE_SUBNET_STRING,"")}this.addressMinusSuffix=e,this.parsedAddress=this.parse(e)}t.Address4=r},76862:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Address6=void 0;var a=s(r(72029)),c=s(r(37802)),u=s(r(88521)),h=s(r(16454)),l=r(62507),d=r(34489),f=r(64762),p=r(3799),y=r(8975);function g(e){if(!e)throw new Error("Assertion failed.")}function m(e){return(e=e.replace(/^(0{1,})([1-9]+)$/,'<span class="parse-error">$1</span>$2')).replace(/^(0{1,})(0)$/,'<span class="parse-error">$1</span>$2')}function b(e){return y.sprintf("%04x",parseInt(e,16))}function v(e){return 255&e}w.isValid=function(e){try{return new w(e),!0}catch(e){return!1}},w.fromBigInteger=function(e){for(var t=e.toString(16).padStart(32,"0"),r=[],n=0;n<u.GROUPS;n++)r.push(t.slice(4*n,4*(n+1)));return new w(r.join(":"))},w.fromURL=function(e){var t,r,n=null;if(-1!==e.indexOf("[")&&-1!==e.indexOf("]:")){if(null===(r=u.RE_URL_WITH_PORT.exec(e)))return{error:"failed to parse address with port",address:null,port:null};t=r[1],n=r[2]}else if(-1!==e.indexOf("/")){if(e=e.replace(/^[a-z0-9]+:\/\//,""),null===(r=u.RE_URL.exec(e)))return{error:"failed to parse address from URL",address:null,port:null};t=r[1]}else t=e;return(!n||(n=parseInt(n,10))<0||65536<n)&&(n=null),{address:new w(t),port:n}},w.fromAddress4=function(e){var t=new l.Address4(e),e=u.BITS-(c.BITS-t.subnetMask);return new w("::ffff:"+t.correctForm()+"/"+e)},w.fromArpa=function(e){e=e.replace(/(\.ip6\.arpa)?\.$/,"");if(63!==e.length)throw new f.AddressError("Invalid 'ip6.arpa' form.");for(var t=e.split(".").reverse(),r=7;0<r;r--)t.splice(4*r,0,":");return new w(e=t.join(""))},w.prototype.microsoftTranscription=function(){return y.sprintf("%s.ipv6-literal.net",this.correctForm().replace(/:/g,"-"))},w.prototype.mask=function(e){return void 0===e&&(e=this.subnetMask),this.getBitsBase2(0,e)},w.prototype.possibleSubnets=function(e){void 0===e&&(e=128);e=u.BITS-this.subnetMask-Math.abs(e-u.BITS);return e<0?"0":function(e){for(var t=/(\d+)(\d{3})/;t.test(e);)e=e.replace(t,"$1,$2");return e}(new p.BigInteger("2",10).pow(e).toString(10))},w.prototype._startAddress=function(){return new p.BigInteger(this.mask()+"0".repeat(u.BITS-this.subnetMask),2)},w.prototype.startAddress=function(){return w.fromBigInteger(this._startAddress())},w.prototype.startAddressExclusive=function(){var e=new p.BigInteger("1");return w.fromBigInteger(this._startAddress().add(e))},w.prototype._endAddress=function(){return new p.BigInteger(this.mask()+"1".repeat(u.BITS-this.subnetMask),2)},w.prototype.endAddress=function(){return w.fromBigInteger(this._endAddress())},w.prototype.endAddressExclusive=function(){var e=new p.BigInteger("1");return w.fromBigInteger(this._endAddress().subtract(e))},w.prototype.getScope=function(){var e=u.SCOPES[this.getBits(12,16).intValue()];return(e="Global unicast"===this.getType()&&"Link local"!==e?"Global":e)||"Unknown"},w.prototype.getType=function(){for(var e=0,t=Object.keys(u.TYPES);e<t.length;e++){var r=t[e];if(this.isInSubnet(new w(r)))return u.TYPES[r]}return"Global unicast"},w.prototype.getBits=function(e,t){return new p.BigInteger(this.getBitsBase2(e,t),2)},w.prototype.getBitsBase2=function(e,t){return this.binaryZeroPad().slice(e,t)},w.prototype.getBitsBase16=function(e,t){var r=t-e;if(r%4!=0)throw new Error("Length of bits to retrieve must be divisible by four");return this.getBits(e,t).toString(16).padStart(r/4,"0")},w.prototype.getBitsPastSubnet=function(){return this.getBitsBase2(this.subnetMask,u.BITS)},w.prototype.reverseForm=function(e){e=e||{};var t=Math.floor(this.subnetMask/4),r=this.canonicalForm().replace(/:/g,"").split("").slice(0,t).reverse().join(".");return 0<t?e.omitSuffix?r:y.sprintf("%s.ip6.arpa.",r):e.omitSuffix?"":"ip6.arpa."},w.prototype.correctForm=function(){for(var e=[],t=0,r=[],n=0;n<this.parsedAddress.length;n++){var i=parseInt(this.parsedAddress[n],16);0===i&&t++,0!==i&&0<t&&(1<t&&r.push([n-t,n-1]),t=0)}1<t&&r.push([this.parsedAddress.length-t,this.parsedAddress.length-1]);var s=r.map(function(e){return e[1]-e[0]+1});for(e=0<r.length?(s=s.indexOf(Math.max.apply(Math,s)),function(e,t){for(var r=[],n=[],i=0;i<e.length;i++)i<t[0]?r.push(e[i]):i>t[1]&&n.push(e[i]);return r.concat(["compact"]).concat(n)}(this.parsedAddress,r[s])):this.parsedAddress,n=0;n<e.length;n++)"compact"!==e[n]&&(e[n]=parseInt(e[n],16).toString(16));return e.join(":").replace(/^compact$/,"::").replace(/^compact|compact$/,":").replace(/compact/,"")},w.prototype.binaryZeroPad=function(){return this.bigInteger().toString(2).padStart(u.BITS,"0")},w.prototype.parse4in6=function(e){var t=e.split(":"),r=t.slice(-1)[0].match(c.RE_ADDRESS);if(r){this.parsedAddress4=r[0],this.address4=new l.Address4(this.parsedAddress4);for(var n=0;n<this.address4.groups;n++)if(/^0[0-9]+/.test(this.address4.parsedAddress[n]))throw new f.AddressError("IPv4 addresses can't have leading zeroes.",e.replace(c.RE_ADDRESS,this.address4.parsedAddress.map(m).join(".")));this.v4=!0,t[t.length-1]=this.address4.toGroup6(),e=t.join(":")}return e},w.prototype.parse=function(e){var t=(e=this.parse4in6(e)).match(u.RE_BAD_CHARACTERS);if(t)throw new f.AddressError(y.sprintf("Bad character%s detected in address: %s",1<t.length?"s":"",t.join("")),e.replace(u.RE_BAD_CHARACTERS,'<span class="parse-error">$1</span>'));var r=e.match(u.RE_BAD_ADDRESS);if(r)throw new f.AddressError(y.sprintf("Address failed regex: %s",r.join("")),e.replace(u.RE_BAD_ADDRESS,'<span class="parse-error">$1</span>'));var n=[],i=e.split("::");if(2===i.length){t=i[0].split(":"),r=i[1].split(":");1===t.length&&""===t[0]&&(t=[]),1===r.length&&""===r[0]&&(r=[]);var s=this.groups-(t.length+r.length);if(!s)throw new f.AddressError("Error parsing groups");this.elidedGroups=s,this.elisionBegin=t.length,this.elisionEnd=t.length+this.elidedGroups;for(var n=n.concat(t),o=0;o<s;o++)n.push("0");n=n.concat(r)}else{if(1!==i.length)throw new f.AddressError("Too many :: groups found");n=e.split(":"),this.elidedGroups=0}if((n=n.map(function(e){return y.sprintf("%x",parseInt(e,16))})).length!==this.groups)throw new f.AddressError("Incorrect number of groups found");return n},w.prototype.canonicalForm=function(){return this.parsedAddress.map(b).join(":")},w.prototype.decimal=function(){return this.parsedAddress.map(function(e){return y.sprintf("%05d",parseInt(e,16))}).join(":")},w.prototype.bigInteger=function(){return new p.BigInteger(this.parsedAddress.map(b).join(""),16)},w.prototype.to4=function(){var e=this.binaryZeroPad().split("");return l.Address4.fromHex(new p.BigInteger(e.slice(96,128).join(""),2).toString(16))},w.prototype.to4in6=function(){var e=this.to4(),t=new w(this.parsedAddress.slice(0,6).join(":"),6).correctForm(),r="";return t+(r=!/:$/.test(t)?":":r)+e.address},w.prototype.inspectTeredo=function(){var e=this.getBitsBase16(0,32),t=this.getBits(80,96).xor(new p.BigInteger("ffff",16)).toString(),r=l.Address4.fromHex(this.getBitsBase16(32,64)),n=l.Address4.fromHex(this.getBits(96,128).xor(new p.BigInteger("ffffffff",16)).toString(16)),i=this.getBits(64,80),s=this.getBitsBase2(64,80),o=i.testBit(15),a=i.testBit(14),c=i.testBit(8),u=i.testBit(9),i=new p.BigInteger(s.slice(2,6)+s.slice(8,16),2).toString(10);return{prefix:y.sprintf("%s:%s",e.slice(0,4),e.slice(4,8)),server4:r.address,client4:n.address,flags:s,coneNat:o,microsoft:{reserved:a,universalLocal:u,groupIndividual:c,nonce:i},udpPort:t}},w.prototype.inspect6to4=function(){var e=this.getBitsBase16(0,16),t=l.Address4.fromHex(this.getBitsBase16(16,48));return{prefix:y.sprintf("%s",e.slice(0,4)),gateway:t.address}},w.prototype.to6to4=function(){return this.is4()?new w(["2002",this.getBitsBase16(96,112),this.getBitsBase16(112,128),"","/16"].join(":")):null},w.prototype.toByteArray=function(){var e=this.bigInteger().toByteArray();return 17===e.length&&0===e[0]?e.slice(1):e},w.prototype.toUnsignedByteArray=function(){return this.toByteArray().map(v)},w.fromByteArray=function(e){return this.fromUnsignedByteArray(e.map(v))},w.fromUnsignedByteArray=function(e){for(var t=new p.BigInteger("256",10),r=new p.BigInteger("0",10),n=new p.BigInteger("1",10),i=e.length-1;0<=i;i--)r=r.add(n.multiply(new p.BigInteger(e[i].toString(10),10))),n=n.multiply(t);return w.fromBigInteger(r)},w.prototype.isCanonical=function(){return this.addressMinusSuffix===this.canonicalForm()},w.prototype.isLinkLocal=function(){return"1111111010000000000000000000000000000000000000000000000000000000"===this.getBitsBase2(0,64)},w.prototype.isMulticast=function(){return"Multicast"===this.getType()},w.prototype.is4=function(){return this.v4},w.prototype.isTeredo=function(){return this.isInSubnet(new w("2001::/32"))},w.prototype.is6to4=function(){return this.isInSubnet(new w("2002::/16"))},w.prototype.isLoopback=function(){return"Loopback"===this.getType()},w.prototype.href=function(e){return e=void 0===e?"":y.sprintf(":%s",e),y.sprintf("http://[%s]%s/",this.correctForm(),e)},w.prototype.link=function(e){void 0===(e=e||{}).className&&(e.className=""),void 0===e.prefix&&(e.prefix="/#address="),void 0===e.v4&&(e.v4=!1);var t=this.correctForm;return e.v4&&(t=this.to4in6),e.className?y.sprintf('<a href="%1$s%2$s" class="%3$s">%2$s</a>',e.prefix,t.call(this),e.className):y.sprintf('<a href="%1$s%2$s">%2$s</a>',e.prefix,t.call(this))},w.prototype.group=function(){if(0===this.elidedGroups)return h.simpleGroup(this.address).join(":");g("number"==typeof this.elidedGroups),g("number"==typeof this.elisionBegin);var e=[],t=this.address.split("::"),r=t[0],t=t[1];r.length?e.push.apply(e,h.simpleGroup(r)):e.push("");for(var n=["hover-group"],i=this.elisionBegin;i<this.elisionBegin+this.elidedGroups;i++)n.push(y.sprintf("group-%d",i));return e.push(y.sprintf('<span class="%s"></span>',n.join(" "))),t.length?e.push.apply(e,h.simpleGroup(t,this.elisionEnd)):e.push(""),this.is4()&&(g(this.address4 instanceof l.Address4),e.pop(),e.push(this.address4.groupForV6())),e.join(":")},w.prototype.regularExpressionString=function(e){void 0===e&&(e=!1);var t,r=[],n=new w(this.correctForm());return 0===n.elidedGroups?r.push(d.simpleRegularExpression(n.parsedAddress)):n.elidedGroups===u.GROUPS?r.push(d.possibleElisions(u.GROUPS)):((t=n.address.split("::"))[0].length&&r.push(d.simpleRegularExpression(t[0].split(":"))),g("number"==typeof n.elidedGroups),r.push(d.possibleElisions(n.elidedGroups,0!==t[0].length,0!==t[1].length)),t[1].length&&r.push(d.simpleRegularExpression(t[1].split(":"))),r=[r.join(":")]),(r=!e?o(o(["(?=^|",d.ADDRESS_BOUNDARY,"|[^\\w\\:])("],r),[")(?=[^\\w\\:]|",d.ADDRESS_BOUNDARY,"|$)"]):r).join("")},w.prototype.regularExpression=function(e){return void 0===e&&(e=!1),new RegExp(this.regularExpressionString(e),"i")},r=w;function w(e,t){this.addressMinusSuffix="",this.parsedSubnet="",this.subnet="/128",this.subnetMask=128,this.v4=!1,this.zone="",this.isInSubnet=a.isInSubnet,this.isCorrect=a.isCorrect(u.BITS),this.groups=void 0===t?u.GROUPS:t,this.address=e;t=u.RE_SUBNET_STRING.exec(e);if(t){if(this.parsedSubnet=t[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet="/"+this.subnetMask,Number.isNaN(this.subnetMask)||this.subnetMask<0||this.subnetMask>u.BITS)throw new f.AddressError("Invalid subnet mask.");e=e.replace(u.RE_SUBNET_STRING,"")}else if(/\//.test(e))throw new f.AddressError("Invalid subnet mask.");t=u.RE_ZONE_STRING.exec(e);t&&(this.zone=t[0],e=e.replace(u.RE_ZONE_STRING,"")),this.addressMinusSuffix=e,this.parsedAddress=this.parse(this.addressMinusSuffix)}t.Address6=r},37802:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RE_SUBNET_STRING=t.RE_ADDRESS=t.GROUPS=t.BITS=void 0,t.BITS=32,t.GROUPS=4,t.RE_ADDRESS=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/g,t.RE_SUBNET_STRING=/\/\d{1,2}$/},88521:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RE_URL_WITH_PORT=t.RE_URL=t.RE_ZONE_STRING=t.RE_SUBNET_STRING=t.RE_BAD_ADDRESS=t.RE_BAD_CHARACTERS=t.TYPES=t.SCOPES=t.GROUPS=t.BITS=void 0,t.BITS=128,t.GROUPS=8,t.SCOPES={0:"Reserved",1:"Interface local",2:"Link local",4:"Admin local",5:"Site local",8:"Organization local",14:"Global",15:"Reserved"},t.TYPES={"ff01::1/128":"Multicast (All nodes on this interface)","ff01::2/128":"Multicast (All routers on this interface)","ff02::1/128":"Multicast (All nodes on this link)","ff02::2/128":"Multicast (All routers on this link)","ff05::2/128":"Multicast (All routers in this site)","ff02::5/128":"Multicast (OSPFv3 AllSPF routers)","ff02::6/128":"Multicast (OSPFv3 AllDR routers)","ff02::9/128":"Multicast (RIP routers)","ff02::a/128":"Multicast (EIGRP routers)","ff02::d/128":"Multicast (PIM routers)","ff02::16/128":"Multicast (MLDv2 reports)","ff01::fb/128":"Multicast (mDNSv6)","ff02::fb/128":"Multicast (mDNSv6)","ff05::fb/128":"Multicast (mDNSv6)","ff02::1:2/128":"Multicast (All DHCP servers and relay agents on this link)","ff05::1:2/128":"Multicast (All DHCP servers and relay agents in this site)","ff02::1:3/128":"Multicast (All DHCP servers on this link)","ff05::1:3/128":"Multicast (All DHCP servers in this site)","::/128":"Unspecified","::1/128":"Loopback","ff00::/8":"Multicast","fe80::/10":"Link-local unicast"},t.RE_BAD_CHARACTERS=/([^0-9a-f:/%])/gi,t.RE_BAD_ADDRESS=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/gi,t.RE_SUBNET_STRING=/\/\d{1,3}(?=%|$)/,t.RE_ZONE_STRING=/%.*$/,t.RE_URL=new RegExp(/^\[{0,1}([0-9a-f:]+)\]{0,1}/),t.RE_URL_WITH_PORT=new RegExp(/\[([0-9a-f:]+)\]:([0-9]{1,5})/)},16454:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.simpleGroup=t.spanLeadingZeroes=t.spanAll=t.spanAllZeroes=void 0;var n=r(8975);function i(e){return e.replace(/(0+)/g,'<span class="zero">$1</span>')}function s(e){return e.replace(/^(0+)/,'<span class="zero">$1</span>')}t.spanAllZeroes=i,t.spanAll=function(e,r){return void 0===r&&(r=0),e.split("").map(function(e,t){return n.sprintf('<span class="digit value-%s position-%d">%s</span>',e,t+r,i(e))}).join("")},t.spanLeadingZeroes=function(e){return e.split(":").map(s).join(":")},t.simpleGroup=function(e,r){return void 0===r&&(r=0),e.split(":").map(function(e,t){return/group-v4/.test(e)?e:n.sprintf('<span class="hover-group group-%d">%s</span>',t+r,s(e))})}},34489:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.possibleElisions=t.simpleRegularExpression=t.ADDRESS_BOUNDARY=t.padGroup=t.groupPossibilities=void 0;var o=s(r(88521)),c=r(8975);function u(e){return c.sprintf("(%s)",e.join("|"))}function a(e){return e.length<4?c.sprintf("0{0,%d}%s",4-e.length,e):e}t.groupPossibilities=u,t.padGroup=a,t.ADDRESS_BOUNDARY="[^A-Fa-f0-9:]",t.simpleRegularExpression=function(e){var r=[];e.forEach(function(e,t){0===parseInt(e,16)&&r.push(t)});var t=r.map(function(r){return e.map(function(e,t){if(t!==r)return a(e);t=0===t||t===o.GROUPS-1?":":"";return u([a(e),t])}).join(":")});return t.push(e.map(a).join(":")),u(t)},t.possibleElisions=function(e,t,r){var n=t?"":":",i=r?"":":",s=[];t||r||s.push("::"),t&&r&&s.push(""),(r&&!t||!r&&t)&&s.push(":"),s.push(c.sprintf("%s(:0{1,4}){1,%d}",n,e-1)),s.push(c.sprintf("(0{1,4}:){1,%d}%s",e-1,i)),s.push(c.sprintf("(0{1,4}:){%d}0{1,4}",e-1));for(var o=1;o<e-1;o++)for(var a=1;a<e-o;a++)s.push(c.sprintf("(0{1,4}:){%d}:(0{1,4}:){%d}0{1,4}",a,e-a-o-1));return u(s)}},3799:function(O,e){!function(){function m(e,t,r){null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function b(){return new m(null)}var e="undefined"!=typeof navigator,e=e&&"Microsoft Internet Explorer"==navigator.appName?(m.prototype.am=function(e,t,r,n,i,s){for(var o=32767&t,a=t>>15;0<=--s;){var c=32767&this[e],u=this[e++]>>15,h=a*c+u*o;i=((c=o*c+((32767&h)<<15)+r[n]+(1073741823&i))>>>30)+(h>>>15)+a*u+(i>>>30),r[n++]=1073741823&c}return i},30):e&&"Netscape"!=navigator.appName?(m.prototype.am=function(e,t,r,n,i,s){for(;0<=--s;){var o=t*this[e++]+r[n]+i;i=Math.floor(o/67108864),r[n++]=67108863&o}return i},26):(m.prototype.am=function(e,t,r,n,i,s){for(var o=16383&t,a=t>>14;0<=--s;){var c=16383&this[e],u=this[e++]>>14,h=a*c+u*o;i=((c=o*c+((16383&h)<<14)+r[n]+i)>>28)+(h>>14)+a*u,r[n++]=268435455&c}return i},28);m.prototype.DB=e,m.prototype.DM=(1<<e)-1,m.prototype.DV=1<<e,m.prototype.FV=Math.pow(2,52),m.prototype.F1=52-e,m.prototype.F2=2*e-52;for(var r=new Array,t="0".charCodeAt(0),n=0;n<=9;++n)r[t++]=n;for(t="a".charCodeAt(0),n=10;n<36;++n)r[t++]=n;for(t="A".charCodeAt(0),n=10;n<36;++n)r[t++]=n;function c(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function u(e,t){t=r[e.charCodeAt(t)];return null==t?-1:t}function g(e){var t=b();return t.fromInt(e),t}function v(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function w(e){this.m=e}function _(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function i(e,t){return e&t}function s(e,t){return e|t}function o(e,t){return e^t}function a(e,t){return e&~t}function h(){}function l(e){return e}function E(e){this.r2=b(),this.q3=b(),m.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}w.prototype.convert=function(e){return e.s<0||0<=e.compareTo(this.m)?e.mod(this.m):e},w.prototype.revert=function(e){return e},w.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},w.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},w.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},_.prototype.convert=function(e){var t=b();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&0<t.compareTo(m.ZERO)&&this.m.subTo(t,t),t},_.prototype.revert=function(e){var t=b();return e.copyTo(t),this.reduce(t),t},_.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[r=t+this.m.t]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),0<=e.compareTo(this.m)&&e.subTo(this.m,e)},_.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},_.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},m.prototype.copyTo=function(e){for(var t=this.t-1;0<=t;--t)e[t]=this[t];e.t=this.t,e.s=this.s},m.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,0<e?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},m.prototype.fromString=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var n=e.length,i=!1,s=0;0<=--n;){var o=8==r?255&e[n]:u(e,n);o<0?"-"==e.charAt(n)&&(i=!0):(i=!1,0==s?this[this.t++]=o:s+r>this.DB?(this[this.t-1]|=(o&(1<<this.DB-s)-1)<<s,this[this.t++]=o>>this.DB-s):this[this.t-1]|=o<<s,(s+=r)>=this.DB&&(s-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,0<s&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&m.ZERO.subTo(this,this)},m.prototype.clamp=function(){for(var e=this.s&this.DM;0<this.t&&this[this.t-1]==e;)--this.t},m.prototype.dlShiftTo=function(e,t){for(var r=this.t-1;0<=r;--r)t[r+e]=this[r];for(r=e-1;0<=r;--r)t[r]=0;t.t=this.t+e,t.s=this.s},m.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},m.prototype.lShiftTo=function(e,t){for(var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,s=Math.floor(e/this.DB),o=this.s<<r&this.DM,a=this.t-1;0<=a;--a)t[a+s+1]=this[a]>>n|o,o=(this[a]&i)<<r;for(a=s-1;0<=a;--a)t[a]=0;t[s]=o,t.t=this.t+s+1,t.s=this.s,t.clamp()},m.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,s=(1<<n)-1;t[0]=this[r]>>n;for(var o=r+1;o<this.t;++o)t[o-r-1]|=(this[o]&s)<<i,t[o-r]=this[o]>>n;0<n&&(t[this.t-r-1]|=(this.s&s)<<i),t.t=this.t-r,t.clamp()}},m.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:0<n&&(t[r++]=n),t.t=r,t.clamp()},m.prototype.multiplyTo=function(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;0<=--i;)t[i]=0;for(i=0;i<n.t;++i)t[i+r.t]=r.am(0,n[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&m.ZERO.subTo(t,t)},m.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;0<=--r;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}0<e.t&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},m.prototype.divRemTo=function(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=t&&t.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=b());var s=b(),o=this.s,a=e.s,e=this.DB-v(n[n.t-1]);0<e?(n.lShiftTo(e,s),i.lShiftTo(e,r)):(n.copyTo(s),i.copyTo(r));var c=s.t,u=s[c-1];if(0!=u){var i=u*(1<<this.F1)+(1<c?s[c-2]>>this.F2:0),h=this.FV/i,l=(1<<this.F1)/i,d=1<<this.F2,f=r.t,p=f-c,y=null==t?b():t;for(s.dlShiftTo(p,y),0<=r.compareTo(y)&&(r[r.t++]=1,r.subTo(y,r)),m.ONE.dlShiftTo(c,y),y.subTo(s,s);s.t<c;)s[s.t++]=0;for(;0<=--p;){var g=r[--f]==u?this.DM:Math.floor(r[f]*h+(r[f-1]+d)*l);if((r[f]+=s.am(0,g,r,p,0,c))<g)for(s.dlShiftTo(p,y),r.subTo(y,r);r[f]<--g;)r.subTo(y,r)}null!=t&&(r.drShiftTo(c,t),o!=a&&m.ZERO.subTo(t,t)),r.t=c,r.clamp(),0<e&&r.rShiftTo(e,r),o<0&&m.ZERO.subTo(r,r)}}},m.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return 0<(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)?this.DV-t:-t},m.prototype.isEven=function(){return 0==(0<this.t?1&this[0]:this.s)},m.prototype.exp=function(e,t){if(4294967295<e||e<1)return m.ONE;var r,n=b(),i=b(),s=t.convert(this),o=v(e)-1;for(s.copyTo(n);0<=--o;)t.sqrTo(n,i),0<(e&1<<o)?t.mulTo(i,s,n):(r=n,n=i,i=r);return t.revert(n)},m.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,i=!1,s="",o=this.t,a=this.DB-o*this.DB%t;if(0<o--)for(a<this.DB&&0<(r=this[o]>>a)&&(i=!0,s=c(r));0<=o;)a<t?(r=(this[o]&(1<<a)-1)<<t-a,r|=this[--o]>>(a+=this.DB-t)):(r=this[o]>>(a-=t)&n,a<=0&&(a+=this.DB,--o)),(i=0<r?!0:i)&&(s+=c(r));return i?s:"0"},m.prototype.negate=function(){var e=b();return m.ZERO.subTo(this,e),e},m.prototype.abs=function(){return this.s<0?this.negate():this},m.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;0<=--r;)if(0!=(t=this[r]-e[r]))return t;return 0},m.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+v(this[this.t-1]^this.s&this.DM)},m.prototype.mod=function(e){var t=b();return this.abs().divRemTo(e,null,t),this.s<0&&0<t.compareTo(m.ZERO)&&e.subTo(t,t),t},m.prototype.modPowInt=function(e,t){t=new(e<256||t.isEven()?w:_)(t);return this.exp(e,t)},m.ZERO=g(0),m.ONE=g(1),h.prototype.convert=l,h.prototype.revert=l,h.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},h.prototype.sqrTo=function(e,t){e.squareTo(t)},E.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=b();return e.copyTo(t),this.reduce(t),t},E.prototype.revert=function(e){return e},E.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);0<=e.compareTo(this.m);)e.subTo(this.m,e)},E.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},E.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var d,f=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],p=(1<<26)/f[f.length-1];function y(){var e=(new Date).getTime();S[C++]^=255&e,S[C++]^=e>>8&255,S[C++]^=e>>16&255,S[C++]^=e>>24&255,k<=C&&(C-=k)}if(m.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},m.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||36<e)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=g(r),i=b(),s=b(),o="";for(this.divRemTo(n,i,s);0<i.signum();)o=(r+s.intValue()).toString(e).substr(1)+o,i.divRemTo(n,i,s);return s.intValue().toString(e)+o},m.prototype.fromRadix=function(e,t){this.fromInt(0);for(var r=this.chunkSize(t=null==t?10:t),n=Math.pow(t,r),i=!1,s=0,o=0,a=0;a<e.length;++a){var c=u(e,a);c<0?"-"==e.charAt(a)&&0==this.signum()&&(i=!0):(o=t*o+c,++s>=r&&(this.dMultiply(n),this.dAddOffset(o,0),o=s=0))}0<s&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(o,0)),i&&m.ZERO.subTo(this,this)},m.prototype.fromNumber=function(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(m.ONE.shiftLeft(e-1),s,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(m.ONE.shiftLeft(e-1),this);else{var n=new Array,r=7&e;n.length=1+(e>>3),t.nextBytes(n),0<r?n[0]&=(1<<r)-1:n[0]=0,this.fromString(n,256)}},m.prototype.bitwiseTo=function(e,t,r){for(var n,i=Math.min(e.t,this.t),s=0;s<i;++s)r[s]=t(this[s],e[s]);if(e.t<this.t){for(n=e.s&this.DM,s=i;s<this.t;++s)r[s]=t(this[s],n);r.t=this.t}else{for(n=this.s&this.DM,s=i;s<e.t;++s)r[s]=t(n,e[s]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},m.prototype.changeBit=function(e,t){e=m.ONE.shiftLeft(e);return this.bitwiseTo(e,t,e),e},m.prototype.addTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]+e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e[r],t[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,0<n?t[r++]=n:n<-1&&(t[r++]=this.DV+n),t.t=r,t.clamp()},m.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},m.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},m.prototype.multiplyLowerTo=function(e,t,r){var n,i=Math.min(this.t+e.t,t);for(r.s=0,r.t=i;0<i;)r[--i]=0;for(n=r.t-this.t;i<n;++i)r[i+this.t]=this.am(0,e[i],r,i,0,this.t);for(n=Math.min(e.t,t);i<n;++i)this.am(0,e[i],r,i,0,t-i);r.clamp()},m.prototype.multiplyUpperTo=function(e,t,r){var n=r.t=this.t+e.t- --t;for(r.s=0;0<=--n;)r[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r[this.t+n-t]=this.am(t-n,e[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},m.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(0<this.t)if(0==t)r=this[0]%e;else for(var n=this.t-1;0<=n;--n)r=(t*r+this[n])%e;return r},m.prototype.millerRabin=function(e){var t=this.subtract(m.ONE),r=t.getLowestSetBit();if(r<=0)return!1;var n=t.shiftRight(r);(e=e+1>>1)>f.length&&(e=f.length);for(var i=b(),s=0;s<e;++s){i.fromInt(f[Math.floor(Math.random()*f.length)]);var o=i.modPow(n,this);if(0!=o.compareTo(m.ONE)&&0!=o.compareTo(t)){for(var a=1;a++<r&&0!=o.compareTo(t);)if(0==(o=o.modPowInt(2,this)).compareTo(m.ONE))return!1;if(0!=o.compareTo(t))return!1}}return!0},m.prototype.clone=function(){var e=b();return this.copyTo(e),e},m.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},m.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},m.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},m.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},m.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,i=0;if(0<e--)for(n<this.DB&&(r=this[e]>>n)!=(this.s&this.DM)>>n&&(t[i++]=r|this.s<<this.DB-n);0<=e;)n<8?(r=(this[e]&(1<<n)-1)<<8-n,r|=this[--e]>>(n+=this.DB-8)):(r=this[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(0<i||r!=this.s)&&(t[i++]=r);return t},m.prototype.equals=function(e){return 0==this.compareTo(e)},m.prototype.min=function(e){return this.compareTo(e)<0?this:e},m.prototype.max=function(e){return 0<this.compareTo(e)?this:e},m.prototype.and=function(e){var t=b();return this.bitwiseTo(e,i,t),t},m.prototype.or=function(e){var t=b();return this.bitwiseTo(e,s,t),t},m.prototype.xor=function(e){var t=b();return this.bitwiseTo(e,o,t),t},m.prototype.andNot=function(e){var t=b();return this.bitwiseTo(e,a,t),t},m.prototype.not=function(){for(var e=b(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},m.prototype.shiftLeft=function(e){var t=b();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},m.prototype.shiftRight=function(e){var t=b();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},m.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+function(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}(this[e]);return this.s<0?this.t*this.DB:-1},m.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=function(e){for(var t=0;0!=e;)e&=e-1,++t;return t}(this[r]^t);return e},m.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},m.prototype.setBit=function(e){return this.changeBit(e,s)},m.prototype.clearBit=function(e){return this.changeBit(e,a)},m.prototype.flipBit=function(e){return this.changeBit(e,o)},m.prototype.add=function(e){var t=b();return this.addTo(e,t),t},m.prototype.subtract=function(e){var t=b();return this.subTo(e,t),t},m.prototype.multiply=function(e){var t=b();return this.multiplyTo(e,t),t},m.prototype.divide=function(e){var t=b();return this.divRemTo(e,t,null),t},m.prototype.remainder=function(e){var t=b();return this.divRemTo(e,null,t),t},m.prototype.divideAndRemainder=function(e){var t=b(),r=b();return this.divRemTo(e,t,r),new Array(t,r)},m.prototype.modPow=function(e,t){var r=e.bitLength(),n=g(1);if(r<=0)return n;var i=r<18?1:r<48?3:r<144?4:r<768?5:6,s=new(r<8?w:t.isEven()?E:_)(t),o=new Array,a=3,c=i-1,u=(1<<i)-1;if(o[1]=s.convert(this),1<i){var h=b();for(s.sqrTo(o[1],h);a<=u;)o[a]=b(),s.mulTo(h,o[a-2],o[a]),a+=2}for(var l,d,f=e.t-1,p=!0,y=b(),r=v(e[f])-1;0<=f;){for(c<=r?l=e[f]>>r-c&u:(l=(e[f]&(1<<r+1)-1)<<c-r,0<f&&(l|=e[f-1]>>this.DB+r-c)),a=i;0==(1&l);)l>>=1,--a;if((r-=a)<0&&(r+=this.DB,--f),p)o[l].copyTo(n),p=!1;else{for(;1<a;)s.sqrTo(n,y),s.sqrTo(y,n),a-=2;0<a?s.sqrTo(n,y):(d=n,n=y,y=d),s.mulTo(y,o[l],n)}for(;0<=f&&0==(e[f]&1<<r);)s.sqrTo(n,y),d=n,n=y,y=d,--r<0&&(r=this.DB-1,--f)}return s.revert(n)},m.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return m.ZERO;for(var r=e.clone(),n=this.clone(),i=g(1),s=g(0),o=g(0),a=g(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(i.isEven()&&s.isEven()||(i.addTo(this,i),s.subTo(e,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),t?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(e,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);0<=r.compareTo(n)?(r.subTo(n,r),t&&i.subTo(o,i),s.subTo(a,s)):(n.subTo(r,n),t&&o.subTo(i,o),a.subTo(s,a))}return 0!=n.compareTo(m.ONE)?m.ZERO:0<=a.compareTo(e)?a.subtract(e):a.signum()<0?(a.addTo(e,a),a.signum()<0?a.add(e):a):a},m.prototype.pow=function(e){return this.exp(e,new h)},m.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();t.compareTo(r)<0&&(i=t,t=r,r=i);var n=t.getLowestSetBit(),i=r.getLowestSetBit();if(i<0)return t;for(0<(i=n<i?n:i)&&(t.rShiftTo(i,t),r.rShiftTo(i,r));0<t.signum();)0<(n=t.getLowestSetBit())&&t.rShiftTo(n,t),0<(n=r.getLowestSetBit())&&r.rShiftTo(n,r),0<=t.compareTo(r)?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return 0<i&&r.lShiftTo(i,r),r},m.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r[0]<=f[f.length-1]){for(t=0;t<f.length;++t)if(r[0]==f[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<f.length;){for(var n=f[t],i=t+1;i<f.length&&n<p;)n*=f[i++];for(n=r.modInt(n);t<i;)if(n%f[t++]==0)return!1}return r.millerRabin(e)},m.prototype.square=function(){var e=b();return this.squareTo(e),e},m.prototype.Barrett=E,null==S){var S=new Array,C=0;if("undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var A=new Uint8Array(32);for(window.crypto.getRandomValues(A),T=0;T<32;++T)S[C++]=A[T]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5")for(var I=window.crypto.random(32),T=0;T<I.length;++T)S[C++]=255&I.charCodeAt(T);for(;C<k;)T=Math.floor(65536*Math.random()),S[C++]=T>>>8,S[C++]=255&T;C=0,y()}function R(){}function P(){this.i=0,this.j=0,this.S=new Array}R.prototype.nextBytes=function(e){for(var t=0;t<e.length;++t)e[t]=function(){if(null==d){for(y(),(d=new P).init(S),C=0;C<S.length;++C)S[C]=0;C=0}return d.next()}()},P.prototype.init=function(e){for(var t,r,n=0;n<256;++n)this.S[n]=n;for(n=t=0;n<256;++n)t=t+this.S[n]+e[n%e.length]&255,r=this.S[n],this.S[n]=this.S[t],this.S[t]=r;this.i=0,this.j=0},P.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]};var k=256;O.exports={default:m,BigInteger:m,SecureRandom:R}}.call(this)},1476:e=>{"use strict";const t="[a-fA-F\\d:]",r=e=>e&&e.includeBoundaries?`(?:(?<=\\s|^)(?=${t})|(?<=${t})(?=\\s|$))`:"",n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",s=`
(?:
(?:${i}:){7}(?:${i}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${i}:){6}(?:${n}|:${i}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${i}:){5}(?::${n}|(?::${i}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${i}:){4}(?:(?::${i}){0,1}:${n}|(?::${i}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${i}:){3}(?:(?::${i}){0,2}:${n}|(?::${i}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${i}:){2}(?:(?::${i}){0,3}:${n}|(?::${i}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${i}:){1}(?:(?::${i}){0,4}:${n}|(?::${i}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${i}){0,5}:${n}|(?::${i}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp(`(?:^${n}$)|(?:^${s}$)`),a=new RegExp(`^${n}$`),c=new RegExp(`^${s}$`),u=e=>e&&e.exact?o:new RegExp(`(?:${r(e)}${n}${r(e)})|(?:${r(e)}${s}${r(e)})`,"g");u.v4=e=>e&&e.exact?a:new RegExp(""+r(e)+n+r(e),"g"),u.v6=e=>e&&e.exact?c:new RegExp(""+r(e)+s+r(e),"g"),e.exports=u},56512:function(p){!function(e){"use strict";const t="(0?\\d+|0x[a-f0-9]+)",s={fourOctet:new RegExp(`^${t}\\.${t}\\.${t}\\.${t}$`,"i"),threeOctet:new RegExp(`^${t}\\.${t}\\.${t}$`,"i"),twoOctet:new RegExp(`^${t}\\.${t}$`,"i"),longValue:new RegExp(`^${t}$`,"i")},r=new RegExp("^0[0-7]+$","i"),n=new RegExp("^0x[a-f0-9]+$","i"),i="%[0-9a-z]{1,}",o="(?:[0-9a-f]+::?)+",a={zoneIndex:new RegExp(i,"i"),native:new RegExp(`^(::)?(${o})?([0-9a-f]+)?(::)?(${i})?$`,"i"),deprecatedTransitional:new RegExp(`^(?:::)(${t}\\.${t}\\.${t}\\.${t}(${i})?)$`,"i"),transitional:new RegExp(`^((?:${o})|(?:::)(?:${o})?)${t}\\.${t}\\.${t}\\.${t}(${i})?$`,"i")};function c(e,t){if(e.indexOf("::")!==e.lastIndexOf("::"))return null;let r,n,i=0,s=-1,o=(e.match(a.zoneIndex)||[])[0];for(o&&(o=o.substring(1),e=e.replace(/%.+$/,""));0<=(s=e.indexOf(":",s+1));)i++;if("::"===e.substr(0,2)&&i--,"::"===e.substr(-2,2)&&i--,i>t)return null;for(n=t-i,r=":";n--;)r+="0:";return":"===(e=":"===(e=e.replace("::",r))[0]?e.slice(1):e)[e.length-1]&&(e=e.slice(0,-1)),{parts:t=function(){const t=e.split(":"),r=[];for(let e=0;e<t.length;e++)r.push(parseInt(t[e],16));return r}(),zoneId:o}}function u(e,t,r,n){if(e.length!==t.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");let i,s=0;for(;0<n;){if(i=r-n,i<0&&(i=0),e[s]>>i!=t[s]>>i)return!1;n-=r,s+=1}return!0}function h(e){if(n.test(e))return parseInt(e,16);if("0"!==e[0]||isNaN(parseInt(e[1],10)))return parseInt(e,10);if(r.test(e))return parseInt(e,8);throw new Error(`ipaddr: cannot parse ${e} as octal`)}const l={};function d(e,t){let r,n;if(16===e.length)for(this.parts=[],r=0;r<=14;r+=2)this.parts.push(e[r]<<8|e[r+1]);else{if(8!==e.length)throw new Error("ipaddr: ipv6 part count should be 8 or 16");this.parts=e}for(r=0;r<this.parts.length;r++)if(!(0<=(n=this.parts[r])&&n<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");t&&(this.zoneId=t)}function f(e){if(4!==e.length)throw new Error("ipaddr: ipv4 octet count should be 4");let t,r;for(t=0;t<e.length;t++)if(!(0<=(r=e[t])&&r<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=e}l.IPv4=(f.prototype.SpecialRanges={unspecified:[[new f([0,0,0,0]),8]],broadcast:[[new f([255,255,255,255]),32]],multicast:[[new f([224,0,0,0]),4]],linkLocal:[[new f([169,254,0,0]),16]],loopback:[[new f([127,0,0,0]),8]],carrierGradeNat:[[new f([100,64,0,0]),10]],private:[[new f([10,0,0,0]),8],[new f([172,16,0,0]),12],[new f([192,168,0,0]),16]],reserved:[[new f([192,0,0,0]),24],[new f([192,0,2,0]),24],[new f([192,88,99,0]),24],[new f([198,51,100,0]),24],[new f([203,0,113,0]),24],[new f([240,0,0,0]),4]]},f.prototype.kind=function(){return"ipv4"},f.prototype.match=function(e,t){var r;if(void 0===t&&(e=(r=e)[0],t=r[1]),"ipv4"!==e.kind())throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return u(this.octets,e.octets,8,t)},f.prototype.prefixLengthFromSubnetMask=function(){let e=0,t=!1;var r={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0};let n,i,s;for(n=3;0<=n;--n){if(!((i=this.octets[n])in r))return null;if(s=r[i],t&&0!==s)return null;8!==s&&(t=!0),e+=s}return 32-e},f.prototype.range=function(){return l.subnetMatch(this,this.SpecialRanges)},f.prototype.toByteArray=function(){return this.octets.slice(0)},f.prototype.toIPv4MappedAddress=function(){return l.IPv6.parse("::ffff:"+this.toString())},f.prototype.toNormalizedString=function(){return this.toString()},f.prototype.toString=function(){return this.octets.join(".")},f),l.IPv4.broadcastAddressFromCIDR=function(t){try{const r=this.parseCIDR(t),n=r[0].toByteArray(),i=this.subnetMaskFromPrefixLength(r[1]).toByteArray(),s=[];let e=0;for(;e<4;)s.push(parseInt(n[e],10)|255^parseInt(i[e],10)),e++;return new this(s)}catch(t){throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},l.IPv4.isIPv4=function(e){return null!==this.parser(e)},l.IPv4.isValid=function(e){try{return new this(this.parser(e)),!0}catch(e){return!1}},l.IPv4.isValidFourPartDecimal=function(e){return!(!l.IPv4.isValid(e)||!e.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},l.IPv4.networkAddressFromCIDR=function(e){let t,r,n,i,s;try{for(t=this.parseCIDR(e),n=t[0].toByteArray(),s=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),i=[],r=0;r<4;)i.push(parseInt(n[r],10)&parseInt(s[r],10)),r++;return new this(i)}catch(e){throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},l.IPv4.parse=function(e){e=this.parser(e);if(null===e)throw new Error("ipaddr: string is not formatted like an IPv4 Address");return new this(e)},l.IPv4.parseCIDR=function(e){if(e=e.match(/^(.+)\/(\d+)$/)){const t=parseInt(e[2]);if(0<=t&&t<=32){e=[this.parse(e[1]),t];return Object.defineProperty(e,"toString",{value:function(){return this.join("/")}}),e}}throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},l.IPv4.parser=function(e){let n,i,r;if(n=e.match(s.fourOctet))return function(){const t=n.slice(1,6),r=[];for(let e=0;e<t.length;e++)i=t[e],r.push(h(i));return r}();if(n=e.match(s.longValue)){if(r=h(n[1]),4294967295<r||r<0)throw new Error("ipaddr: address outside defined range");return function(){const e=[];let t;for(t=0;t<=24;t+=8)e.push(r>>t&255);return e}().reverse()}return(n=e.match(s.twoOctet))?function(){const e=n.slice(1,4),t=[];if(r=h(e[1]),16777215<r||r<0)throw new Error("ipaddr: address outside defined range");return t.push(h(e[0])),t.push(r>>16&255),t.push(r>>8&255),t.push(255&r),t}():(n=e.match(s.threeOctet))?function(){const e=n.slice(1,5),t=[];if(r=h(e[2]),65535<r||r<0)throw new Error("ipaddr: address outside defined range");return t.push(h(e[0])),t.push(h(e[1])),t.push(r>>8&255),t.push(255&r),t}():null},l.IPv4.subnetMaskFromPrefixLength=function(e){if((e=parseInt(e))<0||32<e)throw new Error("ipaddr: invalid IPv4 prefix length");const t=[0,0,0,0];let r=0;for(var n=Math.floor(e/8);r<n;)t[r]=255,r++;return n<4&&(t[n]=Math.pow(2,e%8)-1<<8-e%8),new this(t)},l.IPv6=(d.prototype.SpecialRanges={unspecified:[new d([0,0,0,0,0,0,0,0]),128],linkLocal:[new d([65152,0,0,0,0,0,0,0]),10],multicast:[new d([65280,0,0,0,0,0,0,0]),8],loopback:[new d([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new d([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new d([0,0,0,0,0,65535,0,0]),96],rfc6145:[new d([0,0,0,0,65535,0,0,0]),96],rfc6052:[new d([100,65435,0,0,0,0,0,0]),96],"6to4":[new d([8194,0,0,0,0,0,0,0]),16],teredo:[new d([8193,0,0,0,0,0,0,0]),32],reserved:[[new d([8193,3512,0,0,0,0,0,0]),32]]},d.prototype.isIPv4MappedAddress=function(){return"ipv4Mapped"===this.range()},d.prototype.kind=function(){return"ipv6"},d.prototype.match=function(e,t){var r;if(void 0===t&&(e=(r=e)[0],t=r[1]),"ipv6"!==e.kind())throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return u(this.parts,e.parts,16,t)},d.prototype.prefixLengthFromSubnetMask=function(){let t=0,r=!1;var n,i={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0};for(let e=7;0<=e;--e){if(!((n=this.parts[e])in i))return null;if(n=i[n],r&&0!==n)return null;16!==n&&(r=!0),t+=n}return 128-t},d.prototype.range=function(){return l.subnetMatch(this,this.SpecialRanges)},d.prototype.toByteArray=function(){var t;const r=[],n=this.parts;for(let e=0;e<n.length;e++)t=n[e],r.push(t>>8),r.push(255&t);return r},d.prototype.toFixedLengthString=function(){var e=function(){const t=[];for(let e=0;e<this.parts.length;e++)t.push(function(e,t){for(;e.length<t;)e="0"+e;return e}(this.parts[e].toString(16),4));return t}.call(this).join(":");let t="";return this.zoneId&&(t="%"+this.zoneId),e+t},d.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");var e=this.parts.slice(-2),t=e[0],e=e[1];return new l.IPv4([t>>8,255&t,e>>8,255&e])},d.prototype.toNormalizedString=function(){var e=function(){const t=[];for(let e=0;e<this.parts.length;e++)t.push(this.parts[e].toString(16));return t}.call(this).join(":");let t="";return this.zoneId&&(t="%"+this.zoneId),e+t},d.prototype.toRFC5952String=function(){const e=/((^|:)(0(:|$)){2,})/g,t=this.toNormalizedString();let r,n=0,i=-1;for(;r=e.exec(t);)r[0].length>i&&(n=r.index,i=r[0].length);return i<0?t:t.substring(0,n)+"::"+t.substring(n+i)},d.prototype.toString=function(){return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/,"::")},d),l.IPv6.broadcastAddressFromCIDR=function(t){try{const r=this.parseCIDR(t),n=r[0].toByteArray(),i=this.subnetMaskFromPrefixLength(r[1]).toByteArray(),s=[];let e=0;for(;e<16;)s.push(parseInt(n[e],10)|255^parseInt(i[e],10)),e++;return new this(s)}catch(t){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${t})`)}},l.IPv6.isIPv6=function(e){return null!==this.parser(e)},l.IPv6.isValid=function(e){if("string"==typeof e&&-1===e.indexOf(":"))return!1;try{var t=this.parser(e);return new this(t.parts,t.zoneId),!0}catch(e){return!1}},l.IPv6.networkAddressFromCIDR=function(e){let t,r,n,i,s;try{for(t=this.parseCIDR(e),n=t[0].toByteArray(),s=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),i=[],r=0;r<16;)i.push(parseInt(n[r],10)&parseInt(s[r],10)),r++;return new this(i)}catch(e){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`)}},l.IPv6.parse=function(e){e=this.parser(e);if(null===e.parts)throw new Error("ipaddr: string is not formatted like an IPv6 Address");return new this(e.parts,e.zoneId)},l.IPv6.parseCIDR=function(e){let t,r,n;if((r=e.match(/^(.+)\/(\d+)$/))&&(t=parseInt(r[2]),0<=t&&t<=128))return n=[this.parse(r[1]),t],Object.defineProperty(n,"toString",{value:function(){return this.join("/")}}),n;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},l.IPv6.parser=function(e){let t,r,n,i,s,o;if(n=e.match(a.deprecatedTransitional))return this.parser("::ffff:"+n[1]);if(a.native.test(e))return c(e,8);if((n=e.match(a.transitional))&&(o=n[6]||"",t=c(n[1].slice(0,-1)+o,6),t.parts)){for(s=[parseInt(n[2]),parseInt(n[3]),parseInt(n[4]),parseInt(n[5])],r=0;r<s.length;r++)if(!(0<=(i=s[r])&&i<=255))return null;return t.parts.push(s[0]<<8|s[1]),t.parts.push(s[2]<<8|s[3]),{parts:t.parts,zoneId:t.zoneId}}return null},l.IPv6.subnetMaskFromPrefixLength=function(e){if((e=parseInt(e))<0||128<e)throw new Error("ipaddr: invalid IPv6 prefix length");const t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];let r=0;for(var n=Math.floor(e/8);r<n;)t[r]=255,r++;return n<16&&(t[n]=Math.pow(2,e%8)-1<<8-e%8),new this(t)},l.fromByteArray=function(e){var t=e.length;if(4===t)return new l.IPv4(e);if(16===t)return new l.IPv6(e);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},l.isValid=function(e){return l.IPv6.isValid(e)||l.IPv4.isValid(e)},l.parse=function(e){if(l.IPv6.isValid(e))return l.IPv6.parse(e);if(l.IPv4.isValid(e))return l.IPv4.parse(e);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},l.parseCIDR=function(t){try{return l.IPv6.parseCIDR(t)}catch(e){try{return l.IPv4.parseCIDR(t)}catch(t){throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},l.process=function(e){const t=this.parse(e);return"ipv6"===t.kind()&&t.isIPv4MappedAddress()?t.toIPv4Address():t},l.subnetMatch=function(e,t,r){let n,i,s,o;for(i in null==r&&(r="unicast"),t)if(Object.prototype.hasOwnProperty.call(t,i))for(s=t[i],!s[0]||s[0]instanceof Array||(s=[s]),n=0;n<s.length;n++)if(o=s[n],e.kind()===o[0].kind()&&e.match.apply(e,o))return i;return r},p.exports?p.exports=l:e.ipaddr=l}(this)},106:(e,t,r)=>{"use strict";const n=r(59134),i="object"==typeof window&&"object"==typeof document&&9===document.nodeType,s=n(),o=i&&!s,a=s&&!i,c=s&&i,u="undefined"!=typeof process&&void 0!==process.release&&"node"===process.release.name&&!s,h="function"==typeof importScripts&&"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,l="undefined"!=typeof process&&void 0!==process.env&&!1,d="undefined"!=typeof navigator&&"ReactNative"===navigator.product;e.exports={isTest:l,isElectron:s,isElectronMain:a,isElectronRenderer:c,isNode:u,isBrowser:o,isWebWorker:h,isEnvWithDom:i,isReactNative:d}},6065:e=>{"use strict";e.exports={supportsFileReader:"undefined"!=typeof self&&"FileReader"in self,supportsWebRTC:"RTCPeerConnection"in globalThis&&"undefined"!=typeof navigator&&void 0!==navigator.mediaDevices&&"getUserMedia"in navigator.mediaDevices,supportsWebRTCDataChannels:"RTCPeerConnection"in globalThis}},59134:e=>{e.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||!("undefined"==typeof process||"object"!=typeof process.versions||!process.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&0<=navigator.userAgent.indexOf("Electron")}},5003:(e,t,r)=>{"use strict";const n=r(1476),i=e=>n({exact:!0}).test(e);i.v4=e=>n.v4({exact:!0}).test(e),i.v6=e=>n.v6({exact:!0}).test(e),i.version=e=>i(e)?i.v4(e)?4:6:void 0,e.exports=i},51890:e=>{"use strict";e.exports=function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^::1$/.test(e)}},1914:e=>{"use strict";e.exports=function(e){const t=new Uint8Array(e);let r=0;if(0<e)if(65536<e)for(;r<e;)r+65536>e?(crypto.getRandomValues(t.subarray(r,r+(e-r))),r+=e-r):(crypto.getRandomValues(t.subarray(r,r+65536)),r+=65536);else crypto.getRandomValues(t);return t}},17745:(e,t,r)=>{"use strict";var{URLWithLegacySupport:n,format:i,URLSearchParams:s,defaultBase:o}=r(82049),r=r(15939);e.exports={URL:n,URLSearchParams:s,format:i,relative:r,defaultBase:o}},15939:(e,t,r)=>{"use strict";const{URLWithLegacySupport:o,format:a}=r(82049);e.exports=(e,t={},r={},n)=>{let i,s=t.protocol?t.protocol.replace(":",""):"http";s=(r[s]||n||s)+":";try{i=new o(e)}catch(e){i={}}t=Object.assign({},t,{protocol:s||i.protocol,host:t.host||i.host});return new o(e,a(t)).toString()}},82049:e=>{"use strict";const t="undefined"!=typeof navigator&&"ReactNative"===navigator.product,u=self.URL,r=t?"http://localhost":self.location?self.location.protocol+"//"+self.location.host:"";e.exports={URLWithLegacySupport:class{constructor(e="",t=r){this.super=new u(e,t),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(e){this.super.hash=e}set host(e){this.super.host=e}set hostname(e){this.super.hostname=e}set href(e){this.super.href=e}set password(e){this.super.password=e}set pathname(e){this.super.pathname=e}set port(e){this.super.port=e}set protocol(e){this.super.protocol=e}set search(e){this.super.search=e}set username(e){this.super.username=e}static createObjectURL(e){return u.createObjectURL(e)}static revokeObjectURL(e){u.revokeObjectURL(e)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}},URLSearchParams:self.URLSearchParams,defaultBase:r,format:function(e){if("string"==typeof e)return new u(e).toString();if(!(e instanceof u)){const t=e.username&&e.password?`${e.username}:${e.password}@`:"",u=e.auth?e.auth+"@":"",r=e.port?":"+e.port:"",n=e.protocol?e.protocol+"//":"",i=e.host||"",s=e.hostname||"",o=e.search||(e.query?"?"+e.query:""),a=e.hash||"",c=e.pathname||"";return n+(t||u)+(i||s+r)+(e.path||c+o)+a}}}},96653:(e,t,r)=>{"use strict";const n=r(48764)["Buffer"],i=r(9668);e.exports=async function*(e){for await(const t of e)n.isBuffer(t)?yield t:i.isBufferList(t)?yield t.slice():yield n.from(t)},e.exports.toBuffer=e.exports,e.exports.toList=async function*(e){for await(const t of e)n.isBuffer(t)?yield(new i).append(t):i.isBufferList(t)?yield t:yield(new i).append(n.from(t))}},64593:e=>{"use strict";e.exports=async e=>{for await(const t of e);}},55565:e=>{"use strict";e.exports=async function*(e,t){for await(const r of e)await t(r)&&(yield r)}},72262:e=>{"use strict";e.exports=async e=>{for await(const t of e)return t}},52261:(e,t,r)=>{"use strict";const o=r(53469),a=r(84975),c=r(63931);e.exports=e=>{const t=a(),r=o(e.source),n=c();let i;const s=e.sink(async function*(){yield*t,yield*await n.promise}());return s.catch(e=>{i=e}),{reader:r,writer:t,stream:{sink:e=>i?Promise.reject(i):(n.resolve(e),s),source:r},rest:()=>t.end(),write:t.push,read:async()=>(await r.next()).value}}},65765:(e,t,r)=>{"use strict";const n=r(48764)["Buffer"],s=r(9668),o=r(72903),a=n.alloc(0),c="readLength",u="readData",h={readLength:(e,t,r,n)=>{let i;t=t.append(e);try{i=n.lengthDecoder(t)}catch(e){if(t.length>n.maxLengthLength)throw Object.assign(e,{message:"message length too long",code:"ERR_MSG_LENGTH_TOO_LONG"});if(e instanceof RangeError)return{mode:c,buffer:t,chunk:void 0,state:void 0,data:void 0};throw e}if(i>n.maxDataLength)throw Object.assign(new Error("message data too long"),{code:"ERR_MSG_DATA_TOO_LONG"});return e=t.shallowSlice(n.lengthDecoder.bytes),t=new s,n.onLength&&n.onLength(i),i<=0?(n.onData&&n.onData(a),{mode:c,chunk:e,buffer:t,data:a}):{mode:u,chunk:e,buffer:t,state:{dataLength:i},data:void 0}},readData:(e,t,r,n)=>{if(t=t.append(e),!r)throw new Error("state is required");if(t.length<r.dataLength)return{mode:u,buffer:t,state:r,chunk:void 0,data:void 0};var e=r["dataLength"],r=t.shallowSlice(0,e),e=t.length>e?t.shallowSlice(e):void 0;return t=new s,n.onData&&n.onData(r),{mode:c,chunk:e,buffer:t,state:void 0,data:r}}};function i(e){const i={lengthDecoder:(e=e||{}).lengthDecoder||o,maxLengthLength:e.maxLengthLength||8,maxDataLength:e.maxDataLength||4194304,onLength:e.onLength,onData:e.onData};return async function*(e){let t,r=new s,n=c;for await(const s of e){let e=s;for(;e;){const s=h[n](e,r,t,i);n=s.mode,e=s.chunk,r=s.buffer,t=s.state,s.data&&(yield s.data)}}if(r.length)throw Object.assign(new Error("unexpected end of input"),{code:"ERR_UNEXPECTED_EOF"})}}i.fromReader=(e,t)=>{let r=1;var n={[Symbol.asyncIterator](){return this},next:async()=>{try{return await e.next(r)}catch(e){if("ERR_UNDER_READ"===e.code)return{done:!0,value:null};throw e}finally{r=1}}};return i({...t||{},onLength:e=>{r=e}})(n)},e.exports=i,e.exports.MAX_LENGTH_LENGTH=8,e.exports.MAX_DATA_LENGTH=4194304},90278:(e,t,r)=>{"use strict";const o=r(48764)["Buffer"],a=r(9668),n=r(62354);function i(e){e=e||{};const i=Math.max(e.poolSize||10240,e.minPoolSize||8),s=e.lengthEncoder||n;return async function*(e){let t=o.alloc(i),r=0;for await(const n of e){s(n.length,t,r);const e=t.slice(r,r+s.bytes);r+=s.bytes,t.length-r<8&&(t=o.alloc(i),r=0),yield(new a).append(e).append(n)}}}i.single=(e,t)=>{const r=(t=t||{}).lengthEncoder||n;return new a([r(e.length),e.slice()])},e.exports=i,e.exports.MIN_POOL_SIZE=8,e.exports.DEFAULT_POOL_SIZE=10240},48963:(e,t,r)=>{"use strict";t.encode=r(90278),t.decode=r(65765),t.varintEncode=r(62354),t.varintDecode=r(72903),t.int32BEEncode=r(71205),t.int32BEDecode=r(93380)},93380:e=>{"use strict";var t=e=>{if(e.length<4)throw RangeError("Could not decode int32BE");return e.readInt32BE(0)};t.bytes=4,e.exports=t},71205:(e,t,r)=>{"use strict";const n=r(48764)["Buffer"],i=(e,t,r)=>((t=t||n.allocUnsafe(4)).writeInt32BE(e,r),t);i.bytes=4,e.exports=i},72903:(e,t,r)=>{"use strict";const n=r(94676),i=r(48764)["Buffer"],s=e=>{var r,e=n.decode(i.isBuffer(e)?e:(r=e,new Proxy({},{get:(e,t)=>"l"===t[0]?r[t]:r.get(parseInt(t))})));return s.bytes=n.decode.bytes,e};e.exports=s},62354:(e,t,r)=>{"use strict";const n=r(94676),i=r(48764)["Buffer"],s=(e,t,r)=>{r=n.encode(e,t,r);return s.bytes=n.encode.bytes,t||i.from(r)};e.exports=s},32121:e=>{"use strict";e.exports=async function*(e,t){for await(const r of e)yield t(r)}},74014:(e,t,r)=>{"use strict";const n=r(84975);e.exports=async function*(...e){const r=n();setTimeout(async()=>{try{await Promise.all(e.map(async e=>{for await(const t of e)r.push(t)})),r.end()}catch(e){r.end(e)}},0),yield*r}},63184:(e,t,r)=>{var n=r(60154);e.exports=function(){var e=n(),t=n();return[{source:e.source,sink:t.sink},{source:t.source,sink:e.sink}]}},60154:(e,t,r)=>{"use strict";const n=r(22412);e.exports=function(){let t,r;return{sink:async e=>{if(t)throw new Error("already piped");t=n(e),r&&r(t)},source:{[Symbol.asyncIterator](){return this},next:()=>t?t.next():new Promise(t=>{r=e=>{r=null,t(e.next())}})}}}},39882:e=>{e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},11712:(e,t,r)=>{"use strict";const o=r(39882),a=r(52261),c=r(48963);e.exports=(e,t={})=>{const n=a(e),r=c.decode.fromReader(n.reader,t);let i=!1;const s={read:async e=>{var{value:t,done:r}=await n.reader.next(e);if(r&&t.length<e)throw new Error("Couldn't read enough bytes");if(i=r,!t)throw new Error("Value is null");return t},readLP:async()=>{var{value:e,done:t}=await r.next();if(i=t,!e)throw new Error("Value is null");return e},readPB:async e=>{const t=await s.readLP();if(!t)throw new Error("Value is null");var r=o(t)?t:t.slice();return e.decode(r)},write:e=>{n.writer.push(e)},writeLP:e=>{s.write(c.encode.single(e,t))},writePB:(e,t)=>{s.writeLP(t.encode(e))},pb:t=>({read:()=>s.readPB(t),write:e=>s.writePB(e,t)}),unwrap:()=>(n.rest(),n.stream)};return s}},60618:e=>{const r=(...e)=>{let t;for(;e.length;)t=e.shift()(t);return t},n=e=>e&&("function"==typeof e[Symbol.asyncIterator]||"function"==typeof e[Symbol.iterator]||"function"==typeof e.next),i=e=>e&&"function"==typeof e.sink&&n(e.source),t=(...t)=>{if(i(t[0])){const r=t[0];t[0]=()=>r.source}else if(n(t[0])){const r=t[0];t[0]=()=>r}if(1<t.length&&i(t[t.length-1])&&(t[t.length-1]=t[t.length-1].sink),2<t.length)for(let e=1;e<t.length-1;e++)i(t[e])&&(t[e]=(t=>e=>(t.sink(e),t.source))(t[e]));return r(...t)};e.exports=t,e.exports.pipe=t,e.exports.rawPipe=r,e.exports.isIterable=n,e.exports.isDuplex=i},84975:(e,t,r)=>{const h=r(91607);e.exports=n=>{let t;"function"==typeof(n=n||{})?(t=n,n={}):t=n.onEnd;let i,s,r,o=new h;const a=e=>s?s(e):(o.push(e),i),e=e=>r?i:a({done:!1,value:e}),c=e=>r?i:(r=!0,e?(e=>(o=new h,s?s({error:e}):(o.push({error:e}),i)))(e):a({done:!0}));if(i={[Symbol.asyncIterator](){return this},next:()=>{if(o.isEmpty())return r?{done:!0}:new Promise((t,r)=>{s=e=>(s=null,e.error?r(e.error):n.writev&&!e.done?t({done:e.done,value:[e.value]}):t(e),i)});if(n.writev){let e;const t=[];for(;!o.isEmpty();){if(e=o.shift(),e.error)throw e.error;t.push(e.value)}return{done:e.done,value:t}}var e=o.shift();if(e.error)throw e.error;return e},return:()=>(o=new h,c(),{done:!0}),throw:e=>(c(e),{done:!0}),push:e,end:c},!t)return i;const u=i;return i={[Symbol.asyncIterator](){return this},next:()=>u.next(),throw:e=>(u.throw(e),t&&(t(e),t=null),{done:!0}),return:()=>(u.return(),t&&(t(),t=null),{done:!0}),push:e,end:e=>(u.end(e),t&&(t(e),t=null),i)},i}},53469:(e,t,r)=>{const i=r(9668);e.exports=n=>{const e=async function*(){let e=yield,t=new i;for await(const r of n)if(e)for(t.append(r);t.length>=e;){const n=t.shallowSlice(0,e);if(t.consume(e),e=yield n,!e){t.length&&(e=yield t,t=new i);break}}else e=yield t.append(r),t=new i;if(e)throw Object.assign(new Error(`stream ended before ${e} bytes became available`),{code:"ERR_UNDER_READ",buffer:t})}();return e.next(),e}},37939:e=>{"use strict";e.exports=async function*(e,t){let r=0;if(!(t<1))for await(const n of e)if(yield n,r++,r===t)return}},6476:(e,t,r)=>{"use strict";var o=r(78422),a=r(45413),c=r(16044);e.exports=function(e,t={}){const r="undefined"==typeof window?{}:window.location,n=c(e,r),i=new o(n,t.websocket),s=a(i,t);return s.remoteAddress=n,s.close=()=>new Promise((e,t)=>{i.addEventListener("close",e),i.close()}),s.destroy=()=>{i.terminate?i.terminate():i.close()},s.socket=i,s},e.exports.connect=e.exports},45413:(e,t,r)=>{const n=r(41049),i=r(91252);e.exports=(e,t)=>{(t=t||{}).binaryType?e.binaryType=t.binaryType:t.binary&&(e.binaryType="arraybuffer");const r={sink:i(e,t),source:n(e,t),connected:()=>r.source.connected()};return r}},1434:e=>{e.exports=async o=>{if(2<=o.readyState)throw new Error("socket closed");if(1!==o.readyState)return new Promise((e,t)=>{const r=o&&(o.removeEventListener||o.removeListener);function n(){"function"==typeof r&&(r.call(o,"open",i),r.call(o,"error",s))}function i(){n(),e()}function s(e){n(),t(e)}o.addEventListener("open",i),o.addEventListener("error",s)})}},91252:(e,t,r)=>{const i=r(1434);e.exports=(n,t)=>((t=t||{}).closeOnEnd=!1!==t.closeOnEnd,async e=>{for await(const t of e){try{await i(n)}catch(e){if("socket closed"===e.message)break;throw e}n.send(t)}if(t.closeOnEnd&&n.readyState<=1)return new Promise((t,r)=>{n.addEventListener("close",e=>{if(e.wasClean||1006===e.code)t();else{const t=Object.assign(new Error("ws error"),{event:e});r(t)}}),setTimeout(()=>n.close())})})},41049:(e,t,r)=>{const n=r(48764)["Buffer"],i=r(90507)["EventIterator"];e.exports=s=>{const o=s.removeEventListener||s.removeListener,e=async function*(){var e,t=new i(({push:e,stop:t,fail:r})=>(s.addEventListener("message",e),s.addEventListener("error",r),s.addEventListener("close",t),()=>{o.call(s,"message",e),o.call(s,"error",r),o.call(s,"close",t)}),{highWaterMark:1/0});for await(const{data:s}of t)e=s,yield e instanceof ArrayBuffer||null!=e&&null!=e.constructor&&"ArrayBuffer"===e.constructor.name&&"number"==typeof e.byteLength?n.from(s):s}();let a,c=1===s.readyState;return s.addEventListener("open",()=>{c=!0,a=null}),s.addEventListener("close",()=>{c=!1,a=null}),s.addEventListener("error",e=>{c||(a=e)}),e.connected=()=>new Promise((e,t)=>{if(c)return e();if(a)return t(a);const r=e=>{o.call(s,"open",n),o.call(s,"error",i),e()},n=()=>r(e),i=e=>r(()=>t(e));s.addEventListener("open",n),s.addEventListener("error",i)}),e}},78422:(e,t,r)=>{e.exports="undefined"==typeof WebSocket?r(89408):WebSocket},16044:(e,t,r)=>{const n=r(17745)["relative"],i={http:"ws",https:"wss"};e.exports=(e,t)=>n(e,t,i,"ws")},86116:(t,r,e)=>{r.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");let t=0,r=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(t++,"%c"===e&&(r=t))}),e.splice(r,0,n)}},r.save=function(e){try{e?r.storage.setItem("debug",e):r.storage.removeItem("debug")}catch(e){}},r.load=function(){let e;try{e=r.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},r.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},r.storage=function(){try{return localStorage}catch(e){}}(),r.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],r.log=console.debug||console.log||(()=>{}),t.exports=e(28378)(r);const n=t.exports["formatters"];n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},28378:(e,t,n)=>{e.exports=function(t){function a(e){let r,t,n,i=null;function o(...i){if(o.enabled){const s=o,e=Number(new Date),t=e-(r||e);s.diff=t,s.prev=r,s.curr=e,r=e,i[0]=a.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");let n=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(e,t)=>{if("%%"===e)return"%";n++;const r=a.formatters[t];if("function"==typeof r){const a=i[n];e=r.call(s,a),i.splice(n,1),n--}return e}),a.formatArgs.call(s,i),(s.log||a.log).apply(s,i)}}return o.namespace=e,o.useColors=a.useColors(),o.color=a.selectColor(e),o.extend=s,o.destroy=a.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(t!==a.namespaces&&(t=a.namespaces,n=a.enabled(e)),n),set:e=>{i=e}}),"function"==typeof a.init&&a.init(o),o}function s(e,t){const r=a(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return((a.debug=a).default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},a.disable=function(){var e=[...a.names.map(r),...a.skips.map(r).map(e=>"-"+e)].join(",");return a.enable(""),e},a.enable=function(e){let t;a.save(e),a.namespaces=e,a.names=[],a.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length;for(t=0;t<n;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+e.substr(1)+"$")):a.names.push(new RegExp("^"+e+"$")))},a.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=a.skips.length;t<r;t++)if(a.skips[t].test(e))return!1;for(t=0,r=a.names.length;t<r;t++)if(a.names[t].test(e))return!0;return!1},a.humanize=n(57412),a.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(e=>{a[e]=t[e]}),a.names=[],a.skips=[],a.formatters={},a.selectColor=function(t){let r=0;for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return a.colors[Math.abs(r)%a.colors.length]},a.enable(a.load()),a}},57412:e=>{function s(e,t,r,n){t=1.5*r<=t;return Math.round(e/r)+" "+n+(t?"s":"")}e.exports=function(r,e){e=e||{};var t,n,i=typeof r;if("string"==i&&0<r.length)return function(e){if(!(100<(e=String(r)).length)){e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(e){var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"weeks":case"week":case"w":return 6048e5*t;case"days":case"day":case"d":return 864e5*t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}(r);if("number"==i&&isFinite(r))return e.long?(n=r,864e5<=(t=Math.abs(n))?s(n,t,864e5,"day"):36e5<=t?s(n,t,36e5,"hour"):6e4<=t?s(n,t,6e4,"minute"):1e3<=t?s(n,t,1e3,"second"):n+" ms"):(t=r,864e5<=(n=Math.abs(t))?Math.round(t/864e5)+"d":36e5<=n?Math.round(t/36e5)+"h":6e4<=n?Math.round(t/6e4)+"m":1e3<=n?Math.round(t/1e3)+"s":t+"ms");throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))}},63100:(e,t,r)=>{"use strict";const i=r(88785),s=r(46584)["Multiaddr"],o=r(29175),n=r(17187)["EventEmitter"],a=r(86116),c=Object.assign(a("libp2p:bootstrap"),{error:a("libp2p:bootstrap:error")});(e.exports=class extends n{constructor(e={list:[]}){if(!e.list||!e.list.length)throw new Error("Bootstrap requires a list of peer addresses");super(),this._list=e.list,this._interval=e.interval||1e4,this._timer=null}start(){this._timer||(this._timer=setInterval(()=>this._discoverBootstrapPeers(),this._interval),c("Starting bootstrap node discovery"),this._discoverBootstrapPeers())}_discoverBootstrapPeers(){this._timer&&this._list.forEach(e=>{if(!o.P2P.matches(e))return c.error("Invalid multiaddr");const t=new s(e),r=t.getPeerId();if(r){var n=i.createFromB58String(r);try{this.emit("peer",{id:n,multiaddrs:[t]})}catch(e){c.error("Invalid bootstrap peer id",e)}}else c.error("Invalid bootstrap multiaddr without peer id")})}stop(){this._timer&&clearInterval(this._timer),this._timer=null}}).tag="bootstrap"},87413:e=>{"use strict";function i(e,t){for(const r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}e.exports=function(e,t,r){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");r=r||{},"object"==typeof t&&(r=t,t=""),t&&(r.code=t);try{return i(e,r)}catch(t){r.message=e.message,r.stack=e.stack;var n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(e)),i(new n,r)}}},27552:(e,t,r)=>{"use strict";const d=r(20605)["concat"],f=r(52217)["fromString"],n=r(63649);e.exports={create:function({algorithm:s="AES-GCM",nonceLength:o=12,keyLength:a=16,digest:c="SHA-256",saltLength:u=16,iterations:h=32767}={}){const l=n.get();return a*=8,{encrypt:async function(e,t){var r=l.getRandomValues(new Uint8Array(u)),n=l.getRandomValues(new Uint8Array(o)),i={name:s,iv:n},n={name:"PBKDF2",salt:r,iterations:h,hash:{name:c}},t=await l.subtle.importKey("raw",f(t),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),t=await l.subtle.deriveKey(n,t,{name:s,length:a},!0,["encrypt"]),e=await l.subtle.encrypt(i,t,e);return d([r,i.iv,new Uint8Array(e)])},decrypt:async function(e,t){var r=e.slice(0,u),n=e.slice(u,u+o),e=e.slice(u+o),n={name:s,iv:n},r={name:"PBKDF2",salt:r,iterations:h,hash:{name:c}},t=await l.subtle.importKey("raw",f(t),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),t=await l.subtle.deriveKey(r,t,{name:s,length:a},!0,["decrypt"]),e=await l.subtle.decrypt(n,t,e);return new Uint8Array(e)}}}}},31088:(e,t,r)=>{"use strict";const i=r(63649),s=r(38872),o={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"};t.create=async function(e,t){const r=o[e],n=await i.get().subtle.importKey("raw",t,{name:"HMAC",hash:{name:r}},!1,["sign"]);return{digest:async e=>(async(e,t)=>{t=await i.get().subtle.sign({name:"HMAC"},e,t);return new Uint8Array(t,t.byteOffset,t.byteLength)})(n,e),length:s[e]}}},38872:e=>{"use strict";e.exports={SHA1:20,SHA256:32,SHA512:64}},78590:(e,t,r)=>{"use strict";const n=r(87413),i=r(63649),s=r(56441)["base64urlToBuffer"],o=r(45753),a=r(92263)["toString"],c=r(20605)["concat"],u=r(19588)["equals"],h={"P-256":256,"P-384":384,"P-521":521};t.generateEphmeralKeyPair=async function(r){o(Object.keys(h),r);const n=await i.get().subtle.generateKey({name:"ECDH",namedCurve:r},!0,["deriveBits"]);return{key:(e=await i.get().subtle.exportKey("jwk",n.publicKey),t=l[e.crv],c([Uint8Array.from([4]),s(e.x,t),s(e.y,t)],1+2*t)),genSharedKey:async(e,t)=>{t=t?await i.get().subtle.importKey("jwk",f(r,t),{name:"ECDH",namedCurve:r},!1,["deriveBits"]):n.privateKey,t=[await i.get().subtle.importKey("jwk",d(r,e),{name:"ECDH",namedCurve:r},!1,[]),t],t=await i.get().subtle.deriveBits({name:"ECDH",namedCurve:r,public:t[0]},t[1],h[r]);return new Uint8Array(t,t.byteOffset,t.byteLength)}};var e,t};const l={"P-256":32,"P-384":48,"P-521":66};function d(e,t){var r=l[e];if(u(!t.slice(0,1),Uint8Array.from([4])))throw n(new Error("Cannot unmarshal public key - invalid key format"),"ERR_INVALID_KEY_FORMAT");return{kty:"EC",crv:e,x:a(t.slice(1,r+1),"base64url"),y:a(t.slice(1+r),"base64url"),ext:!0}}const f=(e,t)=>({...d(e,t.public),d:a(t.private,"base64url")})},96535:(e,t,r)=>{"use strict";const n=r(87413),i=r(19588)["equals"],s=r(56155)["sha256"],o=r(99086)["base58btc"],a=r(78103)["identity"],c=r(71127),u=r(17241),h=r(69716);class l{constructor(e){this._key=f(e,c.publicKeyLength)}async verify(e,t){return c.hashAndVerify(this._key,t,e)}marshal(){return this._key}get bytes(){return u.PublicKey.encode({Type:u.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return i(this.bytes,e.bytes)}async hash(){var e=(await s.digest(this.bytes))["bytes"];return e}}class d{constructor(e,t){this._key=f(e,c.privateKeyLength),this._publicKey=f(t,c.publicKeyLength)}async sign(e){return c.hashAndSign(this._key,e)}get public(){return new l(this._publicKey)}marshal(){return this._key}get bytes(){return u.PrivateKey.encode({Type:u.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return i(this.bytes,e.bytes)}async hash(){var e=(await s.digest(this.bytes))["bytes"];return e}async id(){var e=await a.digest(this.public.bytes);return o.encode(e.bytes).substring(1)}async export(e,t="libp2p-key"){if("libp2p-key"===t)return h.export(this.bytes,e);throw n(new Error(`export format '${t}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}function f(e,t){if((e=Uint8Array.from(e||[])).length!==t)throw n(new Error(`Key must be a Uint8Array of length ${t}, got `+e.length),"ERR_INVALID_KEY_TYPE");return e}e.exports={Ed25519PublicKey:l,Ed25519PrivateKey:d,unmarshalEd25519PrivateKey:function(e){if(e.length>c.privateKeyLength){const t=(e=f(e,c.privateKeyLength+c.publicKeyLength)).slice(0,c.privateKeyLength),r=e.slice(c.privateKeyLength,e.length);return new d(t,r)}const t=(e=f(e,c.privateKeyLength)).slice(0,c.privateKeyLength),r=e.slice(c.publicKeyLength);return new d(t,r)},unmarshalEd25519PublicKey:function(e){return e=f(e,c.publicKeyLength),new l(e)},generateKeyPair:async function(){var{privateKey:e,publicKey:t}=await c.generateKey();return new d(e,t)},generateKeyPairFromSeed:async function(e){var{privateKey:t,publicKey:e}=await c.generateKeyFromSeed(e);return new d(t,e)}}},71127:(e,i,t)=>{"use strict";const n=t(53710);function r(t,r){const n=new Uint8Array(i.privateKeyLength);for(let e=0;e<32;e++)n[e]=t[e],n[32+e]=r[e];return n}i.publicKeyLength=32,i.privateKeyLength=64,i.generateKey=async function(){var e=n.utils.randomPrivateKey(),t=await n.getPublicKey(e);return{privateKey:r(e,t),publicKey:t}},i.generateKeyFromSeed=async function(e){if(32!==e.length)throw new TypeError('"seed" must be 32 bytes in length.');if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, or Uint8Array.');var t=e,e=await n.getPublicKey(t);return{privateKey:r(t,e),publicKey:e}},i.hashAndSign=function(e,t){e=e.slice(0,32);return n.sign(t,e)},i.hashAndVerify=function(e,t,r){return n.verify(t,r,e)}},55563:(e,t,r)=>{"use strict";const n=r(78590);e.exports=async e=>n.generateEphmeralKeyPair(e)},69716:(e,t,r)=>{"use strict";const i=r(9885)["base64"],s=r(27552);e.exports={export:async function(e,t){const r=s.create(),n=await r.encrypt(e,t);return i.encode(n)}}},24709:(e,t,r)=>{"use strict";const i=r(9885)["base64"],s=r(27552);e.exports={import:async function(e,t){const r=i.decode(e),n=s.create();return n.decrypt(r,t)}}},14437:(e,t,r)=>{"use strict";const n=r(17241);r(3068),r(97450);const i=r(3832),s=r(87413),o=r(52217)["fromString"],a=r(24709),c={rsa:r(19950),ed25519:r(96535),secp256k1:r(49434)(n,r(87503))},u="secp256k1 support requires libp2p-crypto-secp256k1 package",h="ERR_MISSING_PACKAGE";function l(e){const t=c[e.toLowerCase()];if(t)return t;{const t=Object.keys(c).join(" / ");throw s(new Error(`invalid or unsupported key type ${e}. Must be `+t),"ERR_UNSUPPORTED_KEY_TYPE")}}const d=async e=>{var t=n.PrivateKey.decode(e),r=t.Data;switch(t.Type){case n.KeyType.RSA:return c.rsa.unmarshalRsaPrivateKey(r);case n.KeyType.Ed25519:return c.ed25519.unmarshalEd25519PrivateKey(r);case n.KeyType.Secp256k1:if(c.secp256k1)return c.secp256k1.unmarshalSecp256k1PrivateKey(r);throw s(new Error(u),h);default:l(t.Type)}};e.exports={supportedKeys:c,keysPBM:n,keyStretcher:r(73494),generateEphemeralKeyPair:r(55563),generateKeyPair:async(e,t)=>l(e).generateKeyPair(t),generateKeyPairFromSeed:async(e,t,r)=>{const n=l(e);if("ed25519"!==e.toLowerCase())throw s(new Error("Seed key derivation is unimplemented for RSA or secp256k1"),"ERR_UNSUPPORTED_KEY_DERIVATION_TYPE");return n.generateKeyPairFromSeed(t,r)},unmarshalPublicKey:e=>{var t=n.PublicKey.decode(e),r=t.Data;switch(t.Type){case n.KeyType.RSA:return c.rsa.unmarshalRsaPublicKey(r);case n.KeyType.Ed25519:return c.ed25519.unmarshalEd25519PublicKey(r);case n.KeyType.Secp256k1:if(c.secp256k1)return c.secp256k1.unmarshalSecp256k1PublicKey(r);throw s(new Error(u),h);default:l(t.Type)}},marshalPublicKey:(e,t)=>(l(t=(t||"rsa").toLowerCase()),e.bytes),unmarshalPrivateKey:d,marshalPrivateKey:(e,t)=>(l(t=(t||"rsa").toLowerCase()),e.bytes),import:async(e,t)=>{try{const r=await a.import(e,t);return d(r)}catch(e){}const r=i.pki.decryptRsaPrivateKey(e,t);if(null===r)throw s(new Error("Cannot read the key, most likely the password is wrong or not a RSA key"),"ERR_CANNOT_DECRYPT_PEM");let n=i.asn1.toDer(i.pki.privateKeyToAsn1(r));return n=o(n.getBytes(),"ascii"),c.rsa.unmarshalRsaPrivateKey(n)}}},925:(e,t,r)=>{"use strict";r(28095);const n=r(3832),i=r(56441)["base64urlToBigInteger"];function s(t,e){return e.map(e=>i(t[e]))}e.exports={jwk2pub:function(e){return n.pki.setRsaPublicKey(...s(e,["n","e"]))},jwk2priv:function(e){return n.pki.setRsaPrivateKey(...s(e,["n","e","d","p","q","dp","dq","qi"]))}}},73494:(e,t,r)=>{"use strict";const m=r(87413),b=r(20605)["concat"],v=r(52217)["fromString"],w=r(31088),_={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};e.exports=async(t,e,r)=>{var n=_[t];if(!n){const e=Object.keys(_).join(" / ");throw m(new Error(`unknown cipher type '${t}'. Must be `+e),"ERR_INVALID_CIPHER_TYPE")}if(!e)throw m(new Error("missing hash type"),"ERR_MISSING_HASH_TYPE");const i=n.keySize,s=n.ivSize,o=v("key expansion"),a=2*(s+i+20),c=await w.create(e,r);let u=await c.digest(o);const h=[];let l=0;for(;l<a;){const t=await c.digest(b([u,o]));let e=t.length;l+e>a&&(e=a-l),h.push(t),l+=e,u=await c.digest(u)}const d=a/2,f=b(h),p=f.slice(0,d),y=f.slice(d,a),g=e=>({iv:e.slice(0,s),cipherKey:e.slice(s,s+i),macKey:e.slice(s+i)});return{k1:g(p),k2:g(y)}}},17241:(e,t,r)=>{"use strict";var n,i=r(62100),s=i.Reader,o=i.Writer,a=i.util,c=i.roots["libp2p-crypto-keys"]||(i.roots["libp2p-crypto-keys"]={});function u(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function h(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}c.KeyType=(n={},(r=Object.create(n))[n[0]="RSA"]=0,r[n[1]="Ed25519"]=1,r[n[2]="Secp256k1"]=2,r),c.PublicKey=(h.prototype.Type=0,h.prototype.Data=a.newBuffer([]),h.encode=function(e,t){return(t=t||o.create()).uint32(8).int32(e.Type),t.uint32(18).bytes(e.Data),t},h.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new c.PublicKey;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Type=e.int32();break;case 2:n.Data=e.bytes();break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Type"))throw a.ProtocolError("missing required 'Type'",{instance:n});if(!n.hasOwnProperty("Data"))throw a.ProtocolError("missing required 'Data'",{instance:n});return n},h.fromObject=function(e){if(e instanceof c.PublicKey)return e;var t=new c.PublicKey;switch(e.Type){case"RSA":case 0:t.Type=0;break;case"Ed25519":case 1:t.Type=1;break;case"Secp256k1":case 2:t.Type=2}return null!=e.Data&&("string"==typeof e.Data?a.base64.decode(e.Data,t.Data=a.newBuffer(a.base64.length(e.Data)),0):e.Data.length&&(t.Data=e.Data)),t},h.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.Type=t.enums===String?"RSA":0,t.bytes===String?r.Data="":(r.Data=[],t.bytes!==Array&&(r.Data=a.newBuffer(r.Data)))),null!=e.Type&&e.hasOwnProperty("Type")&&(r.Type=t.enums===String?c.KeyType[e.Type]:e.Type),null!=e.Data&&e.hasOwnProperty("Data")&&(r.Data=t.bytes===String?a.base64.encode(e.Data,0,e.Data.length):t.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),r},h.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},h),c.PrivateKey=(u.prototype.Type=0,u.prototype.Data=a.newBuffer([]),u.encode=function(e,t){return(t=t||o.create()).uint32(8).int32(e.Type),t.uint32(18).bytes(e.Data),t},u.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new c.PrivateKey;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Type=e.int32();break;case 2:n.Data=e.bytes();break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Type"))throw a.ProtocolError("missing required 'Type'",{instance:n});if(!n.hasOwnProperty("Data"))throw a.ProtocolError("missing required 'Data'",{instance:n});return n},u.fromObject=function(e){if(e instanceof c.PrivateKey)return e;var t=new c.PrivateKey;switch(e.Type){case"RSA":case 0:t.Type=0;break;case"Ed25519":case 1:t.Type=1;break;case"Secp256k1":case 2:t.Type=2}return null!=e.Data&&("string"==typeof e.Data?a.base64.decode(e.Data,t.Data=a.newBuffer(a.base64.length(e.Data)),0):e.Data.length&&(t.Data=e.Data)),t},u.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.Type=t.enums===String?"RSA":0,t.bytes===String?r.Data="":(r.Data=[],t.bytes!==Array&&(r.Data=a.newBuffer(r.Data)))),null!=e.Type&&e.hasOwnProperty("Type")&&(r.Type=t.enums===String?c.KeyType[e.Type]:e.Type),null!=e.Data&&e.hasOwnProperty("Data")&&(r.Data=t.bytes===String?a.base64.encode(e.Data,0,e.Data.length):t.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),r},u.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},u),e.exports=c},96741:(e,t,r)=>{"use strict";const n=r(63649),i=r(87503),s=r(92263)["toString"],o=r(52217)["fromString"];function a(e){return Promise.all([n.get().subtle.exportKey("jwk",e.privateKey),n.get().subtle.exportKey("jwk",e.publicKey)])}t.utils=r(94604),t.generateKey=async function(e){e=await a(await n.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]));return{privateKey:e[0],publicKey:e[1]}},t.unmarshalPrivateKey=async function(e){e=[await n.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),(e=e,await n.get().subtle.importKey("jwk",{kty:e.kty,n:e.n,e:e.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"]))],e=await a({privateKey:e[0],publicKey:e[1]});return{privateKey:e[0],publicKey:e[1]}},t.getRandomValues=i,t.hashAndSign=async function(e,t){e=await n.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),t=await n.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},e,Uint8Array.from(t));return new Uint8Array(t,t.byteOffset,t.byteLength)},t.hashAndVerify=async function(e,t,r){e=await n.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return n.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},e,t,r)};const{jwk2pub:c,jwk2priv:u}=r(925);function h(e,t,r,n){e=(t?c:u)(e),e=n(s(Uint8Array.from(r),"ascii"),e);return o(e,"ascii")}t.encrypt=function(e,t){return h(e,!0,t,(e,t)=>t.encrypt(e))},t.decrypt=function(e,t){return h(e,!1,t,(e,t)=>t.decrypt(e))}},19950:(e,t,r)=>{"use strict";const n=r(56155)["sha256"],i=r(87413),s=r(19588)["equals"],o=r(92263)["toString"];r(63219);const a=r(3832),c=r(96741),u=r(17241),h=r(69716);class l{constructor(e){this._key=e}async verify(e,t){return c.hashAndVerify(this._key,t,e)}marshal(){return c.utils.jwkToPkix(this._key)}get bytes(){return u.PublicKey.encode({Type:u.KeyType.RSA,Data:this.marshal()}).finish()}encrypt(e){return c.encrypt(this._key,e)}equals(e){return s(this.bytes,e.bytes)}async hash(){var e=(await n.digest(this.bytes))["bytes"];return e}}class d{constructor(e,t){this._key=e,this._publicKey=t}genSecret(){return c.getRandomValues(16)}async sign(e){return c.hashAndSign(this._key,e)}get public(){if(!this._publicKey)throw i(new Error("public key not provided"),"ERR_PUBKEY_NOT_PROVIDED");return new l(this._publicKey)}decrypt(e){return c.decrypt(this._key,e)}marshal(){return c.utils.jwkToPkcs1(this._key)}get bytes(){return u.PrivateKey.encode({Type:u.KeyType.RSA,Data:this.marshal()}).finish()}equals(e){return s(this.bytes,e.bytes)}async hash(){var e=(await n.digest(this.bytes))["bytes"];return e}async id(){var e=await this.public.hash();return o(e,"base58btc")}async export(e,t="pkcs-8"){if("pkcs-8"===t){const t=new a.util.ByteBuffer(this.marshal()),r=a.asn1.fromDer(t),n=a.pki.privateKeyFromAsn1(r),i={algorithm:"aes256",count:1e4,saltSize:16,prfAlgorithm:"sha512"};return a.pki.encryptRsaPrivateKey(n,e,i)}if("libp2p-key"===t)return h.export(this.bytes,e);throw i(new Error(`export format '${t}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}e.exports={RsaPublicKey:l,RsaPrivateKey:d,unmarshalRsaPublicKey:function(e){e=c.utils.pkixToJwk(e);return new l(e)},unmarshalRsaPrivateKey:async function(e){e=c.utils.pkcs1ToJwk(e),e=await c.unmarshalPrivateKey(e);return new d(e.privateKey,e.publicKey)},generateKeyPair:async function(e){e=await c.generateKey(e);return new d(e.privateKey,e.publicKey)},fromJwk:async function(e){e=await c.unmarshalPrivateKey(e);return new d(e.privateKey,e.publicKey)}}},94604:(e,t,r)=>{"use strict";r(3068),r(28095);const n=r(3832),{bigIntegerToUintBase64url:i,base64urlToBigInteger:s}=r(56441),o=r(52217)["fromString"],a=r(92263)["toString"];t.pkcs1ToJwk=function(e){e=n.asn1.fromDer(a(e,"ascii")),e=n.pki.privateKeyFromAsn1(e);return{kty:"RSA",n:i(e.n),e:i(e.e),d:i(e.d),p:i(e.p),q:i(e.q),dp:i(e.dP),dq:i(e.dQ),qi:i(e.qInv),alg:"RS256",kid:"2011-04-29"}},t.jwkToPkcs1=function(e){e=n.pki.privateKeyToAsn1({n:s(e.n),e:s(e.e),d:s(e.d),p:s(e.p),q:s(e.q),dP:s(e.dp),dQ:s(e.dq),qInv:s(e.qi)});return o(n.asn1.toDer(e).getBytes(),"ascii")},t.pkixToJwk=function(e){e=n.asn1.fromDer(a(e,"ascii")),e=n.pki.publicKeyFromAsn1(e);return{kty:"RSA",n:i(e.n),e:i(e.e),alg:"RS256",kid:"2011-04-29"}},t.jwkToPkix=function(e){e=n.pki.publicKeyToAsn1({n:s(e.n),e:s(e.e)});return o(n.asn1.toDer(e).getBytes(),"ascii")}},49434:(e,t,s)=>{"use strict";const o=s(56155)["sha256"],a=s(87413),c=s(19588)["equals"],u=s(92263)["toString"],h=s(69716);e.exports=(e,t,r)=>{r=r||s(54056)();class n{constructor(e){r.validatePublicKey(e),this._key=e}verify(e,t){return r.hashAndVerify(this._key,t,e)}marshal(){return r.compressPublicKey(this._key)}get bytes(){return e.PublicKey.encode({Type:e.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(e){return c(this.bytes,e.bytes)}async hash(){var e=(await o.digest(this.bytes))["bytes"];return e}}class i{constructor(e,t){this._key=e,this._publicKey=t||r.computePublicKey(e),r.validatePrivateKey(this._key),r.validatePublicKey(this._publicKey)}sign(e){return r.hashAndSign(this._key,e)}get public(){return new n(this._publicKey)}marshal(){return this._key}get bytes(){return e.PrivateKey.encode({Type:e.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(e){return c(this.bytes,e.bytes)}async hash(){var e=(await o.digest(this.bytes))["bytes"];return e}async id(){var e=await this.public.hash();return u(e,"base58btc")}async export(e,t="libp2p-key"){if("libp2p-key"===t)return h.export(this.bytes,e);throw a(new Error(`export format '${t}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}return{Secp256k1PublicKey:n,Secp256k1PrivateKey:i,unmarshalSecp256k1PrivateKey:function(e){return new i(e)},unmarshalSecp256k1PublicKey:function(e){return new n(e)},generateKeyPair:async function(){var e=await r.generateKey();return new i(e)}}}},54056:(e,t,r)=>{"use strict";const n=r(87413),i=r(1795),s=r(56155)["sha256"];e.exports=()=>({generateKey:function(){return i.utils.randomPrivateKey()},privateKeyLength:32,hashAndSign:async function(e,t){var t=(await s.digest(t))["digest"];try{return await i.sign(t,e)}catch(e){throw n(e,"ERR_INVALID_INPUT")}},hashAndVerify:async function(e,t,r){try{const n=(await s.digest(r))["digest"];return i.verify(t,n,e)}catch(e){throw n(e,"ERR_INVALID_INPUT")}},compressPublicKey:function(e){return i.Point.fromHex(e).toRawBytes(!0)},decompressPublicKey:function(e){return i.Point.fromHex(e).toRawBytes(!1)},validatePrivateKey:function(e){try{i.getPublicKey(e,!0)}catch(e){throw n(e,"ERR_INVALID_PRIVATE_KEY")}},validatePublicKey:function(e){try{i.Point.fromHex(e)}catch(e){throw n(e,"ERR_INVALID_PUBLIC_KEY")}},computePublicKey:function(e){try{return i.getPublicKey(e,!0)}catch(e){throw n(e,"ERR_INVALID_PRIVATE_KEY")}}})},45753:(e,t,r)=>{"use strict";const n=r(87413);e.exports=function(e,t){if(!e.includes(t)){e=e.join(" / ");throw n(new Error(`Unknown curve: ${t}. Must be `+e),"ERR_INVALID_CURVE")}}},87503:(e,t,r)=>{"use strict";const n=r(1914),i=r(87413);e.exports=function(e){if(isNaN(e)||e<=0)throw i(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return n(e)}},56441:(e,t,r)=>{"use strict";r(97116),r(15764);const n=r(3832),i=r(52217)["fromString"],s=r(92263)["toString"],o=r(20605)["concat"];t.bigIntegerToUintBase64url=(e,t)=>{let r=Uint8Array.from(e.abs().toByteArray());if(r=0===r[0]?r.slice(1):r,null!=t){if(r.length>t)throw new Error("byte array longer than desired length");r=o([new Uint8Array(t-r.length),r])}return s(r,"base64url")},t.base64urlToBigInteger=e=>{e=t.base64urlToBuffer(e);return new n.jsbn.BigInteger(s(e,"base16"),16)},t.base64urlToBuffer=(e,t)=>{let r=i(e,"base64urlpad");if(null!=t){if(r.length>t)throw new Error("byte array longer than desired length");r=o([new Uint8Array(t-r.length),r])}return r}},63649:(e,t)=>{"use strict";t.get=(e=globalThis)=>{e=e.crypto;if(!e||!e.subtle)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return e}},47764:(t,r,e)=>{r.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");let t=0,r=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(t++,"%c"===e&&(r=t))}),e.splice(r,0,n)}},r.save=function(e){try{e?r.storage.setItem("debug",e):r.storage.removeItem("debug")}catch(e){}},r.load=function(){let e;try{e=r.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},r.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},r.storage=function(){try{return localStorage}catch(e){}}(),r.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],r.log=console.debug||console.log||(()=>{}),t.exports=e(5476)(r);const n=t.exports["formatters"];n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},5476:(e,t,n)=>{e.exports=function(t){function a(e){let r,t,n,i=null;function o(...i){if(o.enabled){const s=o,e=Number(new Date),t=e-(r||e);s.diff=t,s.prev=r,s.curr=e,r=e,i[0]=a.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");let n=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(e,t)=>{if("%%"===e)return"%";n++;const r=a.formatters[t];if("function"==typeof r){const a=i[n];e=r.call(s,a),i.splice(n,1),n--}return e}),a.formatArgs.call(s,i),(s.log||a.log).apply(s,i)}}return o.namespace=e,o.useColors=a.useColors(),o.color=a.selectColor(e),o.extend=s,o.destroy=a.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(t!==a.namespaces&&(t=a.namespaces,n=a.enabled(e)),n),set:e=>{i=e}}),"function"==typeof a.init&&a.init(o),o}function s(e,t){const r=a(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return((a.debug=a).default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},a.disable=function(){var e=[...a.names.map(r),...a.skips.map(r).map(e=>"-"+e)].join(",");return a.enable(""),e},a.enable=function(e){let t;a.save(e),a.namespaces=e,a.names=[],a.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length;for(t=0;t<n;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+e.substr(1)+"$")):a.names.push(new RegExp("^"+e+"$")))},a.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=a.skips.length;t<r;t++)if(a.skips[t].test(e))return!1;for(t=0,r=a.names.length;t<r;t++)if(a.names[t].test(e))return!0;return!1},a.humanize=n(72107),a.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(e=>{a[e]=t[e]}),a.names=[],a.skips=[],a.formatters={},a.selectColor=function(t){let r=0;for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return a.colors[Math.abs(r)%a.colors.length]},a.enable(a.load()),a}},72107:e=>{function s(e,t,r,n){t=1.5*r<=t;return Math.round(e/r)+" "+n+(t?"s":"")}e.exports=function(r,e){e=e||{};var t,n,i=typeof r;if("string"==i&&0<r.length)return function(e){if(!(100<(e=String(r)).length)){e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(e){var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"weeks":case"week":case"w":return 6048e5*t;case"days":case"day":case"d":return 864e5*t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}(r);if("number"==i&&isFinite(r))return e.long?(n=r,864e5<=(t=Math.abs(n))?s(n,t,864e5,"day"):36e5<=t?s(n,t,36e5,"hour"):6e4<=t?s(n,t,6e4,"minute"):1e3<=t?s(n,t,1e3,"second"):n+" ms"):(t=r,864e5<=(n=Math.abs(t))?Math.round(t/864e5)+"d":36e5<=n?Math.round(t/36e5)+"h":6e4<=n?Math.round(t/6e4)+"m":1e3<=n?Math.round(t/1e3)+"s":t+"ms");throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))}},5633:(e,t,r)=>{"use strict";const n=r(47764),i=Object.assign(n("libp2p:floodsub"),{error:n("libp2p:floodsub:err")});e.exports={log:i,multicodec:"/floodsub/1.0.0"}},23979:(e,t,r)=>{"use strict";const n=r(11273),i=r(92263)["toString"],s=r(56341),o=r(56341)["utils"],a=r(5633)["multicodec"];e.exports=class extends s{constructor(e,t={}){super({debugName:"libp2p:floodsub",multicodecs:a,libp2p:e,canRelayMessage:!0,...t}),this.seenCache=new n}async _processRpcMessage(e){var t=await this.getMsgId(e),t=i(t,"base64");this.seenCache.has(t)||(this.seenCache.put(t),await super._processRpcMessage(e))}_publish(e){return this._forwardMessage(e),Promise.resolve()}_forwardMessage(r){r.topicIDs.forEach(e=>{const t=this.topics.get(e);t&&t.forEach(e=>{this.log("publish msgs on topics",r.topicIDs,e),e!==this.peerId.toB58String()&&e!==r.receivedFrom&&this._sendRpc(e,{msgs:[o.normalizeOutRpcMessage(r)]})})})}},e.exports.multicodec=a},84020:(t,r,e)=>{r.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");let t=0,r=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(t++,"%c"===e&&(r=t))}),e.splice(r,0,n)}},r.save=function(e){try{e?r.storage.setItem("debug",e):r.storage.removeItem("debug")}catch(e){}},r.load=function(){let e;try{e=r.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},r.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},r.storage=function(){try{return localStorage}catch(e){}}(),r.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],r.log=console.debug||console.log||(()=>{}),t.exports=e(73010)(r);const n=t.exports["formatters"];n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},73010:(e,t,n)=>{e.exports=function(t){function a(e){let r,t,n,i=null;function o(...i){if(o.enabled){const s=o,e=Number(new Date),t=e-(r||e);s.diff=t,s.prev=r,s.curr=e,r=e,i[0]=a.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");let n=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(e,t)=>{if("%%"===e)return"%";n++;const r=a.formatters[t];if("function"==typeof r){const a=i[n];e=r.call(s,a),i.splice(n,1),n--}return e}),a.formatArgs.call(s,i),(s.log||a.log).apply(s,i)}}return o.namespace=e,o.useColors=a.useColors(),o.color=a.selectColor(e),o.extend=s,o.destroy=a.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(t!==a.namespaces&&(t=a.namespaces,n=a.enabled(e)),n),set:e=>{i=e}}),"function"==typeof a.init&&a.init(o),o}function s(e,t){const r=a(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return((a.debug=a).default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},a.disable=function(){var e=[...a.names.map(r),...a.skips.map(r).map(e=>"-"+e)].join(",");return a.enable(""),e},a.enable=function(e){let t;a.save(e),a.namespaces=e,a.names=[],a.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length;for(t=0;t<n;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+e.substr(1)+"$")):a.names.push(new RegExp("^"+e+"$")))},a.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=a.skips.length;t<r;t++)if(a.skips[t].test(e))return!1;for(t=0,r=a.names.length;t<r;t++)if(a.names[t].test(e))return!0;return!1},a.humanize=n(77516),a.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(e=>{a[e]=t[e]}),a.names=[],a.skips=[],a.formatters={},a.selectColor=function(t){let r=0;for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return a.colors[Math.abs(r)%a.colors.length]},a.enable(a.load()),a}},82186:e=>{"use strict";function i(e,t){for(const r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}e.exports=function(e,t,r){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");r=r||{},"object"==typeof t&&(r=t,t=""),t&&(r.code=t);try{return i(e,r)}catch(t){r.message=e.message,r.stack=e.stack;var n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(e)),i(new n,r)}}},77516:e=>{function s(e,t,r,n){t=1.5*r<=t;return Math.round(e/r)+" "+n+(t?"s":"")}e.exports=function(r,e){e=e||{};var t,n,i=typeof r;if("string"==i&&0<r.length)return function(e){if(!(100<(e=String(r)).length)){e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(e){var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"weeks":case"week":case"w":return 6048e5*t;case"days":case"day":case"d":return 864e5*t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}(r);if("number"==i&&isFinite(r))return e.long?(n=r,864e5<=(t=Math.abs(n))?s(n,t,864e5,"day"):36e5<=t?s(n,t,36e5,"hour"):6e4<=t?s(n,t,6e4,"minute"):1e3<=t?s(n,t,1e3,"second"):n+" ms"):(t=r,864e5<=(n=Math.abs(t))?Math.round(t/864e5)+"d":36e5<=n?Math.round(t/36e5)+"h":6e4<=n?Math.round(t/6e4)+"m":1e3<=n?Math.round(t/1e3)+"s":t+"ms");throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))}},36726:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERR_TOPIC_VALIDATOR_IGNORE=t.ERR_TOPIC_VALIDATOR_REJECT=t.TimeCacheDuration=t.GossipsubSeenTTL=t.GossipsubIWantFollowupTime=t.GossipsubMaxIHaveMessages=t.GossipsubMaxIHaveLength=t.GossipsubGraftFloodThreshold=t.GossipsubOpportunisticGraftPeers=t.GossipsubOpportunisticGraftTicks=t.GossipsubDirectConnectInitialDelay=t.GossipsubDirectConnectTicks=t.GossipsubConnectionTimeout=t.GossipsubMaxPendingConnections=t.GossipsubConnectors=t.GossipsubPruneBackoffTicks=t.GossipsubPruneBackoff=t.GossipsubPrunePeers=t.GossipsubFanoutTTL=t.GossipsubHeartbeatInterval=t.GossipsubHeartbeatInitialDelay=t.GossipsubGossipRetransmission=t.GossipsubGossipFactor=t.GossipsubDlazy=t.GossipsubHistoryGossip=t.GossipsubHistoryLength=t.GossipsubDout=t.GossipsubDscore=t.GossipsubDhi=t.GossipsubDlo=t.GossipsubD=t.GossipsubIDv11=t.GossipsubIDv10=t.FloodsubID=t.minute=t.second=void 0,t.second=1e3,t.minute=60*t.second,t.FloodsubID="/floodsub/1.0.0",t.GossipsubIDv10="/meshsub/1.0.0",t.GossipsubIDv11="/meshsub/1.1.0",t.GossipsubD=6,t.GossipsubDlo=4,t.GossipsubDhi=12,t.GossipsubDscore=4,t.GossipsubDout=2,t.GossipsubHistoryLength=5,t.GossipsubHistoryGossip=3,t.GossipsubDlazy=6,t.GossipsubGossipFactor=.25,t.GossipsubGossipRetransmission=3,t.GossipsubHeartbeatInitialDelay=100,t.GossipsubHeartbeatInterval=t.second,t.GossipsubFanoutTTL=t.minute,t.GossipsubPrunePeers=16,t.GossipsubPruneBackoff=t.minute,t.GossipsubPruneBackoffTicks=15,t.GossipsubConnectors=8,t.GossipsubMaxPendingConnections=128,t.GossipsubConnectionTimeout=30*t.second,t.GossipsubDirectConnectTicks=300,t.GossipsubDirectConnectInitialDelay=t.second,t.GossipsubOpportunisticGraftTicks=60,t.GossipsubOpportunisticGraftPeers=2,t.GossipsubGraftFloodThreshold=10*t.second,t.GossipsubMaxIHaveLength=5e3,t.GossipsubMaxIHaveMessages=10,t.GossipsubIWantFollowupTime=3*t.second,t.GossipsubSeenTTL=30*t.second,t.TimeCacheDuration=12e4,t.ERR_TOPIC_VALIDATOR_REJECT="ERR_TOPIC_VALIDATOR_REJECT",t.ERR_TOPIC_VALIDATOR_IGNORE="ERR_TOPIC_VALIDATOR_IGNORE"},61373:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGossipPeers=void 0;const o=r(60663);t.getGossipPeers=function(r,e,t,n=()=>!0){const i=r.topics.get(e);if(!i)return new Set;let s=[];return i.forEach(e=>{var t=r.peers.get(e);t&&o.hasGossipProtocol(t.protocol)&&n(e)&&s.push(e)}),s=o.shuffle(s),0<t&&s.length>t&&(s=s.slice(0,t)),new Set(s)}},91259:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Heartbeat=void 0;const p=s(r(36726)),y=r(61373),g=r(60663);t.Heartbeat=class{constructor(e){this.gossipsub=e}start(){if(!this._heartbeatTimer){const e=this._heartbeat.bind(this),t=setTimeout(()=>{e(),this._heartbeatTimer.runPeriodically(e,this.gossipsub._options.heartbeatInterval)},p.GossipsubHeartbeatInitialDelay);this._heartbeatTimer={_intervalId:void 0,runPeriodically:(e,t)=>{this._heartbeatTimer._intervalId=setInterval(e,t)},cancel:()=>{clearTimeout(t),clearInterval(this._heartbeatTimer._intervalId)}}}}stop(){this._heartbeatTimer&&(this._heartbeatTimer.cancel(),this._heartbeatTimer=null)}_heartbeat(){const{D:o,Dlo:a,Dhi:c,Dscore:u,Dout:e,fanoutTTL:r}=this.gossipsub._options;this.gossipsub.heartbeatTicks++;const n=new Map,h=e=>{let t=n.get(e);return void 0===t&&(t=this.gossipsub.score.score(e),n.set(e,t)),t},l=new Map,d=new Map,f=new Map;this.gossipsub._clearBackoff(),this.gossipsub.peerhave.clear(),this.gossipsub.iasked.clear(),this.gossipsub._applyIwantPenalties(),this.gossipsub._directConnect(),this.gossipsub.mesh.forEach((i,r)=>{const s=e=>{this.gossipsub.log("HEARTBEAT: Remove mesh link to %s in %s",e,r),this.gossipsub.score.prune(e,r),this.gossipsub._addBackoff(e,r),i.delete(e);const t=d.get(e);t?t.push(r):d.set(e,[r])},n=e=>{this.gossipsub.log("HEARTBEAT: Add mesh link to %s in %s",e,r),this.gossipsub.score.graft(e,r),i.add(e);const t=l.get(e);t?t.push(r):l.set(e,[r])};if(i.forEach(e=>{var t=h(e);t<0&&(this.gossipsub.log("HEARTBEAT: Prune peer %s with negative score: score=%d, topic=%s",e,t,r),s(e),f.set(e,!0))}),i.size<a){const a=this.gossipsub.backoff.get(r),c=o-i.size;y.getGossipPeers(this.gossipsub,r,c,e=>!i.has(e)&&!this.gossipsub.direct.has(e)&&(!a||!a.has(e))&&0<=h(e)).forEach(n)}if(i.size>c){let r=Array.from(i);r.sort((e,t)=>h(t)-h(e)),r=r.slice(0,u).concat(g.shuffle(r.slice(u)));let n=0;if(r.slice(0,o).forEach(e=>{this.gossipsub.outbound.get(e)&&n++}),n<e){const u=t=>{var e=r[t];for(let e=t;0<e;e--)r[e]=r[e-1];r[0]=e};if(0<n){let t=n;for(let e=1;e<o&&0<t;e++)this.gossipsub.outbound.get(r[e])&&(u(e),t--)}let t=o-n;for(let e=o;e<r.length&&0<t;e++)this.gossipsub.outbound.get(r[e])&&(u(e),t--)}r.slice(o).forEach(s)}if(i.size>=a){let t=0;if(i.forEach(e=>{this.gossipsub.outbound.get(e)&&t++}),t<e){const a=e-t,c=this.gossipsub.backoff.get(r);y.getGossipPeers(this.gossipsub,r,a,e=>!i.has(e)&&!this.gossipsub.direct.has(e)&&(!c||!c.has(e))&&0<=h(e)).forEach(n)}}if(this.gossipsub.heartbeatTicks%p.GossipsubOpportunisticGraftTicks==0&&1<i.size){const o=Array.from(i).sort((e,t)=>h(e)-h(t)),a=Math.floor(i.size/2),c=h(o[a]);if(c<this.gossipsub._options.scoreThresholds.opportunisticGraftThreshold){const o=this.gossipsub.backoff.get(r);y.getGossipPeers(this.gossipsub,r,p.GossipsubOpportunisticGraftPeers,e=>i.has(e)&&!this.gossipsub.direct.has(e)&&(!o||!o.has(e))&&h(e)>c).forEach(e=>{this.gossipsub.log("HEARTBEAT: Opportunistically graft peer %s on topic %s",e,r),n(e)})}}this.gossipsub._emitGossip(r,i)});const i=this.gossipsub._now();this.gossipsub.lastpub.forEach((e,t)=>{e+r<i&&(this.gossipsub.fanout.delete(t),this.gossipsub.lastpub.delete(t))}),this.gossipsub.fanout.forEach((t,e)=>{const r=this.gossipsub.topics.get(e);if(t.forEach(e=>{(!r.has(e)||h(e)<this.gossipsub._options.scoreThresholds.publishThreshold)&&t.delete(e)}),t.size<o){const r=o-t.size;y.getGossipPeers(this.gossipsub,e,r,e=>!t.has(e)&&!this.gossipsub.direct.has(e)&&h(e)>=this.gossipsub._options.scoreThresholds.publishThreshold).forEach(e=>{t.add(e)})}this.gossipsub._emitGossip(e,t)}),this.gossipsub._sendGraftPrune(l,d,f),this.gossipsub._flush(),this.gossipsub.messageCache.shift(),this.gossipsub.emit("gossipsub:heartbeat")}}},95391:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function n(e){try{s(c.next(e))}catch(e){t(e)}}function i(e){try{s(c.throw(e))}catch(e){t(e)}}function s(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,i)}s((c=c.apply(e,o||[])).next())})};const a=s(r(56341)),c=r(67779),u=r(19609),h=s(r(36726)),l=r(91259),d=r(61373),f=r(60663),p=r(63742),y=r(77253),g=r(11273),m=r(88785),b=r(31244);class v extends a.default{constructor(t,e={}){const r=[h.GossipsubIDv11,h.GossipsubIDv10],n=Object.assign(Object.assign({gossipIncoming:!0,fallbackToFloodsub:!0,floodPublish:!0,doPX:!1,directPeers:[],D:h.GossipsubD,Dlo:h.GossipsubDlo,Dhi:h.GossipsubDhi,Dscore:h.GossipsubDscore,Dout:h.GossipsubDout,Dlazy:h.GossipsubDlazy,heartbeatInterval:h.GossipsubHeartbeatInterval,fanoutTTL:h.GossipsubFanoutTTL,mcacheLength:h.GossipsubHistoryLength,mcacheGossip:h.GossipsubHistoryGossip,seenTTL:h.GossipsubSeenTTL},e),{scoreParams:p.createPeerScoreParams(e.scoreParams),scoreThresholds:p.createPeerScoreThresholds(e.scoreThresholds)});n.fallbackToFloodsub&&r.push(h.FloodsubID),super(Object.assign({debugName:"libp2p:gossipsub",multicodecs:r,libp2p:t},n)),this._options=n,this.direct=new Set(n.directPeers.map(e=>e.id.toB58String())),n.directPeers.forEach(e=>{t.peerStore.addressBook.add(e.id,e.addrs)}),this.seenCache=new g({validity:n.seenTTL/1e3}),this.mesh=new Map,this.fanout=new Map,this.lastpub=new Map,this.gossip=new Map,this.control=new Map,this.peerhave=new Map,this.iasked=new Map,this.backoff=new Map,this.outbound=new Map,this.messageCache=e.messageCache||new c.MessageCache(n.mcacheGossip,n.mcacheLength,this.getMsgId.bind(this)),this.heartbeat=new l.Heartbeat(this),this.heartbeatTicks=0,this.gossipTracer=new y.IWantTracer(this.getMsgId.bind(this)),this._libp2p=t,this.score=new p.PeerScore(this._options.scoreParams,t.connectionManager,this.getMsgId.bind(this))}_decodeRpc(e){return u.RPC.decode(e)}_encodeRpc(e){return u.RPC.encode(e).finish()}_addPeer(e,t){const r=super._addPeer(e,t);this.score.addPeer(e.toB58String());let n=!1;for(const r of this._libp2p.connectionManager.getAll(e))if("outbound"===r.stat.direction&&Array.from(r.registry.values()).some(e=>t===e.protocol)){n=!0;break}return this.outbound.set(r.id.toB58String(),n),r}_removePeer(e){var t=super._removePeer(e),r=e.toB58String();for(const e of this.mesh.values())e.delete(r);for(const e of this.fanout.values())e.delete(r);return this.gossip.delete(r),this.control.delete(r),this.outbound.delete(r),this.score.removePeer(r),t}_processRpc(e,t,r){const n=Object.create(null,{_processRpc:{get:()=>super._processRpc}});return o(this,void 0,void 0,function*(){return!!(yield n._processRpc.call(this,e,t,r))&&(r.control&&this._processRpcControlMessage(e,r.control),!0)})}_processRpcControlMessage(e,t){var r,n,i;t&&(r=t.ihave?this._handleIHave(e,t.ihave):[],n=t.iwant?this._handleIWant(e,t.iwant):[],i=t.graft?this._handleGraft(e,t.graft):[],t.prune&&this._handlePrune(e,t.prune),(r.length||n.length||i.length)&&(i=f.createGossipRpc(n,{iwant:r,prune:i}),this._sendRpc(e,i)))}_processRpcMessage(t){const r=Object.create(null,{_processRpcMessage:{get:()=>super._processRpcMessage}});return o(this,void 0,void 0,function*(){var e=yield this.getMsgId(t),e=f.messageIdToString(e);this.seenCache.has(e)?this.score.duplicateMessage(t):(this.seenCache.put(e),yield this.score.validateMessage(t),yield r._processRpcMessage.call(this,t))})}_acceptFrom(e){return this.direct.has(e)||this.score.score(e)>=this._options.scoreThresholds.graylistThreshold}validate(t){const e=Object.create(null,{validate:{get:()=>super.validate}});return o(this,void 0,void 0,function*(){try{yield e.validate.call(this,t)}catch(e){throw this.score.rejectMessage(t,e.code),this.gossipTracer.rejectMessage(t,e.code),e}})}_handleIHave(e,t){if(!t.length)return[];var r=this.score.score(e);if(r<this._options.scoreThresholds.gossipThreshold)return this.log("IHAVE: ignoring peer %s with score below threshold [ score = %d ]",e,r),[];r=(this.peerhave.get(e)||0)+1;if(this.peerhave.set(e,r),r>h.GossipsubMaxIHaveMessages)return this.log("IHAVE: peer %s has advertised too many times (%d) within this heartbeat interval; ignoring",e,r),[];r=this.iasked.get(e)||0;if(r>=h.GossipsubMaxIHaveLength)return this.log("IHAVE: peer %s has already advertised too many messages (%d); ignoring",e,r),[];const n=new Map;if(t.forEach(({topicID:e,messageIDs:t})=>{e&&t&&this.mesh.has(e)&&t.forEach(e=>{var t=f.messageIdToString(e);this.seenCache.has(t)||n.set(t,e)})}),!n.size)return[];let i=n.size;i+r>h.GossipsubMaxIHaveLength&&(i=h.GossipsubMaxIHaveLength-r),this.log("IHAVE: Asking for %d out of %d messages from %s",i,n.size,e);let s=Array.from(n.values());return f.shuffle(s),s=s.slice(0,i),this.iasked.set(e,r+i),this.gossipTracer.addPromise(e,s),[{messageIDs:s}]}_handleIWant(n,e){if(!e.length)return[];var t=this.score.score(n);if(t<this._options.scoreThresholds.gossipThreshold)return this.log("IWANT: ignoring peer %s with score below threshold [score = %d]",n,t),[];const i=new Map;return e.forEach(({messageIDs:e})=>{e&&e.forEach(e=>{var[t,r]=this.messageCache.getForPeer(e,n);t&&(r>h.GossipsubGossipRetransmission?this.log("IWANT: Peer %s has asked for message %s too many times: ignoring request",n,e):i.set(f.messageIdToString(e),t))})}),i.size?(this.log("IWANT: Sending %d messages to %s",i.size,n),Array.from(i.values()).map(a.utils.normalizeOutRpcMessage)):[]}_handleGraft(n,e){const i=[],s=this.score.score(n),o=this._now();let a=this._options.doPX;return e.forEach(({topicID:e})=>{if(e){const r=this.mesh.get(e);if(r){if(!r.has(n)){if(this.direct.has(n))return this.log("GRAFT: ignoring request from direct peer %s",n),i.push(e),void(a=!1);var t=null===(t=this.backoff.get(e))||void 0===t?void 0:t.get(n);if("number"==typeof t&&o<t){this.log("GRAFT: ignoring backed off peer %s",n),this.score.addPenalty(n,1),a=!1;const s=t+h.GossipsubGraftFloodThreshold-h.GossipsubPruneBackoff;return o<s&&this.score.addPenalty(n,1),this._addBackoff(n,e),void i.push(e)}return s<0?(this.log("GRAFT: ignoring peer %s with negative score: score=%d, topic=%s",n,s,e),i.push(e),a=!1,void this._addBackoff(n,e)):r.size>=this._options.Dhi&&!this.outbound.get(n)?(i.push(e),void this._addBackoff(n,e)):(this.log("GRAFT: Add mesh link from %s in %s",n,e),this.score.graft(n,e),void r.add(n))}}else a=!1}}),i.length?i.map(e=>this._makePrune(n,e,a)):[]}_handlePrune(i,e){const s=this.score.score(i);e.forEach(({topicID:e,backoff:t,peers:r})=>{if(e){const n=this.mesh.get(e);n&&(this.log("PRUNE: Remove mesh link to %s in %s",i,e),this.score.prune(i,e),n.delete(i),"number"==typeof t&&0<t?this._doAddBackoff(i,e,1e3*t):this._addBackoff(i,e),r&&r.length)&&(s<this._options.scoreThresholds.acceptPXThreshold?this.log("PRUNE: ignoring PX from peer %s with insufficient score [score = %d, topic = %s]",i,s,e):this._pxConnect(r))}})}_addBackoff(e,t){this._doAddBackoff(e,t,h.GossipsubPruneBackoff)}_doAddBackoff(e,t,r){let n=this.backoff.get(t);n||(n=new Map,this.backoff.set(t,n));r=this._now()+r;(n.get(e)||0)<r&&n.set(e,r)}_applyIwantPenalties(){this.gossipTracer.getBrokenPromises().forEach((e,t)=>{this.log("peer %s didn't follow up in %d IWANT requests; adding penalty",t,e),this.score.addPenalty(t,e)})}_clearBackoff(){if(this.heartbeatTicks%h.GossipsubPruneBackoffTicks==0){const n=this._now();this.backoff.forEach((r,e)=>{r.forEach((e,t)=>{e<n&&r.delete(t)}),0===r.size&&this.backoff.delete(e)})}}_directConnect(){if(this.heartbeatTicks%h.GossipsubDirectConnectTicks==0){const r=[];this.direct.forEach(e=>{var t=this.peers.get(e);t&&t.isWritable||r.push(e)}),r.length&&r.forEach(e=>{this._connect(e)})}}_pxConnect(e){return o(this,void 0,void 0,function*(){e.length>h.GossipsubPrunePeers&&(f.shuffle(e),e=e.slice(0,h.GossipsubPrunePeers));const i=[];yield Promise.all(e.map(n=>o(this,void 0,void 0,function*(){if(n.peerID){var e=m.createFromBytes(n.peerID).toB58String();if(!this.peers.has(e))if(n.signedPeerRecord)try{const t=yield b.openAndCertify(n.signedPeerRecord,"libp2p-peer-record"),r=t.peerId.toB58String();e===r?this._libp2p.peerStore.addressBook.consumePeerRecord(t)?i.push(e):this.log("bogus peer record obtained through px: could not add peer record to address book"):this.log("bogus peer record obtained through px: peer ID %s doesn't match expected peer %s",r,e)}catch(e){this.log("bogus peer record obtained through px: invalid signature or not a peer record")}else i.push(e)}}))),i.length&&i.forEach(e=>this._connect(e))})}start(){super.start(),this.heartbeat.start(),this.score.start(),this._directPeerInitial=setTimeout(()=>{this.direct.forEach(e=>{this._connect(e)})},h.GossipsubDirectConnectInitialDelay)}stop(){super.stop(),this.heartbeat.stop(),this.score.stop(),this.mesh=new Map,this.fanout=new Map,this.lastpub=new Map,this.gossip=new Map,this.control=new Map,this.peerhave=new Map,this.iasked=new Map,this.backoff=new Map,this.outbound=new Map,this.gossipTracer.clear(),clearTimeout(this._directPeerInitial)}_connect(e){this.log("Initiating connection with %s",e),this._libp2p.dialProtocol(m.createFromB58String(e),this.multicodecs)}subscribe(e){super.subscribe(e),this.join(e)}unsubscribe(e){super.unsubscribe(e),this.leave(e)}join(t){if(!this.started)throw new Error("Gossipsub has not started");this.log("JOIN %s",t);const r=this.fanout.get(t);if(r)r.forEach(e=>{this.score.score(e)<0&&r.delete(e)}),r.size<this._options.D&&d.getGossipPeers(this,t,this._options.D-r.size,e=>!r.has(e)&&!this.direct.has(e)&&0<=this.score.score(e)).forEach(e=>r.add(e)),this.mesh.set(t,r),this.fanout.delete(t),this.lastpub.delete(t);else{const r=d.getGossipPeers(this,t,this._options.D,e=>!this.direct.has(e)&&0<=this.score.score(e));this.mesh.set(t,r)}this.mesh.get(t).forEach(e=>{this.log("JOIN: Add mesh link to %s in %s",e,t),this._sendGraft(e,t)})}leave(t){if(!this.started)throw new Error("Gossipsub has not started");this.log("LEAVE %s",t);const e=this.mesh.get(t);e&&(e.forEach(e=>{this.log("LEAVE: Remove mesh link to %s in %s",e,t),this._sendPrune(e,t)}),this.mesh.delete(t))}_publish(i){return o(this,void 0,void 0,function*(){i.receivedFrom!==this.peerId.toB58String()&&(this.score.deliverMessage(i),this.gossipTracer.deliverMessage(i));var e=yield this.getMsgId(i),e=f.messageIdToString(e);this.seenCache.put(e),this.messageCache.put(i);const n=new Set;i.topicIDs.forEach(t=>{const r=this.topics.get(t);if(r)if(this._options.floodPublish&&i.from===this.peerId.toB58String())r.forEach(e=>{(this.direct.has(e)||this.score.score(e)>=this._options.scoreThresholds.publishThreshold)&&n.add(e)});else{this.direct.forEach(e=>{n.add(e)}),r.forEach(e=>{var t=this.score.score(e),r=this.peers.get(e);r&&r.protocol===h.FloodsubID&&t>=this._options.scoreThresholds.publishThreshold&&n.add(e)});let e=this.mesh.get(t);if(!e||!e.size){if(e=this.fanout.get(t),!e){const r=d.getGossipPeers(this,t,this._options.D,e=>this.score.score(e)>=this._options.scoreThresholds.publishThreshold);0<r.size?(e=r,this.fanout.set(t,r)):e=new Set}this.lastpub.set(t,this._now())}e.forEach(e=>{n.add(e)})}});const t=f.createGossipRpc([a.utils.normalizeOutRpcMessage(i)]);n.forEach(e=>{e!==i.from&&this._sendRpc(e,t)})})}_sendGraft(e,t){t=[{topicID:t}],t=f.createGossipRpc([],{graft:t});this._sendRpc(e,t)}_sendPrune(e,t){t=[this._makePrune(e,t,this._options.doPX)],t=f.createGossipRpc([],{prune:t});this._sendRpc(e,t)}_sendRpc(e,t){const r=this.peers.get(e);var n;r&&r.isWritable&&((n=this.control.get(e))&&(this._piggybackControl(e,t,n),this.control.delete(e)),(n=this.gossip.get(e))&&(this._piggybackGossip(e,t,n),this.gossip.delete(e)),r.write(u.RPC.encode(t).finish()))}_piggybackControl(t,e,r){var n=(r.graft||[]).filter(({topicID:e})=>(e&&this.mesh.get(e)||new Set).has(t)),r=(r.prune||[]).filter(({topicID:e})=>!(e&&this.mesh.get(e)||new Set).has(t));(n.length||r.length)&&(e.control?(e.control.graft=e.control.graft&&e.control.graft.concat(n),e.control.prune=e.control.prune&&e.control.prune.concat(r)):e.control={ihave:[],iwant:[],graft:n,prune:r})}_piggybackGossip(e,t,r){t.control||(t.control={ihave:[],iwant:[],graft:[],prune:[]}),t.control.ihave=r}_sendGraftPrune(t,r,n){const i=this._options.doPX;for(const[o,a]of t){const t=a.map(e=>({topicID:e}));let e=[];const c=r.get(o);c&&(e=c.map(e=>this._makePrune(o,e,i&&!n.get(o))),r.delete(o));var s=f.createGossipRpc([],{graft:t,prune:e});this._sendRpc(o,s)}for(const[t,e]of r){const r=e.map(e=>this._makePrune(t,e,i&&!n.get(t))),u=f.createGossipRpc([],{prune:r});this._sendRpc(t,u)}}_emitGossip(r,n){const i=this.messageCache.getGossipIDs(r);if(i.length){f.shuffle(i),i.length>h.GossipsubMaxIHaveLength&&this.log("too many messages for gossip; will truncate IHAVE list (%d messages)",i.length);const s=[],o=this.topics.get(r);if(o){o.forEach(e=>{var t=this.peers.get(e);t&&!n.has(e)&&!this.direct.has(e)&&f.hasGossipProtocol(t.protocol)&&this.score.score(e)>=this._options.scoreThresholds.gossipThreshold&&s.push(e)});let e=this._options.Dlazy;var t=h.GossipsubGossipFactor*s.length;t>e&&(e=t),e>s.length?e=s.length:f.shuffle(s),s.slice(0,e).forEach(e=>{let t=i;i.length>h.GossipsubMaxIHaveLength&&(t=f.shuffle(t.slice()).slice(0,h.GossipsubMaxIHaveLength)),this._pushGossip(e,{topicID:r,messageIDs:t})})}}}_flush(){for(var[e,t]of this.gossip.entries()){this.gossip.delete(e);t=f.createGossipRpc([],{ihave:t});this._sendRpc(e,t)}for(var[r,n]of this.control.entries()){this.control.delete(r);n=f.createGossipRpc([],{graft:n.graft,prune:n.prune});this._sendRpc(r,n)}}_pushGossip(e,t){this.log("Add gossip to %s",e);const r=this.gossip.get(e)||[];this.gossip.set(e,r.concat(t))}_now(){return Date.now()}_makePrune(t,e,r){if(this.peers.get(t).protocol===h.GossipsubIDv10)return{topicID:e,peers:[]};const n=h.GossipsubPruneBackoff/1e3,i=[];return r&&d.getGossipPeers(this,e,h.GossipsubPrunePeers,e=>e!==t&&0<=this.score.score(e)).forEach(e=>{const t=m.createFromB58String(e);i.push({peerID:t.toBytes(),signedPeerRecord:this._libp2p.peerStore.addressBook.getRawEnvelope(t)})}),{topicID:e,peers:i,backoff:n}}}v.multicodec=h.GossipsubIDv11,e.exports=v},67779:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function n(e){try{s(c.next(e))}catch(e){t(e)}}function i(e){try{s(c.throw(e))}catch(e){t(e)}}function s(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,i)}s((c=c.apply(e,o||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageCache=void 0;const i=r(60663);t.MessageCache=class{constructor(e,t,r){this.msgs=new Map,this.peertx=new Map,this.history=[];for(let e=0;e<t;e++)this.history[e]=[];this.gossip=e,this.msgIdFn=r}put(r){return n(this,void 0,void 0,function*(){var e=yield this.getMsgId(r),t=i.messageIdToString(e);this.msgs.set(t,r),this.history[0].push({msgID:e,topics:r.topicIDs})})}getMsgId(e){return this.msgIdFn(e)}get(e){return this.msgs.get(i.messageIdToString(e))}getForPeer(e,t){var r=i.messageIdToString(e),e=this.msgs.get(r);if(!e)return[void 0,0];let n=this.peertx.get(r);n||(n=new Map,this.peertx.set(r,n));r=(n.get(t)||0)+1;return n.set(t,r),[e,r]}getGossipIDs(r){const n=[];for(let e=0;e<this.gossip;e++)this.history[e].forEach(e=>{for(const t of e.topics)if(t===r){n.push(e.msgID);break}});return n}shift(){this.history[this.history.length-1].forEach(e=>{e=i.messageIdToString(e.msgID);this.msgs.delete(e),this.peertx.delete(e)}),this.history.pop(),this.history.unshift([])}}},19609:function(e,t,r){var n=[r(62100)];void 0===(r="function"==typeof(r=function(e){"use strict";var t,s=e.Reader,n=e.Writer,i=e.util,o=e.roots.default||(e.roots.default={});return o.RPC=(r.prototype.subscriptions=i.emptyArray,r.prototype.msgs=i.emptyArray,r.prototype.control=null,Object.defineProperty(r.prototype,"_control",{get:i.oneOfGetter(t=["control"]),set:i.oneOfSetter(t)}),r.encode=function(e,t){if(t=t||n.create(),null!=e.subscriptions&&e.subscriptions.length)for(var r=0;r<e.subscriptions.length;++r)o.RPC.SubOpts.encode(e.subscriptions[r],t.uint32(10).fork()).ldelim();if(null!=e.msgs&&e.msgs.length)for(r=0;r<e.msgs.length;++r)o.RPC.Message.encode(e.msgs[r],t.uint32(18).fork()).ldelim();return null!=e.control&&Object.hasOwnProperty.call(e,"control")&&o.RPC.ControlMessage.encode(e.control,t.uint32(26).fork()).ldelim(),t},r.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.RPC;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.subscriptions&&n.subscriptions.length||(n.subscriptions=[]),n.subscriptions.push(o.RPC.SubOpts.decode(e,e.uint32()));break;case 2:n.msgs&&n.msgs.length||(n.msgs=[]),n.msgs.push(o.RPC.Message.decode(e,e.uint32()));break;case 3:n.control=o.RPC.ControlMessage.decode(e,e.uint32());break;default:e.skipType(7&i)}}return n},r.fromObject=function(e){if(e instanceof o.RPC)return e;var t=new o.RPC;if(e.subscriptions){if(!Array.isArray(e.subscriptions))throw TypeError(".RPC.subscriptions: array expected");t.subscriptions=[];for(var r=0;r<e.subscriptions.length;++r){if("object"!=typeof e.subscriptions[r])throw TypeError(".RPC.subscriptions: object expected");t.subscriptions[r]=o.RPC.SubOpts.fromObject(e.subscriptions[r])}}if(e.msgs){if(!Array.isArray(e.msgs))throw TypeError(".RPC.msgs: array expected");for(t.msgs=[],r=0;r<e.msgs.length;++r){if("object"!=typeof e.msgs[r])throw TypeError(".RPC.msgs: object expected");t.msgs[r]=o.RPC.Message.fromObject(e.msgs[r])}}if(null!=e.control){if("object"!=typeof e.control)throw TypeError(".RPC.control: object expected");t.control=o.RPC.ControlMessage.fromObject(e.control)}return t},r.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.subscriptions=[],r.msgs=[]),e.subscriptions&&e.subscriptions.length){r.subscriptions=[];for(var n=0;n<e.subscriptions.length;++n)r.subscriptions[n]=o.RPC.SubOpts.toObject(e.subscriptions[n],t)}if(e.msgs&&e.msgs.length)for(r.msgs=[],n=0;n<e.msgs.length;++n)r.msgs[n]=o.RPC.Message.toObject(e.msgs[n],t);return null!=e.control&&e.hasOwnProperty("control")&&(r.control=o.RPC.ControlMessage.toObject(e.control,t),t.oneofs&&(r._control="control")),r},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r.SubOpts=(p.prototype.subscribe=null,p.prototype.topicID=null,Object.defineProperty(p.prototype,"_subscribe",{get:i.oneOfGetter(t=["subscribe"]),set:i.oneOfSetter(t)}),Object.defineProperty(p.prototype,"_topicID",{get:i.oneOfGetter(t=["topicID"]),set:i.oneOfSetter(t)}),p.encode=function(e,t){return t=t||n.create(),null!=e.subscribe&&Object.hasOwnProperty.call(e,"subscribe")&&t.uint32(8).bool(e.subscribe),null!=e.topicID&&Object.hasOwnProperty.call(e,"topicID")&&t.uint32(18).string(e.topicID),t},p.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.RPC.SubOpts;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.subscribe=e.bool();break;case 2:n.topicID=e.string();break;default:e.skipType(7&i)}}return n},p.fromObject=function(e){if(e instanceof o.RPC.SubOpts)return e;var t=new o.RPC.SubOpts;return null!=e.subscribe&&(t.subscribe=Boolean(e.subscribe)),null!=e.topicID&&(t.topicID=String(e.topicID)),t},p.toObject=function(e,t){t=t||{};var r={};return null!=e.subscribe&&e.hasOwnProperty("subscribe")&&(r.subscribe=e.subscribe,t.oneofs&&(r._subscribe="subscribe")),null!=e.topicID&&e.hasOwnProperty("topicID")&&(r.topicID=e.topicID,t.oneofs&&(r._topicID="topicID")),r},p.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},p),r.Message=(f.prototype.from=null,f.prototype.data=null,f.prototype.seqno=null,f.prototype.topicIDs=i.emptyArray,f.prototype.signature=null,f.prototype.key=null,Object.defineProperty(f.prototype,"_from",{get:i.oneOfGetter(t=["from"]),set:i.oneOfSetter(t)}),Object.defineProperty(f.prototype,"_data",{get:i.oneOfGetter(t=["data"]),set:i.oneOfSetter(t)}),Object.defineProperty(f.prototype,"_seqno",{get:i.oneOfGetter(t=["seqno"]),set:i.oneOfSetter(t)}),Object.defineProperty(f.prototype,"_signature",{get:i.oneOfGetter(t=["signature"]),set:i.oneOfSetter(t)}),Object.defineProperty(f.prototype,"_key",{get:i.oneOfGetter(t=["key"]),set:i.oneOfSetter(t)}),f.encode=function(e,t){if(t=t||n.create(),null!=e.from&&Object.hasOwnProperty.call(e,"from")&&t.uint32(10).bytes(e.from),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),null!=e.seqno&&Object.hasOwnProperty.call(e,"seqno")&&t.uint32(26).bytes(e.seqno),null!=e.topicIDs&&e.topicIDs.length)for(var r=0;r<e.topicIDs.length;++r)t.uint32(34).string(e.topicIDs[r]);return null!=e.signature&&Object.hasOwnProperty.call(e,"signature")&&t.uint32(42).bytes(e.signature),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(50).bytes(e.key),t},f.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.RPC.Message;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.from=e.bytes();break;case 2:n.data=e.bytes();break;case 3:n.seqno=e.bytes();break;case 4:n.topicIDs&&n.topicIDs.length||(n.topicIDs=[]),n.topicIDs.push(e.string());break;case 5:n.signature=e.bytes();break;case 6:n.key=e.bytes();break;default:e.skipType(7&i)}}return n},f.fromObject=function(e){if(e instanceof o.RPC.Message)return e;var t=new o.RPC.Message;if(null!=e.from&&("string"==typeof e.from?i.base64.decode(e.from,t.from=i.newBuffer(i.base64.length(e.from)),0):e.from.length&&(t.from=e.from)),null!=e.data&&("string"==typeof e.data?i.base64.decode(e.data,t.data=i.newBuffer(i.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),null!=e.seqno&&("string"==typeof e.seqno?i.base64.decode(e.seqno,t.seqno=i.newBuffer(i.base64.length(e.seqno)),0):e.seqno.length&&(t.seqno=e.seqno)),e.topicIDs){if(!Array.isArray(e.topicIDs))throw TypeError(".RPC.Message.topicIDs: array expected");t.topicIDs=[];for(var r=0;r<e.topicIDs.length;++r)t.topicIDs[r]=String(e.topicIDs[r])}return null!=e.signature&&("string"==typeof e.signature?i.base64.decode(e.signature,t.signature=i.newBuffer(i.base64.length(e.signature)),0):e.signature.length&&(t.signature=e.signature)),null!=e.key&&("string"==typeof e.key?i.base64.decode(e.key,t.key=i.newBuffer(i.base64.length(e.key)),0):e.key.length&&(t.key=e.key)),t},f.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.topicIDs=[]),null!=e.from&&e.hasOwnProperty("from")&&(r.from=t.bytes===String?i.base64.encode(e.from,0,e.from.length):t.bytes===Array?Array.prototype.slice.call(e.from):e.from,t.oneofs&&(r._from="from")),null!=e.data&&e.hasOwnProperty("data")&&(r.data=t.bytes===String?i.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data,t.oneofs&&(r._data="data")),null!=e.seqno&&e.hasOwnProperty("seqno")&&(r.seqno=t.bytes===String?i.base64.encode(e.seqno,0,e.seqno.length):t.bytes===Array?Array.prototype.slice.call(e.seqno):e.seqno,t.oneofs&&(r._seqno="seqno")),e.topicIDs&&e.topicIDs.length){r.topicIDs=[];for(var n=0;n<e.topicIDs.length;++n)r.topicIDs[n]=e.topicIDs[n]}return null!=e.signature&&e.hasOwnProperty("signature")&&(r.signature=t.bytes===String?i.base64.encode(e.signature,0,e.signature.length):t.bytes===Array?Array.prototype.slice.call(e.signature):e.signature,t.oneofs&&(r._signature="signature")),null!=e.key&&e.hasOwnProperty("key")&&(r.key=t.bytes===String?i.base64.encode(e.key,0,e.key.length):t.bytes===Array?Array.prototype.slice.call(e.key):e.key,t.oneofs&&(r._key="key")),r},f.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},f),r.ControlMessage=(d.prototype.ihave=i.emptyArray,d.prototype.iwant=i.emptyArray,d.prototype.graft=i.emptyArray,d.prototype.prune=i.emptyArray,d.encode=function(e,t){if(t=t||n.create(),null!=e.ihave&&e.ihave.length)for(var r=0;r<e.ihave.length;++r)o.RPC.ControlIHave.encode(e.ihave[r],t.uint32(10).fork()).ldelim();if(null!=e.iwant&&e.iwant.length)for(r=0;r<e.iwant.length;++r)o.RPC.ControlIWant.encode(e.iwant[r],t.uint32(18).fork()).ldelim();if(null!=e.graft&&e.graft.length)for(r=0;r<e.graft.length;++r)o.RPC.ControlGraft.encode(e.graft[r],t.uint32(26).fork()).ldelim();if(null!=e.prune&&e.prune.length)for(r=0;r<e.prune.length;++r)o.RPC.ControlPrune.encode(e.prune[r],t.uint32(34).fork()).ldelim();return t},d.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.RPC.ControlMessage;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.ihave&&n.ihave.length||(n.ihave=[]),n.ihave.push(o.RPC.ControlIHave.decode(e,e.uint32()));break;case 2:n.iwant&&n.iwant.length||(n.iwant=[]),n.iwant.push(o.RPC.ControlIWant.decode(e,e.uint32()));break;case 3:n.graft&&n.graft.length||(n.graft=[]),n.graft.push(o.RPC.ControlGraft.decode(e,e.uint32()));break;case 4:n.prune&&n.prune.length||(n.prune=[]),n.prune.push(o.RPC.ControlPrune.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return n},d.fromObject=function(e){if(e instanceof o.RPC.ControlMessage)return e;var t=new o.RPC.ControlMessage;if(e.ihave){if(!Array.isArray(e.ihave))throw TypeError(".RPC.ControlMessage.ihave: array expected");t.ihave=[];for(var r=0;r<e.ihave.length;++r){if("object"!=typeof e.ihave[r])throw TypeError(".RPC.ControlMessage.ihave: object expected");t.ihave[r]=o.RPC.ControlIHave.fromObject(e.ihave[r])}}if(e.iwant){if(!Array.isArray(e.iwant))throw TypeError(".RPC.ControlMessage.iwant: array expected");for(t.iwant=[],r=0;r<e.iwant.length;++r){if("object"!=typeof e.iwant[r])throw TypeError(".RPC.ControlMessage.iwant: object expected");t.iwant[r]=o.RPC.ControlIWant.fromObject(e.iwant[r])}}if(e.graft){if(!Array.isArray(e.graft))throw TypeError(".RPC.ControlMessage.graft: array expected");for(t.graft=[],r=0;r<e.graft.length;++r){if("object"!=typeof e.graft[r])throw TypeError(".RPC.ControlMessage.graft: object expected");t.graft[r]=o.RPC.ControlGraft.fromObject(e.graft[r])}}if(e.prune){if(!Array.isArray(e.prune))throw TypeError(".RPC.ControlMessage.prune: array expected");for(t.prune=[],r=0;r<e.prune.length;++r){if("object"!=typeof e.prune[r])throw TypeError(".RPC.ControlMessage.prune: object expected");t.prune[r]=o.RPC.ControlPrune.fromObject(e.prune[r])}}return t},d.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.ihave=[],r.iwant=[],r.graft=[],r.prune=[]),e.ihave&&e.ihave.length){r.ihave=[];for(var n=0;n<e.ihave.length;++n)r.ihave[n]=o.RPC.ControlIHave.toObject(e.ihave[n],t)}if(e.iwant&&e.iwant.length)for(r.iwant=[],n=0;n<e.iwant.length;++n)r.iwant[n]=o.RPC.ControlIWant.toObject(e.iwant[n],t);if(e.graft&&e.graft.length)for(r.graft=[],n=0;n<e.graft.length;++n)r.graft[n]=o.RPC.ControlGraft.toObject(e.graft[n],t);if(e.prune&&e.prune.length)for(r.prune=[],n=0;n<e.prune.length;++n)r.prune[n]=o.RPC.ControlPrune.toObject(e.prune[n],t);return r},d.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},d),r.ControlIHave=(l.prototype.topicID=null,l.prototype.messageIDs=i.emptyArray,Object.defineProperty(l.prototype,"_topicID",{get:i.oneOfGetter(t=["topicID"]),set:i.oneOfSetter(t)}),l.encode=function(e,t){if(t=t||n.create(),null!=e.topicID&&Object.hasOwnProperty.call(e,"topicID")&&t.uint32(10).string(e.topicID),null!=e.messageIDs&&e.messageIDs.length)for(var r=0;r<e.messageIDs.length;++r)t.uint32(18).bytes(e.messageIDs[r]);return t},l.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.RPC.ControlIHave;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.topicID=e.string();break;case 2:n.messageIDs&&n.messageIDs.length||(n.messageIDs=[]),n.messageIDs.push(e.bytes());break;default:e.skipType(7&i)}}return n},l.fromObject=function(e){if(e instanceof o.RPC.ControlIHave)return e;var t=new o.RPC.ControlIHave;if(null!=e.topicID&&(t.topicID=String(e.topicID)),e.messageIDs){if(!Array.isArray(e.messageIDs))throw TypeError(".RPC.ControlIHave.messageIDs: array expected");t.messageIDs=[];for(var r=0;r<e.messageIDs.length;++r)"string"==typeof e.messageIDs[r]?i.base64.decode(e.messageIDs[r],t.messageIDs[r]=i.newBuffer(i.base64.length(e.messageIDs[r])),0):e.messageIDs[r].length&&(t.messageIDs[r]=e.messageIDs[r])}return t},l.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.messageIDs=[]),null!=e.topicID&&e.hasOwnProperty("topicID")&&(r.topicID=e.topicID,t.oneofs&&(r._topicID="topicID")),e.messageIDs&&e.messageIDs.length){r.messageIDs=[];for(var n=0;n<e.messageIDs.length;++n)r.messageIDs[n]=t.bytes===String?i.base64.encode(e.messageIDs[n],0,e.messageIDs[n].length):t.bytes===Array?Array.prototype.slice.call(e.messageIDs[n]):e.messageIDs[n]}return r},l.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},l),r.ControlIWant=(h.prototype.messageIDs=i.emptyArray,h.encode=function(e,t){if(t=t||n.create(),null!=e.messageIDs&&e.messageIDs.length)for(var r=0;r<e.messageIDs.length;++r)t.uint32(10).bytes(e.messageIDs[r]);return t},h.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.RPC.ControlIWant;e.pos<r;){var i=e.uint32();i>>>3==1?(n.messageIDs&&n.messageIDs.length||(n.messageIDs=[]),n.messageIDs.push(e.bytes())):e.skipType(7&i)}return n},h.fromObject=function(e){if(e instanceof o.RPC.ControlIWant)return e;var t=new o.RPC.ControlIWant;if(e.messageIDs){if(!Array.isArray(e.messageIDs))throw TypeError(".RPC.ControlIWant.messageIDs: array expected");t.messageIDs=[];for(var r=0;r<e.messageIDs.length;++r)"string"==typeof e.messageIDs[r]?i.base64.decode(e.messageIDs[r],t.messageIDs[r]=i.newBuffer(i.base64.length(e.messageIDs[r])),0):e.messageIDs[r].length&&(t.messageIDs[r]=e.messageIDs[r])}return t},h.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.messageIDs=[]),e.messageIDs&&e.messageIDs.length){r.messageIDs=[];for(var n=0;n<e.messageIDs.length;++n)r.messageIDs[n]=t.bytes===String?i.base64.encode(e.messageIDs[n],0,e.messageIDs[n].length):t.bytes===Array?Array.prototype.slice.call(e.messageIDs[n]):e.messageIDs[n]}return r},h.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},h),r.ControlGraft=(u.prototype.topicID=null,Object.defineProperty(u.prototype,"_topicID",{get:i.oneOfGetter(t=["topicID"]),set:i.oneOfSetter(t)}),u.encode=function(e,t){return t=t||n.create(),null!=e.topicID&&Object.hasOwnProperty.call(e,"topicID")&&t.uint32(10).string(e.topicID),t},u.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.RPC.ControlGraft;e.pos<r;){var i=e.uint32();i>>>3==1?n.topicID=e.string():e.skipType(7&i)}return n},u.fromObject=function(e){if(e instanceof o.RPC.ControlGraft)return e;var t=new o.RPC.ControlGraft;return null!=e.topicID&&(t.topicID=String(e.topicID)),t},u.toObject=function(e,t){t=t||{};var r={};return null!=e.topicID&&e.hasOwnProperty("topicID")&&(r.topicID=e.topicID,t.oneofs&&(r._topicID="topicID")),r},u.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},u),r.ControlPrune=(c.prototype.topicID=null,c.prototype.peers=i.emptyArray,c.prototype.backoff=null,Object.defineProperty(c.prototype,"_topicID",{get:i.oneOfGetter(t=["topicID"]),set:i.oneOfSetter(t)}),Object.defineProperty(c.prototype,"_backoff",{get:i.oneOfGetter(t=["backoff"]),set:i.oneOfSetter(t)}),c.encode=function(e,t){if(t=t||n.create(),null!=e.topicID&&Object.hasOwnProperty.call(e,"topicID")&&t.uint32(10).string(e.topicID),null!=e.peers&&e.peers.length)for(var r=0;r<e.peers.length;++r)o.RPC.PeerInfo.encode(e.peers[r],t.uint32(18).fork()).ldelim();return null!=e.backoff&&Object.hasOwnProperty.call(e,"backoff")&&t.uint32(24).uint64(e.backoff),t},c.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.RPC.ControlPrune;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.topicID=e.string();break;case 2:n.peers&&n.peers.length||(n.peers=[]),n.peers.push(o.RPC.PeerInfo.decode(e,e.uint32()));break;case 3:n.backoff=e.uint64();break;default:e.skipType(7&i)}}return n},c.fromObject=function(e){if(e instanceof o.RPC.ControlPrune)return e;var t=new o.RPC.ControlPrune;if(null!=e.topicID&&(t.topicID=String(e.topicID)),e.peers){if(!Array.isArray(e.peers))throw TypeError(".RPC.ControlPrune.peers: array expected");t.peers=[];for(var r=0;r<e.peers.length;++r){if("object"!=typeof e.peers[r])throw TypeError(".RPC.ControlPrune.peers: object expected");t.peers[r]=o.RPC.PeerInfo.fromObject(e.peers[r])}}return null!=e.backoff&&(i.Long?(t.backoff=i.Long.fromValue(e.backoff)).unsigned=!0:"string"==typeof e.backoff?t.backoff=parseInt(e.backoff,10):"number"==typeof e.backoff?t.backoff=e.backoff:"object"==typeof e.backoff&&(t.backoff=new i.LongBits(e.backoff.low>>>0,e.backoff.high>>>0).toNumber(!0))),t},c.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.peers=[]),null!=e.topicID&&e.hasOwnProperty("topicID")&&(r.topicID=e.topicID,t.oneofs&&(r._topicID="topicID")),e.peers&&e.peers.length){r.peers=[];for(var n=0;n<e.peers.length;++n)r.peers[n]=o.RPC.PeerInfo.toObject(e.peers[n],t)}return null!=e.backoff&&e.hasOwnProperty("backoff")&&("number"==typeof e.backoff?r.backoff=t.longs===String?String(e.backoff):e.backoff:r.backoff=t.longs===String?i.Long.prototype.toString.call(e.backoff):t.longs===Number?new i.LongBits(e.backoff.low>>>0,e.backoff.high>>>0).toNumber(!0):e.backoff,t.oneofs&&(r._backoff="backoff")),r},c.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},c),r.PeerInfo=(a.prototype.peerID=null,a.prototype.signedPeerRecord=null,Object.defineProperty(a.prototype,"_peerID",{get:i.oneOfGetter(t=["peerID"]),set:i.oneOfSetter(t)}),Object.defineProperty(a.prototype,"_signedPeerRecord",{get:i.oneOfGetter(t=["signedPeerRecord"]),set:i.oneOfSetter(t)}),a.encode=function(e,t){return t=t||n.create(),null!=e.peerID&&Object.hasOwnProperty.call(e,"peerID")&&t.uint32(10).bytes(e.peerID),null!=e.signedPeerRecord&&Object.hasOwnProperty.call(e,"signedPeerRecord")&&t.uint32(18).bytes(e.signedPeerRecord),t},a.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.RPC.PeerInfo;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.peerID=e.bytes();break;case 2:n.signedPeerRecord=e.bytes();break;default:e.skipType(7&i)}}return n},a.fromObject=function(e){if(e instanceof o.RPC.PeerInfo)return e;var t=new o.RPC.PeerInfo;return null!=e.peerID&&("string"==typeof e.peerID?i.base64.decode(e.peerID,t.peerID=i.newBuffer(i.base64.length(e.peerID)),0):e.peerID.length&&(t.peerID=e.peerID)),null!=e.signedPeerRecord&&("string"==typeof e.signedPeerRecord?i.base64.decode(e.signedPeerRecord,t.signedPeerRecord=i.newBuffer(i.base64.length(e.signedPeerRecord)),0):e.signedPeerRecord.length&&(t.signedPeerRecord=e.signedPeerRecord)),t},a.toObject=function(e,t){t=t||{};var r={};return null!=e.peerID&&e.hasOwnProperty("peerID")&&(r.peerID=t.bytes===String?i.base64.encode(e.peerID,0,e.peerID.length):t.bytes===Array?Array.prototype.slice.call(e.peerID):e.peerID,t.oneofs&&(r._peerID="peerID")),null!=e.signedPeerRecord&&e.hasOwnProperty("signedPeerRecord")&&(r.signedPeerRecord=t.bytes===String?i.base64.encode(e.signedPeerRecord,0,e.signedPeerRecord.length):t.bytes===Array?Array.prototype.slice.call(e.signedPeerRecord):e.signedPeerRecord,t.oneofs&&(r._signedPeerRecord="signedPeerRecord")),r},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a),r),o;function r(e){if(this.subscriptions=[],this.msgs=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function a(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function c(e){if(this.peers=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function u(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function h(e){if(this.messageIDs=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function l(e){if(this.messageIDs=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function d(e){if(this.ihave=[],this.iwant=[],this.graft=[],this.prune=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function f(e){if(this.topicIDs=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function p(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}})?r.apply(t,n):r)||(e.exports=r)},43527:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.computeScore=void 0,t.computeScore=function(e,t,i,r){let s=0;Object.entries(t.topics).forEach(([r,n])=>{r=i.topics[r];if(r){let t=0;if(n.inMesh){let e=n.meshTime/r.timeInMeshQuantum;e>r.timeInMeshCap&&(e=r.timeInMeshCap),t+=e*r.timeInMeshWeight}if(t+=n.firstMessageDeliveries*r.firstMessageDeliveriesWeight,n.meshMessageDeliveriesActive&&n.meshMessageDeliveries<r.meshMessageDeliveriesThreshold){const e=r.meshMessageDeliveriesThreshold-n.meshMessageDeliveries;t+=e*e*r.meshMessageDeliveriesWeight}t+=n.meshFailurePenalty*r.meshFailurePenaltyWeight,t+=n.invalidMessageDeliveries*n.invalidMessageDeliveries*r.invalidMessageDeliveriesWeight,s+=t*r.topicWeight}}),0<i.topicScoreCap&&s>i.topicScoreCap&&(s=i.topicScoreCap);e=i.appSpecificScore(e);s+=e*i.appSpecificWeight,t.ips.forEach(e=>{if(!i.IPColocationFactorWhitelist.has(e)){e=r.get(e),e=e?e.size:0;if(e>i.IPColocationFactorThreshold){const t=e-i.IPColocationFactorThreshold;s+=t*t*i.IPColocationFactorWeight}}});t=t.behaviourPenalty*t.behaviourPenalty;return s+=t*i.behaviourPenaltyWeight,s}},90185:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERR_INVALID_PEER_SCORE_THRESHOLDS=t.ERR_INVALID_PEER_SCORE_PARAMS=void 0,t.ERR_INVALID_PEER_SCORE_PARAMS="ERR_INVALID_PEER_SCORE_PARAMS",t.ERR_INVALID_PEER_SCORE_THRESHOLDS="ERR_INVALID_PEER_SCORE_THRESHOLDS"},63742:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(40200),t),i(r(94012),t),i(r(23451),t)},54659:function(e,t,r){"use strict";var n,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageDeliveries=t.DeliveryRecordStatus=void 0;const s=r(36726),o=i(r(45001)),a=r(60663);(r=n=t.DeliveryRecordStatus||(t.DeliveryRecordStatus={}))[r.unknown=0]="unknown",r[r.valid=1]="valid",r[r.invalid=2]="invalid",r[r.ignored=3]="ignored",t.MessageDeliveries=class{constructor(){this.records=new Map,this.queue=new o.default}ensureRecord(e){e=a.messageIdToString(e);let t=this.records.get(e);if(t)return t;t={status:n.unknown,firstSeen:Date.now(),validated:0,peers:new Set},this.records.set(e,t);e={msgId:e,expire:Date.now()+s.TimeCacheDuration};return this.queue.push(e),t}gc(){var e=Date.now();let t=this.queue.peekFront();for(;t&&t.expire<e;)this.records.delete(t.msgId),this.queue.shift(),t=this.queue.peekFront()}clear(){this.records.clear(),this.queue.clear()}}},40200:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTopicScoreParams=t.validatePeerScoreParams=t.createTopicScoreParams=t.createPeerScoreParams=t.defaultTopicScoreParams=t.defaultPeerScoreParams=void 0;const n=r(90185),i=r(82186);function s(e={}){return Object.assign(Object.assign({},t.defaultTopicScoreParams),e)}function o(e){if(e.topicWeight<0)throw i(new Error("invalid topic weight; must be >= 0"),n.ERR_INVALID_PEER_SCORE_PARAMS);if(0===e.timeInMeshQuantum)throw i(new Error("invalid TimeInMeshQuantum; must be non zero"),n.ERR_INVALID_PEER_SCORE_PARAMS);if(e.timeInMeshWeight<0)throw i(new Error("invalid TimeInMeshWeight; must be positive (or 0 to disable)"),n.ERR_INVALID_PEER_SCORE_PARAMS);if(0!==e.timeInMeshWeight&&e.timeInMeshQuantum<=0)throw i(new Error("invalid TimeInMeshQuantum; must be positive"),n.ERR_INVALID_PEER_SCORE_PARAMS);if(0!==e.timeInMeshWeight&&e.timeInMeshCap<=0)throw i(new Error("invalid TimeInMeshCap; must be positive"),n.ERR_INVALID_PEER_SCORE_PARAMS);if(e.firstMessageDeliveriesWeight<0)throw i(new Error("invallid FirstMessageDeliveriesWeight; must be positive (or 0 to disable)"),n.ERR_INVALID_PEER_SCORE_PARAMS);if(0!==e.firstMessageDeliveriesWeight&&(e.firstMessageDeliveriesDecay<=0||1<=e.firstMessageDeliveriesDecay))throw i(new Error("invalid FirstMessageDeliveriesDecay; must be between 0 and 1"),n.ERR_INVALID_PEER_SCORE_PARAMS);if(0!==e.firstMessageDeliveriesWeight&&e.firstMessageDeliveriesCap<=0)throw i(new Error("invalid FirstMessageDeliveriesCap; must be positive"),n.ERR_INVALID_PEER_SCORE_PARAMS);if(0<e.meshMessageDeliveriesWeight)throw i(new Error("invalid MeshMessageDeliveriesWeight; must be negative (or 0 to disable)"),n.ERR_INVALID_PEER_SCORE_PARAMS);if(0!==e.meshMessageDeliveriesWeight&&(e.meshMessageDeliveriesDecay<=0||1<=e.meshMessageDeliveriesDecay))throw i(new Error("invalid MeshMessageDeliveriesDecay; must be between 0 and 1"),n.ERR_INVALID_PEER_SCORE_PARAMS);if(0!==e.meshMessageDeliveriesWeight&&e.meshMessageDeliveriesCap<=0)throw i(new Error("invalid MeshMessageDeliveriesCap; must be positive"),n.ERR_INVALID_PEER_SCORE_PARAMS);if(0!==e.meshMessageDeliveriesWeight&&e.meshMessageDeliveriesThreshold<=0)throw i(new Error("invalid MeshMessageDeliveriesThreshold; must be positive"),n.ERR_INVALID_PEER_SCORE_PARAMS);if(e.meshMessageDeliveriesWindow<0)throw i(new Error("invalid MeshMessageDeliveriesWindow; must be non-negative"),n.ERR_INVALID_PEER_SCORE_PARAMS);if(0!==e.meshMessageDeliveriesWeight&&e.meshMessageDeliveriesActivation<1e3)throw i(new Error("invalid MeshMessageDeliveriesActivation; must be at least 1s"),n.ERR_INVALID_PEER_SCORE_PARAMS);if(0<e.meshFailurePenaltyWeight)throw i(new Error("invalid MeshFailurePenaltyWeight; must be negative (or 0 to disable)"),n.ERR_INVALID_PEER_SCORE_PARAMS);if(0!==e.meshFailurePenaltyWeight&&(e.meshFailurePenaltyDecay<=0||1<=e.meshFailurePenaltyDecay))throw i(new Error("invalid MeshFailurePenaltyDecay; must be between 0 and 1"),n.ERR_INVALID_PEER_SCORE_PARAMS);if(0<e.invalidMessageDeliveriesWeight)throw i(new Error("invalid InvalidMessageDeliveriesWeight; must be negative (or 0 to disable)"),n.ERR_INVALID_PEER_SCORE_PARAMS);if(e.invalidMessageDeliveriesDecay<=0||1<=e.invalidMessageDeliveriesDecay)throw i(new Error("invalid InvalidMessageDeliveriesDecay; must be between 0 and 1"),n.ERR_INVALID_PEER_SCORE_PARAMS)}t.defaultPeerScoreParams={topics:{},topicScoreCap:10,appSpecificScore:()=>0,appSpecificWeight:10,IPColocationFactorWeight:-5,IPColocationFactorThreshold:10,IPColocationFactorWhitelist:new Set,behaviourPenaltyWeight:-10,behaviourPenaltyDecay:.2,decayInterval:1e3,decayToZero:.1,retainScore:36e5},t.defaultTopicScoreParams={topicWeight:.5,timeInMeshWeight:1,timeInMeshQuantum:1,timeInMeshCap:3600,firstMessageDeliveriesWeight:1,firstMessageDeliveriesDecay:.5,firstMessageDeliveriesCap:2e3,meshMessageDeliveriesWeight:-1,meshMessageDeliveriesDecay:.5,meshMessageDeliveriesCap:100,meshMessageDeliveriesThreshold:20,meshMessageDeliveriesWindow:10,meshMessageDeliveriesActivation:5e3,meshFailurePenaltyWeight:-1,meshFailurePenaltyDecay:.5,invalidMessageDeliveriesWeight:-1,invalidMessageDeliveriesDecay:.3},t.createPeerScoreParams=function(e={}){return Object.assign(Object.assign(Object.assign({},t.defaultPeerScoreParams),e),{topics:e.topics?Object.entries(e.topics).reduce((e,[t,r])=>(e[t]=s(r),e),{}):{}})},t.createTopicScoreParams=s,t.validatePeerScoreParams=function(e){for(var[t,r]of Object.entries(e.topics))try{o(r)}catch(e){throw i(new Error(`invalid score parameters for topic ${t}: `+e.message),n.ERR_INVALID_PEER_SCORE_PARAMS)}if(e.topicScoreCap<0)throw i(new Error("invalid topic score cap; must be positive (or 0 for no cap)"),n.ERR_INVALID_PEER_SCORE_PARAMS);if(null===e.appSpecificScore||void 0===e.appSpecificScore)throw i(new Error("missing application specific score function"),n.ERR_INVALID_PEER_SCORE_PARAMS);if(0<e.IPColocationFactorWeight)throw i(new Error("invalid IPColocationFactorWeight; must be negative (or 0 to disable)"),n.ERR_INVALID_PEER_SCORE_PARAMS);if(0!==e.IPColocationFactorWeight&&e.IPColocationFactorThreshold<1)throw i(new Error("invalid IPColocationFactorThreshold; must be at least 1"),n.ERR_INVALID_PEER_SCORE_PARAMS);if(0<e.behaviourPenaltyWeight)throw i(new Error("invalid BehaviourPenaltyWeight; must be negative (or 0 to disable)"),n.ERR_INVALID_PEER_SCORE_PARAMS);if(0!==e.behaviourPenaltyWeight&&(e.behaviourPenaltyDecay<=0||1<=e.behaviourPenaltyDecay))throw i(new Error("invalid BehaviourPenaltyDecay; must be between 0 and 1"),n.ERR_INVALID_PEER_SCORE_PARAMS);if(e.decayInterval<1e3)throw i(new Error("invalid DecayInterval; must be at least 1s"),n.ERR_INVALID_PEER_SCORE_PARAMS);if(e.decayToZero<=0||1<=e.decayToZero)throw i(new Error("invalid DecayToZero; must be between 0 and 1"),n.ERR_INVALID_PEER_SCORE_PARAMS)},t.validateTopicScoreParams=o},94012:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validatePeerScoreThresholds=t.createPeerScoreThresholds=t.defaultPeerScoreThresholds=void 0;const n=r(90185),i=r(82186);t.defaultPeerScoreThresholds={gossipThreshold:-10,publishThreshold:-50,graylistThreshold:-80,acceptPXThreshold:10,opportunisticGraftThreshold:20},t.createPeerScoreThresholds=function(e={}){return Object.assign(Object.assign({},t.defaultPeerScoreThresholds),e)},t.validatePeerScoreThresholds=function(e){if(0<e.gossipThreshold)throw i(new Error("invalid gossip threshold; it must be <= 0"),n.ERR_INVALID_PEER_SCORE_THRESHOLDS);if(0<e.publishThreshold||e.publishThreshold>e.gossipThreshold)throw i(new Error("invalid publish threshold; it must be <= 0 and <= gossip threshold"),n.ERR_INVALID_PEER_SCORE_THRESHOLDS);if(0<e.graylistThreshold||e.graylistThreshold>e.publishThreshold)throw i(new Error("invalid graylist threshold; it must be <= 0 and <= publish threshold"),n.ERR_INVALID_PEER_SCORE_THRESHOLDS);if(e.acceptPXThreshold<0)throw i(new Error("invalid accept PX threshold; it must be >= 0"),n.ERR_INVALID_PEER_SCORE_THRESHOLDS);if(e.opportunisticGraftThreshold<0)throw i(new Error("invalid opportunistic grafting threshold; it must be >= 0"),n.ERR_INVALID_PEER_SCORE_THRESHOLDS)}},23451:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function n(e){try{s(c.next(e))}catch(e){t(e)}}function i(e){try{s(c.throw(e))}catch(e){t(e)}}function s(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,i)}s((c=c.apply(e,o||[])).next())})},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PeerScore=void 0;const s=r(40200),o=r(56785),a=r(43527),c=r(54659),u=r(36726),h=n(r(88785)),l=r(84020),d=r(41590),{ERR_INVALID_SIGNATURE:f,ERR_MISSING_SIGNATURE:p}=d.codes,y=l("libp2p:gossipsub:score");t.PeerScore=class{constructor(e,t,r){s.validatePeerScoreParams(e),this.params=e,this._connectionManager=t,this.peerStats=new Map,this.peerIPs=new Map,this.deliveryRecords=new c.MessageDeliveries,this.msgId=r}start(){this._backgroundInterval?y("Peer score already running"):(this._backgroundInterval=setInterval(()=>this.background(),this.params.decayInterval),y("started"))}stop(){this._backgroundInterval?(clearInterval(this._backgroundInterval),delete this._backgroundInterval,this.peerIPs.clear(),this.peerStats.clear(),this.deliveryRecords.clear(),y("stopped")):y("Peer score already stopped")}background(){this._refreshScores(),this._updateIPs(),this.deliveryRecords.gc()}_refreshScores(){const r=Date.now(),n=this.params.decayToZero;this.peerStats.forEach((e,t)=>{e.connected?(Object.entries(e.topics).forEach(([e,t])=>{e=this.params.topics[e];e&&(t.firstMessageDeliveries*=e.firstMessageDeliveriesDecay,t.firstMessageDeliveries<n&&(t.firstMessageDeliveries=0),t.meshMessageDeliveries*=e.meshMessageDeliveriesDecay,t.meshMessageDeliveries<n&&(t.meshMessageDeliveries=0),t.meshFailurePenalty*=e.meshFailurePenaltyDecay,t.meshFailurePenalty<n&&(t.meshFailurePenalty=0),t.invalidMessageDeliveries*=e.invalidMessageDeliveriesDecay,t.invalidMessageDeliveries<n&&(t.invalidMessageDeliveries=0),t.inMesh&&(t.meshTime=r-t.graftTime,t.meshTime>e.meshMessageDeliveriesActivation&&(t.meshMessageDeliveriesActive=!0)))}),e.behaviourPenalty*=this.params.behaviourPenaltyDecay,e.behaviourPenalty<n&&(e.behaviourPenalty=0)):r>e.expire&&(this._removeIPs(t,e.ips),this.peerStats.delete(t))})}score(e){var t=this.peerStats.get(e);return t?a.computeScore(e,t,this.params,this.peerIPs):0}addPenalty(e,t){const r=this.peerStats.get(e);r&&(r.behaviourPenalty+=t)}addPeer(e){const t=o.createPeerStats({connected:!0});this.peerStats.set(e,t);var r=this._getIPs(e);this._setIPs(e,r,t.ips),t.ips=r}removePeer(e){const t=this.peerStats.get(e);if(t){if(0<this.score(e))return this._removeIPs(e,t.ips),void this.peerStats.delete(e);Object.entries(t.topics).forEach(([e,t])=>{t.firstMessageDeliveries=0;e=this.params.topics[e].meshMessageDeliveriesThreshold;if(t.inMesh&&t.meshMessageDeliveriesActive&&t.meshMessageDeliveries<e){const r=e-t.meshMessageDeliveries;t.meshFailurePenalty+=r*r}t.inMesh=!1}),t.connected=!1,t.expire=Date.now()+this.params.retainScore}}graft(e,t){e=this.peerStats.get(e);if(e){const r=o.ensureTopicStats(t,e,this.params);r&&(r.inMesh=!0,r.graftTime=Date.now(),r.meshTime=0,r.meshMessageDeliveriesActive=!1)}}prune(e,t){e=this.peerStats.get(e);if(e){const r=o.ensureTopicStats(t,e,this.params);if(r){t=this.params.topics[t].meshMessageDeliveriesThreshold;if(r.meshMessageDeliveriesActive&&r.meshMessageDeliveries<t){const n=t-r.meshMessageDeliveries;r.meshFailurePenalty+=n*n}r.inMesh=!1}}}validateMessage(e){return i(this,void 0,void 0,function*(){this.deliveryRecords.ensureRecord(yield this.msgId(e))})}deliverMessage(n){return i(this,void 0,void 0,function*(){const t=n.receivedFrom;this._markFirstMessageDelivery(t,n);const e=this.deliveryRecords.ensureRecord(yield this.msgId(n)),r=Date.now();e.status===c.DeliveryRecordStatus.unknown?(e.status=c.DeliveryRecordStatus.valid,e.validated=r,e.peers.forEach(e=>{e!==t&&this._markDuplicateMessageDelivery(e,n)})):y("unexpected delivery: message from %s was first seen %s ago and has delivery status %d",t,r-e.firstSeen,c.DeliveryRecordStatus[e.status])})}rejectMessage(r,n){return i(this,void 0,void 0,function*(){var e=r.receivedFrom;switch(n){case p:case f:return void this._markInvalidMessageDelivery(e,r)}const t=this.deliveryRecords.ensureRecord(yield this.msgId(r));t.status===c.DeliveryRecordStatus.unknown?n!==u.ERR_TOPIC_VALIDATOR_IGNORE?(t.status=c.DeliveryRecordStatus.invalid,this._markInvalidMessageDelivery(e,r),t.peers.forEach(e=>{this._markInvalidMessageDelivery(e,r)})):t.status=c.DeliveryRecordStatus.ignored:y("unexpected rejection: message from %s was first seen %s ago and has delivery status %d",e,Date.now()-t.firstSeen,c.DeliveryRecordStatus[t.status])})}duplicateMessage(r){return i(this,void 0,void 0,function*(){const e=r.receivedFrom,t=this.deliveryRecords.ensureRecord(yield this.msgId(r));if(!t.peers.has(e))switch(t.status){case c.DeliveryRecordStatus.unknown:t.peers.add(e);break;case c.DeliveryRecordStatus.valid:t.peers.add(e),this._markDuplicateMessageDelivery(e,r,t.validated);break;case c.DeliveryRecordStatus.invalid:this._markInvalidMessageDelivery(e,r)}})}_markInvalidMessageDelivery(e,t){const r=this.peerStats.get(e);r&&t.topicIDs.forEach(e=>{const t=o.ensureTopicStats(e,r,this.params);t&&(t.invalidMessageDeliveries+=1)})}_markFirstMessageDelivery(e,t){const n=this.peerStats.get(e);n&&t.topicIDs.forEach(t=>{const r=o.ensureTopicStats(t,n,this.params);if(r){let e=this.params.topics[t].firstMessageDeliveriesCap;r.firstMessageDeliveries+=1,r.firstMessageDeliveries>e&&(r.firstMessageDeliveries=e),r.inMesh&&(e=this.params.topics[t].meshMessageDeliveriesCap,r.meshMessageDeliveries+=1,r.meshMessageDeliveries>e&&(r.meshMessageDeliveries=e))}})}_markDuplicateMessageDelivery(e,t,r=0){const n=this.peerStats.get(e);if(n){const i=r?Date.now():0;t.topicIDs.forEach(e=>{const t=o.ensureTopicStats(e,n,this.params);t&&t.inMesh&&(e=this.params.topics[e],r&&i>r+e.meshMessageDeliveriesWindow||(e=e.meshMessageDeliveriesCap,t.meshMessageDeliveries+=1,t.meshMessageDeliveries>e&&(t.meshMessageDeliveries=e)))})}}_getIPs(e){return this._connectionManager.getAll(h.default.createFromB58String(e)).map(e=>e.remoteAddr.toOptions().host)}_setIPs(t,e,r){e:for(const n of e){for(const t of r)if(n===t)continue e;let e=this.peerIPs.get(n);e||(e=new Set,this.peerIPs.set(n,e)),e.add(t)}e:for(const i of r){for(const t of e)if(i===t)continue e;const r=this.peerIPs.get(i);r&&(r.delete(t),r.size||this.peerIPs.delete(i))}}_removeIPs(r,e){e.forEach(e=>{const t=this.peerIPs.get(e);t&&(t.delete(r),t.size||this.peerIPs.delete(e))})}_updateIPs(){this.peerStats.forEach((e,t)=>{var r=this._getIPs(t);this._setIPs(t,r,e.ips),e.ips=r})}}},56785:(e,t)=>{"use strict";function i(e={}){return Object.assign({inMesh:!1,graftTime:0,meshTime:0,firstMessageDeliveries:0,meshMessageDeliveries:0,meshMessageDeliveriesActive:!1,meshFailurePenalty:0,invalidMessageDeliveries:0},e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ensureTopicStats=t.createTopicStats=t.createPeerStats=void 0,t.createPeerStats=function(e={}){return Object.assign(Object.assign({connected:!1,expire:0,ips:[],behaviourPenalty:0},e),{topics:e.topics?Object.entries(e.topics).reduce((e,[t,r])=>(e[t]=i(r),e),{}):{}})},t.createTopicStats=i,t.ensureTopicStats=function(e,t,r){var n;return(n=t.topics[e])||(r.topics[e]?(t.topics[e]=n=i(),n):void 0)}},77253:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function n(e){try{s(c.next(e))}catch(e){t(e)}}function i(e){try{s(c.throw(e))}catch(e){t(e)}}function s(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,i)}s((c=c.apply(e,o||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.IWantTracer=void 0;const i=r(36726),s=r(60663),o=r(41590),{ERR_INVALID_SIGNATURE:a,ERR_MISSING_SIGNATURE:c}=o.codes;t.IWantTracer=class{constructor(e){this.getMsgId=e,this.promises=new Map}addPromise(e,t){t=t[Math.floor(Math.random()*t.length)],t=s.messageIdToString(t);let r=this.promises.get(t);r||(r=new Map,this.promises.set(t,r)),r.has(e)||r.set(e,Date.now()+i.GossipsubIWantFollowupTime)}getBrokenPromises(){const n=Date.now(),i=new Map;return this.promises.forEach((r,e)=>{r.forEach((e,t)=>{e<n&&(i.set(t,(i.get(t)||0)+1),r.delete(t))}),r.size||this.promises.delete(e)}),i}deliverMessage(t){return n(this,void 0,void 0,function*(){var e=yield this.getMsgId(t),e=s.messageIdToString(e);this.promises.delete(e)})}rejectMessage(t,r){return n(this,void 0,void 0,function*(){switch(r){case a:case c:return}var e=yield this.getMsgId(t),e=s.messageIdToString(e);this.promises.delete(e)})}clear(){this.promises.clear()}}},66023:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createGossipRpc=void 0,t.createGossipRpc=function(e=[],t={}){return{subscriptions:[],msgs:e,control:Object.assign({ihave:[],iwant:[],graft:[],prune:[]},t)}}},12609:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasGossipProtocol=void 0;const n=r(36726);t.hasGossipProtocol=function(e){return e===n.GossipsubIDv10||e===n.GossipsubIDv11}},60663:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(66023),t),i(r(84049),t),i(r(12609),t),i(r(72821),t)},72821:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.messageIdToString=void 0;const n=r(92263);t.messageIdToString=function(e){return n.toString(e,"base64")}},84049:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shuffle=void 0,t.shuffle=function(t){if(t.length<=1)return t;for(let e=0;e<t.length;e++){var r=Math.floor(Math.random()*Math.floor(t.length)),n=t[e];t[e]=t[r],t[r]=n}return t}},31393:(t,r,e)=>{r.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");let t=0,r=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(t++,"%c"===e&&(r=t))}),e.splice(r,0,n)}},r.save=function(e){try{e?r.storage.setItem("debug",e):r.storage.removeItem("debug")}catch(e){}},r.load=function(){let e;try{e=r.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},r.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},r.storage=function(){try{return localStorage}catch(e){}}(),r.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],r.log=console.debug||console.log||(()=>{}),t.exports=e(67622)(r);const n=t.exports["formatters"];n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},67622:(e,t,n)=>{e.exports=function(t){function a(e){let r,t,n,i=null;function o(...i){if(o.enabled){const s=o,e=Number(new Date),t=e-(r||e);s.diff=t,s.prev=r,s.curr=e,r=e,i[0]=a.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");let n=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(e,t)=>{if("%%"===e)return"%";n++;const r=a.formatters[t];if("function"==typeof r){const a=i[n];e=r.call(s,a),i.splice(n,1),n--}return e}),a.formatArgs.call(s,i),(s.log||a.log).apply(s,i)}}return o.namespace=e,o.useColors=a.useColors(),o.color=a.selectColor(e),o.extend=s,o.destroy=a.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(t!==a.namespaces&&(t=a.namespaces,n=a.enabled(e)),n),set:e=>{i=e}}),"function"==typeof a.init&&a.init(o),o}function s(e,t){const r=a(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return((a.debug=a).default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},a.disable=function(){var e=[...a.names.map(r),...a.skips.map(r).map(e=>"-"+e)].join(",");return a.enable(""),e},a.enable=function(e){let t;a.save(e),a.namespaces=e,a.names=[],a.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length;for(t=0;t<n;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+e.substr(1)+"$")):a.names.push(new RegExp("^"+e+"$")))},a.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=a.skips.length;t<r;t++)if(a.skips[t].test(e))return!1;for(t=0,r=a.names.length;t<r;t++)if(a.names[t].test(e))return!0;return!1},a.humanize=n(46803),a.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(e=>{a[e]=t[e]}),a.names=[],a.skips=[],a.formatters={},a.selectColor=function(t){let r=0;for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return a.colors[Math.abs(r)%a.colors.length]},a.enable(a.load()),a}},17801:e=>{"use strict";function i(e,t){for(const r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}e.exports=function(e,t,r){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");r=r||{},"object"==typeof t&&(r=t,t=""),t&&(r.code=t);try{return i(e,r)}catch(t){r.message=e.message,r.stack=e.stack;var n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(e)),i(new n,r)}}},46803:e=>{function s(e,t,r,n){t=1.5*r<=t;return Math.round(e/r)+" "+n+(t?"s":"")}e.exports=function(r,e){e=e||{};var t,n,i=typeof r;if("string"==i&&0<r.length)return function(e){if(!(100<(e=String(r)).length)){e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(e){var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"weeks":case"week":case"w":return 6048e5*t;case"days":case"day":case"d":return 864e5*t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}(r);if("number"==i&&isFinite(r))return e.long?(n=r,864e5<=(t=Math.abs(n))?s(n,t,864e5,"day"):36e5<=t?s(n,t,36e5,"hour"):6e4<=t?s(n,t,6e4,"minute"):1e3<=t?s(n,t,1e3,"second"):n+" ms"):(t=r,864e5<=(n=Math.abs(t))?Math.round(t/864e5)+"d":36e5<=n?Math.round(t/36e5)+"h":6e4<=n?Math.round(t/6e4)+"m":1e3<=n?Math.round(t/1e3)+"s":t+"ms");throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))}},79414:(e,t,r)=>{"use strict";const c=r(88785),u=r(46584)["Multiaddr"],h=r(17801),{OPEN:l,CLOSING:n,CLOSED:i}=r(26067),s=Symbol.for("@libp2p/interface-connection/connection");class o{constructor({localAddr:e,remoteAddr:t,localPeer:r,remotePeer:n,newStream:i,close:s,getStreams:o,stat:a}){!function(e,t,r,n,i,s,o){if(e&&!u.isMultiaddr(e))throw h(new Error("localAddr must be an instance of multiaddr"),"ERR_INVALID_PARAMETERS");if(!c.isPeerId(t))throw h(new Error("localPeer must be an instance of peer-id"),"ERR_INVALID_PARAMETERS");if(!c.isPeerId(r))throw h(new Error("remotePeer must be an instance of peer-id"),"ERR_INVALID_PARAMETERS");if("function"!=typeof n)throw h(new Error("new stream must be a function"),"ERR_INVALID_PARAMETERS");if("function"!=typeof i)throw h(new Error("close must be a function"),"ERR_INVALID_PARAMETERS");if("function"!=typeof s)throw h(new Error("getStreams must be a function"),"ERR_INVALID_PARAMETERS");if(!o)throw h(new Error("connection metadata object must be provided"),"ERR_INVALID_PARAMETERS");if("inbound"!==o.direction&&"outbound"!==o.direction)throw h(new Error('direction must be "inbound" or "outbound"'),"ERR_INVALID_PARAMETERS");if(!o.timeline)throw h(new Error("connection timeline object must be provided in the stat object"),"ERR_INVALID_PARAMETERS");if(!o.timeline.open)throw h(new Error("connection open timestamp must be provided"),"ERR_INVALID_PARAMETERS");if(!o.timeline.upgraded)throw h(new Error("connection upgraded timestamp must be provided"),"ERR_INVALID_PARAMETERS")}(e,r,n,i,s,o,a),this.id=parseInt(String(1e9*Math.random())).toString(36)+Date.now(),this.localAddr=e,this.remoteAddr=t,this.localPeer=r,this.remotePeer=n,this._stat={...a,status:l},this._newStream=i,this._close=s,this._getStreams=o,this.registry=new Map,this.tags=[]}get[Symbol.toStringTag](){return"Connection"}get[s](){return!0}static isConnection(e){return Boolean(e&&e[s])}get stat(){return this._stat}get streams(){return this._getStreams()}async newStream(e){if(this.stat.status===n)throw h(new Error("the connection is being closed"),"ERR_CONNECTION_BEING_CLOSED");if(this.stat.status===i)throw h(new Error("the connection is closed"),"ERR_CONNECTION_CLOSED");Array.isArray(e)||(e=[e]);var{stream:t,protocol:e}=await this._newStream(e);return this.addStream(t,{protocol:e}),{stream:t,protocol:e}}addStream(e,{protocol:t,metadata:r={}}){this.registry.set(e.id,{protocol:t,...r})}removeStream(e){this.registry.delete(e)}async close(){if(this.stat.status!==i){if(this._closing)return this._closing;this.stat.status=n,this._closing=await this._close(),this._stat.timeline.close=Date.now(),this.stat.status=i}}}e.exports=o},15458:(e,t,r)=>{"use strict";t.Connection=r(79414)},26067:e=>{"use strict";e.exports={OPEN:"open",CLOSING:"closing",CLOSED:"closed"}},41590:(e,t)=>{"use strict";t.codes={ERR_INVALID_SIGNATURE_POLICY:"ERR_INVALID_SIGNATURE_POLICY",ERR_UNHANDLED_SIGNATURE_POLICY:"ERR_UNHANDLED_SIGNATURE_POLICY",ERR_MISSING_SIGNATURE:"ERR_MISSING_SIGNATURE",ERR_MISSING_SEQNO:"ERR_MISSING_SEQNO",ERR_INVALID_SIGNATURE:"ERR_INVALID_SIGNATURE",ERR_UNEXPECTED_FROM:"ERR_UNEXPECTED_FROM",ERR_UNEXPECTED_SIGNATURE:"ERR_UNEXPECTED_SIGNATURE",ERR_UNEXPECTED_KEY:"ERR_UNEXPECTED_KEY",ERR_UNEXPECTED_SEQNO:"ERR_UNEXPECTED_SEQNO"}},56341:(e,t,r)=>{"use strict";const a=r(31393),n=r(17187)["EventEmitter"],c=r(17801),s=r(60618)["pipe"],u=r(45860)["default"],i=r(98497),h=r(41590)["codes"],o=r(78476)["RPC"],l=r(14977),d=r(32185)["SignaturePolicy"],f=r(22026),{signMessage:p,verifySignature:y}=r(67703);class g extends n{constructor({debugName:e,multicodecs:t,libp2p:r,globalSignaturePolicy:n=d.StrictSign,canRelayMessage:i=!1,emitSelf:s=!1,messageProcessingConcurrency:o=10}){if("string"!=typeof e)throw new Error("a debugname `string` is required");if(!t)throw new Error("multicodecs are required");if(!r)throw new Error("libp2p is required");if(super(),this.log=Object.assign(a(e),{err:a(e+":error")}),this.multicodecs=f.ensureArray(t),this._libp2p=r,this.registrar=r.registrar,this.peerId=r.peerId,this.started=!1,this.topics=new Map,this.subscriptions=new Set,this.peers=new Map,!d[n])throw c(new Error("Invalid global signature policy"),h.ERR_INVALID_SIGNATURE_POLICY);this.globalSignaturePolicy=n,this.canRelayMessage=i,this.emitSelf=s,this.topicValidators=new Map,this.queue=new u({concurrency:o}),this._registrarId=void 0,this._onIncomingStream=this._onIncomingStream.bind(this),this._onPeerConnected=this._onPeerConnected.bind(this),this._onPeerDisconnected=this._onPeerDisconnected.bind(this)}start(){var e;this.started||(this.log("starting"),this.registrar.handle(this.multicodecs,this._onIncomingStream),e=new i({multicodecs:this.multicodecs,handlers:{onConnect:this._onPeerConnected,onDisconnect:this._onPeerDisconnected}}),this._registrarId=this.registrar.register(e),this.log("started"),this.started=!0)}stop(){this.started&&(this.registrar.unregister(this._registrarId),this.log("stopping"),this.peers.forEach(e=>e.close()),this.peers=new Map,this.subscriptions=new Set,this.started=!1,this.log("stopped"))}_onIncomingStream({protocol:e,stream:t,connection:r}){const n=r.remotePeer,i=n.toB58String(),s=this._addPeer(n,e),o=s.attachInboundStream(t);this._processMessages(i,o,s)}async _onPeerConnected(e,t){const r=e.toB58String();this.log("connected",r);try{const{stream:r,protocol:n}=await t.newStream(this.multicodecs),i=this._addPeer(e,n);await i.attachOutboundStream(r)}catch(e){this.log.err(e)}this._sendSubscriptions(r,Array.from(this.subscriptions),!0)}_onPeerDisconnected(e,t){var r=e.toB58String();this.log("connection ended",r,t?t.message:""),this._removePeer(e)}_addPeer(e,t){var r=e.toB58String(),n=this.peers.get(r);if(n)return n;this.log("new peer",r);const i=new l({id:e,protocol:t});return this.peers.set(r,i),i.once("close",()=>this._removePeer(e)),i}_removePeer(e){if(e){const t=e.toB58String(),r=this.peers.get(t);if(r){r.removeAllListeners(),r.close(),this.log("delete peer",t),this.peers.delete(t);for(const e of this.topics.values())e.delete(t);return r}}}async _processMessages(n,e,i){try{await s(e,async e=>{for await(const t of e){const e=t instanceof Uint8Array?t:t.slice(),r=this._decodeRpc(e);(async()=>{try{await this._processRpc(n,i,r)}catch(e){this.log.err(e)}})()}})}catch(n){this._onPeerDisconnected(i.id,n)}}async _processRpc(r,e,t){this.log("rpc from",r);const n=t.subscriptions,i=t.msgs;return n.length&&(n.forEach(e=>{this._processRpcSubOpt(r,e)}),this.emit("pubsub:subscription-change",e.id,n)),this._acceptFrom(r)?(i.length&&this.queue.addAll(i.map(t=>async()=>{if(this.canRelayMessage||t.topicIDs&&t.topicIDs.some(e=>this.subscriptions.has(e)))try{var e=f.normalizeInRpcMessage(t,r);await this._processRpcMessage(e)}catch(e){this.log.err(e)}else this.log("received message we didn't subscribe to. Dropping.")})),!0):(this.log("received message from unacceptable peer %s",r),!1)}_processRpcSubOpt(t,r){var n=r.topicID;if(n){let e=this.topics.get(n);e||(e=new Set,this.topics.set(n,e)),r.subscribe?e.add(t):e.delete(t)}}async _processRpcMessage(e){if(this.peerId.toB58String()!==e.from||this.emitSelf){try{await this.validate(e)}catch(e){return void this.log("Message is invalid, dropping it. %O",e)}return this._emitMessage(e),this._publish(f.normalizeOutRpcMessage(e))}}_emitMessage(t){t.topicIDs.forEach(e=>{this.subscriptions.has(e)&&this.emit(e,t)})}getMsgId(e){var t=this.globalSignaturePolicy;switch(t){case d.StrictSign:return f.msgId(e.from,e.seqno);case d.StrictNoSign:return f.noSignMsgId(e.data);default:throw c(new Error("Cannot get message id: unhandled signature policy: "+t),h.ERR_UNHANDLED_SIGNATURE_POLICY)}}_acceptFrom(e){return!0}_decodeRpc(e){return o.decode(e)}_encodeRpc(e){return o.encode(e).finish()}_sendRpc(e,t){const r=this.peers.get(e);if(r&&r.isWritable)r.write(this._encodeRpc(t));else{const t=`Cannot send RPC to ${e} as there is no open stream to it available`;this.log.err(t)}}_sendSubscriptions(e,t,r){return this._sendRpc(e,{subscriptions:t.map(e=>({topicID:e,subscribe:r}))})}async validate(e){const t=this.globalSignaturePolicy;switch(t){case d.StrictNoSign:if(e.from)throw c(new Error("StrictNoSigning: from should not be present"),h.ERR_UNEXPECTED_FROM);if(e.signature)throw c(new Error("StrictNoSigning: signature should not be present"),h.ERR_UNEXPECTED_SIGNATURE);if(e.key)throw c(new Error("StrictNoSigning: key should not be present"),h.ERR_UNEXPECTED_KEY);if(e.seqno)throw c(new Error("StrictNoSigning: seqno should not be present"),h.ERR_UNEXPECTED_SEQNO);break;case d.StrictSign:if(!e.signature)throw c(new Error("StrictSigning: Signing required and no signature was present"),h.ERR_MISSING_SIGNATURE);if(!e.seqno)throw c(new Error("StrictSigning: Signing required and no seqno was present"),h.ERR_MISSING_SEQNO);if(!await y(e))throw c(new Error("StrictSigning: Invalid message signature"),h.ERR_INVALID_SIGNATURE);break;default:throw c(new Error("Cannot validate message: unhandled signature policy: "+t),h.ERR_UNHANDLED_SIGNATURE_POLICY)}for(const t of e.topicIDs){const r=this.topicValidators.get(t);r&&await r(t,e)}}_buildMessage(e){var t=this.globalSignaturePolicy;switch(t){case d.StrictSign:return e.from=this.peerId.toB58String(),e.seqno=f.randomSeqno(),p(this.peerId,e);case d.StrictNoSign:return Promise.resolve(e);default:throw c(new Error("Cannot build message: unhandled signature policy: "+t),h.ERR_UNHANDLED_SIGNATURE_POLICY)}}getSubscribers(e){if(!this.started)throw c(new Error("not started yet"),"ERR_NOT_STARTED_YET");if(!e||"string"!=typeof e)throw c(new Error("a string topic must be provided"),"ERR_NOT_VALID_TOPIC");e=this.topics.get(e);return e?Array.from(e):[]}async publish(e,t){if(!this.started)throw new Error("Pubsub has not started");this.log("publish",e,t);e={receivedFrom:this.peerId.toB58String(),data:t,topicIDs:[e]},e=await this._buildMessage(e),e=f.normalizeInRpcMessage(e);this.emitSelf&&this._emitMessage(e),await this._publish(e)}_publish(e){throw c(new Error("publish must be implemented by the subclass"),"ERR_NOT_IMPLEMENTED")}subscribe(r){if(!this.started)throw new Error("Pubsub has not started");this.subscriptions.has(r)||(this.subscriptions.add(r),this.peers.forEach((e,t)=>this._sendSubscriptions(t,[r],!0)))}unsubscribe(r){if(!this.started)throw new Error("Pubsub is not started");this.subscriptions.has(r)&&0===this.listenerCount(r)&&(this.subscriptions.delete(r),this.peers.forEach((e,t)=>this._sendSubscriptions(t,[r],!1)))}getTopics(){if(!this.started)throw new Error("Pubsub is not started");return Array.from(this.subscriptions)}}g.utils=f,g.SignaturePolicy=d,e.exports=g},78476:(e,t,r)=>{"use strict";var n=r(62100),s=n.Reader,i=n.Writer,o=n.util,a=n.roots["libp2p-pubsub-rpc"]||(n.roots["libp2p-pubsub-rpc"]={});function c(e){if(this.subscriptions=[],this.msgs=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function u(e){if(this.topicIDs=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function h(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}a.RPC=(c.prototype.subscriptions=o.emptyArray,c.prototype.msgs=o.emptyArray,c.encode=function(e,t){if(t=t||i.create(),null!=e.subscriptions&&e.subscriptions.length)for(var r=0;r<e.subscriptions.length;++r)a.RPC.SubOpts.encode(e.subscriptions[r],t.uint32(10).fork()).ldelim();if(null!=e.msgs&&e.msgs.length)for(r=0;r<e.msgs.length;++r)a.RPC.Message.encode(e.msgs[r],t.uint32(18).fork()).ldelim();return t},c.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.RPC;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.subscriptions&&n.subscriptions.length||(n.subscriptions=[]),n.subscriptions.push(a.RPC.SubOpts.decode(e,e.uint32()));break;case 2:n.msgs&&n.msgs.length||(n.msgs=[]),n.msgs.push(a.RPC.Message.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return n},c.fromObject=function(e){if(e instanceof a.RPC)return e;var t=new a.RPC;if(e.subscriptions){if(!Array.isArray(e.subscriptions))throw TypeError(".RPC.subscriptions: array expected");t.subscriptions=[];for(var r=0;r<e.subscriptions.length;++r){if("object"!=typeof e.subscriptions[r])throw TypeError(".RPC.subscriptions: object expected");t.subscriptions[r]=a.RPC.SubOpts.fromObject(e.subscriptions[r])}}if(e.msgs){if(!Array.isArray(e.msgs))throw TypeError(".RPC.msgs: array expected");for(t.msgs=[],r=0;r<e.msgs.length;++r){if("object"!=typeof e.msgs[r])throw TypeError(".RPC.msgs: object expected");t.msgs[r]=a.RPC.Message.fromObject(e.msgs[r])}}return t},c.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.subscriptions=[],r.msgs=[]),e.subscriptions&&e.subscriptions.length){r.subscriptions=[];for(var n=0;n<e.subscriptions.length;++n)r.subscriptions[n]=a.RPC.SubOpts.toObject(e.subscriptions[n],t)}if(e.msgs&&e.msgs.length)for(r.msgs=[],n=0;n<e.msgs.length;++n)r.msgs[n]=a.RPC.Message.toObject(e.msgs[n],t);return r},c.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},c.SubOpts=(h.prototype.subscribe=null,h.prototype.topicID=null,Object.defineProperty(h.prototype,"_subscribe",{get:o.oneOfGetter(r=["subscribe"]),set:o.oneOfSetter(r)}),Object.defineProperty(h.prototype,"_topicID",{get:o.oneOfGetter(r=["topicID"]),set:o.oneOfSetter(r)}),h.encode=function(e,t){return t=t||i.create(),null!=e.subscribe&&Object.hasOwnProperty.call(e,"subscribe")&&t.uint32(8).bool(e.subscribe),null!=e.topicID&&Object.hasOwnProperty.call(e,"topicID")&&t.uint32(18).string(e.topicID),t},h.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.RPC.SubOpts;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.subscribe=e.bool();break;case 2:n.topicID=e.string();break;default:e.skipType(7&i)}}return n},h.fromObject=function(e){if(e instanceof a.RPC.SubOpts)return e;var t=new a.RPC.SubOpts;return null!=e.subscribe&&(t.subscribe=Boolean(e.subscribe)),null!=e.topicID&&(t.topicID=String(e.topicID)),t},h.toObject=function(e,t){t=t||{};var r={};return null!=e.subscribe&&e.hasOwnProperty("subscribe")&&(r.subscribe=e.subscribe,t.oneofs&&(r._subscribe="subscribe")),null!=e.topicID&&e.hasOwnProperty("topicID")&&(r.topicID=e.topicID,t.oneofs&&(r._topicID="topicID")),r},h.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},h),c.Message=(u.prototype.from=null,u.prototype.data=null,u.prototype.seqno=null,u.prototype.topicIDs=o.emptyArray,u.prototype.signature=null,u.prototype.key=null,Object.defineProperty(u.prototype,"_from",{get:o.oneOfGetter(r=["from"]),set:o.oneOfSetter(r)}),Object.defineProperty(u.prototype,"_data",{get:o.oneOfGetter(r=["data"]),set:o.oneOfSetter(r)}),Object.defineProperty(u.prototype,"_seqno",{get:o.oneOfGetter(r=["seqno"]),set:o.oneOfSetter(r)}),Object.defineProperty(u.prototype,"_signature",{get:o.oneOfGetter(r=["signature"]),set:o.oneOfSetter(r)}),Object.defineProperty(u.prototype,"_key",{get:o.oneOfGetter(r=["key"]),set:o.oneOfSetter(r)}),u.encode=function(e,t){if(t=t||i.create(),null!=e.from&&Object.hasOwnProperty.call(e,"from")&&t.uint32(10).bytes(e.from),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),null!=e.seqno&&Object.hasOwnProperty.call(e,"seqno")&&t.uint32(26).bytes(e.seqno),null!=e.topicIDs&&e.topicIDs.length)for(var r=0;r<e.topicIDs.length;++r)t.uint32(34).string(e.topicIDs[r]);return null!=e.signature&&Object.hasOwnProperty.call(e,"signature")&&t.uint32(42).bytes(e.signature),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(50).bytes(e.key),t},u.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.RPC.Message;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.from=e.bytes();break;case 2:n.data=e.bytes();break;case 3:n.seqno=e.bytes();break;case 4:n.topicIDs&&n.topicIDs.length||(n.topicIDs=[]),n.topicIDs.push(e.string());break;case 5:n.signature=e.bytes();break;case 6:n.key=e.bytes();break;default:e.skipType(7&i)}}return n},u.fromObject=function(e){if(e instanceof a.RPC.Message)return e;var t=new a.RPC.Message;if(null!=e.from&&("string"==typeof e.from?o.base64.decode(e.from,t.from=o.newBuffer(o.base64.length(e.from)),0):e.from.length&&(t.from=e.from)),null!=e.data&&("string"==typeof e.data?o.base64.decode(e.data,t.data=o.newBuffer(o.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),null!=e.seqno&&("string"==typeof e.seqno?o.base64.decode(e.seqno,t.seqno=o.newBuffer(o.base64.length(e.seqno)),0):e.seqno.length&&(t.seqno=e.seqno)),e.topicIDs){if(!Array.isArray(e.topicIDs))throw TypeError(".RPC.Message.topicIDs: array expected");t.topicIDs=[];for(var r=0;r<e.topicIDs.length;++r)t.topicIDs[r]=String(e.topicIDs[r])}return null!=e.signature&&("string"==typeof e.signature?o.base64.decode(e.signature,t.signature=o.newBuffer(o.base64.length(e.signature)),0):e.signature.length&&(t.signature=e.signature)),null!=e.key&&("string"==typeof e.key?o.base64.decode(e.key,t.key=o.newBuffer(o.base64.length(e.key)),0):e.key.length&&(t.key=e.key)),t},u.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.topicIDs=[]),null!=e.from&&e.hasOwnProperty("from")&&(r.from=t.bytes===String?o.base64.encode(e.from,0,e.from.length):t.bytes===Array?Array.prototype.slice.call(e.from):e.from,t.oneofs&&(r._from="from")),null!=e.data&&e.hasOwnProperty("data")&&(r.data=t.bytes===String?o.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data,t.oneofs&&(r._data="data")),null!=e.seqno&&e.hasOwnProperty("seqno")&&(r.seqno=t.bytes===String?o.base64.encode(e.seqno,0,e.seqno.length):t.bytes===Array?Array.prototype.slice.call(e.seqno):e.seqno,t.oneofs&&(r._seqno="seqno")),e.topicIDs&&e.topicIDs.length){r.topicIDs=[];for(var n=0;n<e.topicIDs.length;++n)r.topicIDs[n]=e.topicIDs[n]}return null!=e.signature&&e.hasOwnProperty("signature")&&(r.signature=t.bytes===String?o.base64.encode(e.signature,0,e.signature.length):t.bytes===Array?Array.prototype.slice.call(e.signature):e.signature,t.oneofs&&(r._signature="signature")),null!=e.key&&e.hasOwnProperty("key")&&(r.key=t.bytes===String?o.base64.encode(e.key,0,e.key.length):t.bytes===Array?Array.prototype.slice.call(e.key):e.key,t.oneofs&&(r._key="key")),r},u.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},u),c),e.exports=a},67703:(e,t,r)=>{"use strict";const n=r(88785),i=r(78476)["RPC"],s=r(20605)["concat"],o=r(52217)["fromString"],a=o("libp2p-pubsub:"),c=r(22026)["normalizeOutRpcMessage"];async function u(e){if(!e.from)throw new Error("Could not get the public key from the originator id");var t=n.createFromB58String(e.from);if(e.key){const r=await n.createFromPubKey(e.key);if(r.equals(t))return r.pubKey;throw new Error("Public Key does not match the originator")}if(t.pubKey)return t.pubKey;throw new Error("Could not get the public key from the originator id")}e.exports={messagePublicKey:u,signMessage:async function(e,t){var r=s([a,i.Message.encode(c(t)).finish()]),r=await e.privKey.sign(r);return{...t,signature:r,key:e.pubKey.bytes}},SignPrefix:a,verifySignature:async function(e){if(!e.signature)throw new Error("Message must contain a signature to be verified");if(!e.from)throw new Error("Message must contain a from property to be verified");var t=s([a,i.Message.encode({...e,from:n.createFromB58String(e.from).toBytes(),signature:void 0,key:void 0}).finish()]);return(await u(e)).verify(t,e.signature)}}},14977:(e,t,r)=>{"use strict";const n=r(31393),i=Object.assign(n("libp2p-pubsub:peer-streams"),{error:n("libp2p-pubsub:peer-streams:err")}),s=r(17187)["EventEmitter"],o=r(48963),a=r(84975),c=r(60618)["pipe"],u=r(61623)["source"],h=r(28599).default;e.exports=class extends s{constructor({id:e,protocol:t}){super(),this.id=e,this.protocol=t,this._rawOutboundStream=null,this._rawInboundStream=null,this._inboundAbortController=new h,this.outboundStream=null,this.inboundStream=null}get isReadable(){return Boolean(this.inboundStream)}get isWritable(){return Boolean(this.outboundStream)}write(e){if(!this.outboundStream){const e=this.id.toB58String();throw new Error("No writable connection to "+e)}this.outboundStream.push(e)}attachInboundStream(e){return this._rawInboundStream=e,this.inboundStream=u(c(this._rawInboundStream,o.decode()),this._inboundAbortController.signal,{returnOnAbort:!0}),this.emit("stream:inbound"),this.inboundStream}async attachOutboundStream(e){var t=this.outboundStream;this.outboundStream&&await this.outboundStream.end(),this._rawOutboundStream=e,this.outboundStream=a({onEnd:e=>{this._rawOutboundStream&&this._rawOutboundStream.reset&&this._rawOutboundStream.reset(),this._rawOutboundStream=null,this.outboundStream=null,e&&this.emit("close")}}),c(this.outboundStream,o.encode(),this._rawOutboundStream).catch(e=>{i.error(e)}),t||this.emit("stream:outbound")}close(){this.outboundStream&&this.outboundStream.end(),this.inboundStream&&this._inboundAbortController.abort(),this._rawOutboundStream=null,this.outboundStream=null,this._rawInboundStream=null,this.inboundStream=null,this.emit("close")}}},32185:(e,t)=>{"use strict";t.SignaturePolicy={StrictSign:"StrictSign",StrictNoSign:"StrictNoSign"}},22026:(e,t,r)=>{"use strict";const n=r(87503),i=r(92263)["toString"],s=r(52217)["fromString"],o=r(88785),a=r(56155)["sha256"];e.exports={randomSeqno:()=>n(8),msgId:(e,t)=>{e=(e instanceof Uint8Array?o.createFromBytes(e):o.parse(e)).id;const r=new Uint8Array(e.length+t.length);return r.set(e,0),r.set(t,e.length),r},noSignMsgId:e=>a.encode(e),anyMatch:(e,t)=>{let r;r=Array.isArray(t)?e=>-1<t.indexOf(e):e=>t.has(e);for(const t of e)if(r(t))return!0;return!1},ensureArray:e=>Array.isArray(e)?e:[e],normalizeInRpcMessage:(e,t)=>{const r=Object.assign({},e);return e.from instanceof Uint8Array&&(r.from=i(e.from,"base58btc")),t&&(r.receivedFrom=t),r},normalizeOutRpcMessage:e=>{const t=Object.assign({},e);return"string"==typeof e.from&&(t.from=s(e.from,"base58btc")),"string"==typeof e.data&&(t.data=s(e.data)),t}}},7609:e=>{"use strict";const n=()=>{},t=Symbol.for("@libp2p/js-interfaces/topology");class r{constructor({min:e=0,max:t=1/0,handlers:r={}}){this.min=e,this.max=t,this._onConnect=r.onConnect||n,this._onDisconnect=r.onDisconnect||n,this.peers=new Set}get[Symbol.toStringTag](){return"Topology"}get[t](){return!0}static isTopology(e){return Boolean(e&&e[t])}set registrar(e){this._registrar=e}disconnect(e){this._onDisconnect(e)}}e.exports=r},98497:(e,t,r)=>{"use strict";const n=r(7609),i=Symbol.for("@libp2p/js-interfaces/topology/multicodec-topology");class s extends n{constructor({min:e,max:t,multicodecs:r,handlers:n}){if(super({min:e,max:t,handlers:n}),!r)throw new Error("one or more multicodec should be provided");if(!n)throw new Error("the handlers should be provided");if("function"!=typeof n.onConnect)throw new Error("the 'onConnect' handler must be provided");if("function"!=typeof n.onDisconnect)throw new Error("the 'onDisconnect' handler must be provided");this.multicodecs=Array.isArray(r)?r:[r],this._registrar=void 0,this._onProtocolChange=this._onProtocolChange.bind(this),this._onPeerConnect=this._onPeerConnect.bind(this)}get[Symbol.toStringTag](){return"Topology"}get[i](){return!0}static isMulticodecTopology(e){return Boolean(e&&e[i])}set registrar(e){this._registrar=e,this._registrar.peerStore.on("change:protocols",this._onProtocolChange),this._registrar.connectionManager.on("peer:connect",this._onPeerConnect),this._updatePeers(this._registrar.peerStore.peers.values())}_updatePeers(e){for(const{id:t,protocols:r}of e)if(this.multicodecs.filter(e=>r.includes(e)).length){this.peers.add(t.toB58String());const e=this._registrar.getConnection(t);e&&this._onConnect(t,e)}else this.peers.delete(t.toB58String())}_onProtocolChange({peerId:e,protocols:t}){const r=this.peers.has(e.toB58String()),n=t.filter(e=>this.multicodecs.includes(e));r&&0===n.length&&this._onDisconnect(e);for(const r of t)if(this.multicodecs.includes(r)){const t=this._registrar.peerStore.get(e);return void this._updatePeers([t])}}_onPeerConnect(e){const t=e.remotePeer,r=this._registrar.peerStore.protoBook.get(t);r&&this.multicodecs.find(e=>r.includes(e))&&(this.peers.add(t.toB58String()),this._onConnect(t,e))}}e.exports=s},13474:(t,r,e)=>{r.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");let t=0,r=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(t++,"%c"===e&&(r=t))}),e.splice(r,0,n)}},r.save=function(e){try{e?r.storage.setItem("debug",e):r.storage.removeItem("debug")}catch(e){}},r.load=function(){let e;try{e=r.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},r.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},r.storage=function(){try{return localStorage}catch(e){}}(),r.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],r.log=console.debug||console.log||(()=>{}),t.exports=e(85494)(r);const n=t.exports["formatters"];n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},85494:(e,t,n)=>{e.exports=function(t){function a(e){let r,t,n,i=null;function o(...i){if(o.enabled){const s=o,e=Number(new Date),t=e-(r||e);s.diff=t,s.prev=r,s.curr=e,r=e,i[0]=a.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");let n=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(e,t)=>{if("%%"===e)return"%";n++;const r=a.formatters[t];if("function"==typeof r){const a=i[n];e=r.call(s,a),i.splice(n,1),n--}return e}),a.formatArgs.call(s,i),(s.log||a.log).apply(s,i)}}return o.namespace=e,o.useColors=a.useColors(),o.color=a.selectColor(e),o.extend=s,o.destroy=a.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(t!==a.namespaces&&(t=a.namespaces,n=a.enabled(e)),n),set:e=>{i=e}}),"function"==typeof a.init&&a.init(o),o}function s(e,t){const r=a(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return((a.debug=a).default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},a.disable=function(){var e=[...a.names.map(r),...a.skips.map(r).map(e=>"-"+e)].join(",");return a.enable(""),e},a.enable=function(e){let t;a.save(e),a.namespaces=e,a.names=[],a.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length;for(t=0;t<n;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+e.substr(1)+"$")):a.names.push(new RegExp("^"+e+"$")))},a.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=a.skips.length;t<r;t++)if(a.skips[t].test(e))return!1;for(t=0,r=a.names.length;t<r;t++)if(a.names[t].test(e))return!0;return!1},a.humanize=n(38229),a.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(e=>{a[e]=t[e]}),a.names=[],a.skips=[],a.formatters={},a.selectColor=function(t){let r=0;for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return a.colors[Math.abs(r)%a.colors.length]},a.enable(a.load()),a}},72842:e=>{"use strict";function i(e,t){for(const r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}e.exports=function(e,t,r){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");r=r||{},"object"==typeof t&&(r=t,t=""),t&&(r.code=t);try{return i(e,r)}catch(t){r.message=e.message,r.stack=e.stack;var n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(e)),i(new n,r)}}},38229:e=>{function s(e,t,r,n){t=1.5*r<=t;return Math.round(e/r)+" "+n+(t?"s":"")}e.exports=function(r,e){e=e||{};var t,n,i=typeof r;if("string"==i&&0<r.length)return function(e){if(!(100<(e=String(r)).length)){e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(e){var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"weeks":case"week":case"w":return 6048e5*t;case"days":case"day":case"d":return 864e5*t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}(r);if("number"==i&&isFinite(r))return e.long?(n=r,864e5<=(t=Math.abs(n))?s(n,t,864e5,"day"):36e5<=t?s(n,t,36e5,"hour"):6e4<=t?s(n,t,6e4,"minute"):1e3<=t?s(n,t,1e3,"second"):n+" ms"):(t=r,864e5<=(n=Math.abs(t))?Math.round(t/864e5)+"d":36e5<=n?Math.round(t/36e5)+"h":6e4<=n?Math.round(t/6e4)+"m":1e3<=n?Math.round(t/1e3)+"s":t+"ms");throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))}},75516:(e,t,r)=>{"use strict";const n=r(94676),i=r(9668);e.exports=r=>async function*(){const e=new s;for await(const t of r){const r=e.write(t);r.length&&(yield r)}}();class s{constructor(){this._buffer=new i,this._bufferProxy=new Proxy({},{get:(e,t)=>"l"===t[0]?this._buffer[t]:this._buffer.get(parseInt(t))}),this._headerInfo=null}write(e){if(!e||!e.length)return[];this._buffer.append(e);const t=[];for(;;){if(!this._headerInfo)try{this._headerInfo=this._decodeHeader(this._bufferProxy)}catch(e){break}const{id:e,type:r,length:n,offset:i}=this._headerInfo;if(this._buffer.length-i<n)break;t.push({id:e,type:r,data:this._buffer.shallowSlice(i,i+n)}),this._buffer.consume(i+n),this._headerInfo=null}return t}_decodeHeader(e){var t=n.decode(e),r=n.decode.bytes,e=n.decode(e,r);return{id:t>>3,type:7&t,offset:r+=n.decode.bytes,length:e}}}},45164:(e,t,r)=>{"use strict";const i=r(94676),n=r(9668),s=new class{constructor(){this._pool=new Uint8Array(10240),this._poolOffset=0}write(e){const t=this._pool;var r=this._poolOffset;i.encode(e.id<<3|e.type,t,r),r+=i.encode.bytes,i.encode(e.data?e.data.length:0,t,r),r+=i.encode.bytes;var n=t.subarray(this._poolOffset,r);return 10240-r<100?(this._pool=new Uint8Array(10240),this._poolOffset=0):this._poolOffset=r,e.data?[n,e.data]:n}};e.exports=t=>async function*(){for await(const e of t)Array.isArray(e)?yield new n(e.map(e=>s.write(e))):yield new n(s.write(e))}()},73209:(e,t,r)=>{"use strict";t.encode=r(45164),t.decode=r(75516)},1267:(e,t,r)=>{"use strict";e.exports=r(47932)},82492:(e,t)=>{"use strict";var r=Object.freeze({NEW_STREAM:0,MESSAGE_RECEIVER:1,MESSAGE_INITIATOR:2,CLOSE_RECEIVER:3,CLOSE_INITIATOR:4,RESET_RECEIVER:5,RESET_INITIATOR:6});t.MessageTypes=r,t.InitiatorMessageTypes=Object.freeze({NEW_STREAM:r.NEW_STREAM,MESSAGE:r.MESSAGE_INITIATOR,CLOSE:r.CLOSE_INITIATOR,RESET:r.RESET_INITIATOR}),t.ReceiverMessageTypes=Object.freeze({MESSAGE:r.MESSAGE_RECEIVER,CLOSE:r.CLOSE_RECEIVER,RESET:r.RESET_RECEIVER}),t.MessageTypeNames=Object.freeze(Object.entries(r).reduce((e,t)=>(e[t[1]]=t[0],e),{}))},47932:(e,t,r)=>{"use strict";const n=r(60618),i=r(84975),s=r(13474)("libp2p:mplex"),o=r(61623),a=r(73209),c=r(40092),{MessageTypes:u,MessageTypeNames:h}=r(82492),l=r(16048);class d{constructor(e){e="function"==typeof(e=e||{})?{onStream:e}:e,this._streamId=0,this._streams={initiators:new Map,receivers:new Map},this._options=e,this.sink=this._createSink(),this.source=this._createSource(),this.onStream=e.onStream,this.onStreamEnd=e.onStreamEnd}get streams(){const t=[];return this._streams.initiators.forEach(e=>{t.push(e)}),this._streams.receivers.forEach(e=>{t.push(e)}),t}newStream(e){const t=this._streamId++;e=null==e?t.toString():String(e);var r=this._streams.initiators;return this._newStream({id:t,name:e,type:"initiator",registry:r})}_newReceiverStream({id:e,name:t}){var r=this._streams.receivers;return this._newStream({id:e,name:t,type:"receiver",registry:r})}_newStream({id:t,name:r,type:n,registry:e}){if(e.has(t))throw new Error(n+` stream ${t} already exists!`);s("new %s stream %s %s",n,t,r);const i=l({id:t,name:r,send:e=>(s.enabled&&s("%s stream %s %s send",n,t,r,{...e,type:h[e.type],data:e.data&&e.data.slice()}),this.source.push(e)),type:n,onEnd:()=>{s("%s stream %s %s ended",n,t,r),e.delete(t),this.onStreamEnd&&this.onStreamEnd(i)},maxMsgSize:this._options.maxMsgSize});return e.set(t,i),i}_createSink(){return async e=>{this._options.signal&&(e=o(e,this._options.signal));try{await n(e,a.decode,c(this._options.maxMsgSize),async e=>{for await(const t of e)for(const e of t)this._handleIncoming(e)})}catch(e){return s("error in sink",e),this.source.end(e)}this.source.end()}}_createSource(){var e=i({onEnd:e=>{const{initiators:t,receivers:r}=this._streams;for(const r of t.values())r.abort(e);for(const t of r.values())t.abort(e)},writev:!0});return Object.assign(a.encode(e),{push:e.push,end:e.end,return:e.return})}_handleIncoming({id:e,type:t,data:r}){if(s.enabled&&s("incoming message",{id:e,type:h[t],data:r.slice()}),t===u.NEW_STREAM&&this.onStream){const t=this._newReceiverStream({id:e,name:r.toString()});return this.onStream(t)}const n=(1&t?this._streams.initiators:this._streams.receivers).get(e);if(!n)return s("missing stream %s",e);switch(t){case u.MESSAGE_INITIATOR:case u.MESSAGE_RECEIVER:n.source.push(r);break;case u.CLOSE_INITIATOR:case u.CLOSE_RECEIVER:n.close();break;case u.RESET_INITIATOR:case u.RESET_RECEIVER:n.reset();break;default:s("unknown message type %s",t)}}}d.multicodec="/mplex/6.7.0",e.exports=d},40092:e=>{"use strict";e.exports=t=>{t=t||1<<20;const r=e=>{if(e.data&&e.data.length>t)throw Object.assign(new Error("message size too large!"),{code:"ERR_MSG_TOO_BIG"})};return t=>async function*(){for await(const e of t)Array.isArray(e)?e.forEach(r):r(e),yield e}()},e.exports.MAX_MSG_SIZE=1<<20},16048:(e,t,r)=>{"use strict";const y=r(61623),g=r(28599),m=r(13474)("libp2p:mplex:stream"),b=r(84975),v=r(9668),w=r(72842),_=r(40092)["MAX_MSG_SIZE"],{InitiatorMessageTypes:E,ReceiverMessageTypes:S}=r(82492),C="ERR_MPLEX_STREAM_RESET";e.exports=({id:r,name:n,send:i,onEnd:t=()=>{},type:s="initiator",maxMsgSize:o=_})=>{const a=new g,c=new g,u="initiator"===s?E:S,e="initiator"===s?"i"+r:"r"+r;n=String(null==n?r:n);let h,l=!1,d=!1;const f=e=>{d||(d=!0,m("%s stream %s sink end",s,n,e),e&&!h&&(h=e),l&&(p.timeline.close=Date.now(),t(h)))},p={close:()=>p.source.end(),abort:e=>{m("%s stream %s abort",s,n,e),p.source.end(e),a.abort(),f(e)},reset:()=>{var e=w(new Error("stream reset"),C);c.abort(),p.source.end(e),f(e)},sink:async e=>{e=y(e,[{signal:a.signal,options:{abortMessage:"stream aborted",abortCode:"ERR_MPLEX_STREAM_ABORT"}},{signal:c.signal,options:{abortMessage:"stream reset",abortCode:C}}]),"initiator"===s&&i({id:r,type:u.NEW_STREAM,data:n});try{for await(var t of e)for(;t.length;){if(t.length<=o){i({id:r,type:u.MESSAGE,data:t});break}t=v.isBufferList(t)?t:new v(t),i({id:r,type:u.MESSAGE,data:t.shallowSlice(0,o)}),t.consume(o)}}catch(e){return e.code===C?m("%s stream %s reset",s,n):(m("%s stream %s error",s,n,e),i({id:r,type:u.RESET})),p.source.end(e),f(e)}i({id:r,type:u.CLOSE}),f()},source:b(e=>{l||(l=!0,m("%s stream %s source end",s,n,e),e&&!h&&(h=e),d&&(p.timeline.close=Date.now(),t(h)))}),timeline:{open:Date.now(),close:null},id:e};return p}},67951:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DUMP_SESSION_KEYS=t.NOISE_MSG_MAX_LENGTH_BYTES_WITHOUT_TAG=t.NOISE_MSG_MAX_LENGTH_BYTES=void 0,t.NOISE_MSG_MAX_LENGTH_BYTES=65535,t.NOISE_MSG_MAX_LENGTH_BYTES_WITHOUT_TAG=t.NOISE_MSG_MAX_LENGTH_BYTES-16,t.DUMP_SESSION_KEYS=process.env.DUMP_SESSION_KEYS},9129:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decryptStream=t.encryptStream=void 0;const o=r(48764),a=r(67951);t.encryptStream=function(n){return async function*(r){for await(const e of r){const r=o.Buffer.from(e.buffer,e.byteOffset,e.length);for(let t=0;t<r.length;t+=a.NOISE_MSG_MAX_LENGTH_BYTES_WITHOUT_TAG){let e=t+a.NOISE_MSG_MAX_LENGTH_BYTES_WITHOUT_TAG;e>r.length&&(e=r.length),yield n.encrypt(r.slice(t,e),n.session)}}}},t.decryptStream=function(s){return async function*(r){for await(const e of r){const r=o.Buffer.from(e.buffer,e.byteOffset,e.length);for(let t=0;t<r.length;t+=a.NOISE_MSG_MAX_LENGTH_BYTES){let e=t+a.NOISE_MSG_MAX_LENGTH_BYTES;e>r.length&&(e=r.length);var n=r.slice(t,e),{plaintext:i,valid:n}=await s.decrypt(n,s.session);if(!n)throw new Error("Failed to validate decrypted chunk");yield i}}}}},86408:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode2=t.decode1=t.decode0=t.encode2=t.encode1=t.encode0=t.uint16BEDecode=t.uint16BEEncode=void 0;const n=r(48764);t.uint16BEEncode=(e,t,r)=>((t=t||n.Buffer.allocUnsafe(2)).writeUInt16BE(e,r),t),t.uint16BEEncode.bytes=2,t.uint16BEDecode=e=>{if(e.length<2)throw RangeError("Could not decode int16BE");return e.readUInt16BE(0)},t.uint16BEDecode.bytes=2,t.encode0=function(e){return n.Buffer.concat([e.ne,e.ciphertext])},t.encode1=function(e){return n.Buffer.concat([e.ne,e.ns,e.ciphertext])},t.encode2=function(e){return n.Buffer.concat([e.ns,e.ciphertext])},t.decode0=function(e){if(e.length<32)throw new Error("Cannot decode stage 0 MessageBuffer: length less than 32 bytes.");return{ne:e.slice(0,32),ciphertext:e.slice(32,e.length),ns:n.Buffer.alloc(0)}},t.decode1=function(e){if(e.length<80)throw new Error("Cannot decode stage 1 MessageBuffer: length less than 80 bytes.");return{ne:e.slice(0,32),ns:e.slice(32,80),ciphertext:e.slice(80,e.length)}},t.decode2=function(e){if(e.length<48)throw new Error("Cannot decode stage 2 MessageBuffer: length less than 48 bytes.");return{ne:n.Buffer.alloc(0),ns:e.slice(0,48),ciphertext:e.slice(48,e.length)}}},96234:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FailedIKError=void 0;class r extends Error{constructor(e,t){super(t),this.initialMsg=e,this.name="FailedIKhandshake"}}t.FailedIKError=r},12253:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IKHandshake=void 0;const c=r(72371),u=r(48764),o=r(86408),a=r(63490),h=r(96234),l=r(15995);t.IKHandshake=class{constructor(e,t,r,n,i,s,o,a){this.isInitiator=e,this.payload=u.Buffer.from(t),this.prologue=r,this.staticKeypair=n,this.connection=i,o&&(this.remotePeer=o),this.ik=null!=a?a:new c.IK,this.session=this.ik.initSession(this.isInitiator,this.prologue,this.staticKeypair,s),this.remoteEarlyData=u.Buffer.alloc(0)}async stage0(){if(l.logLocalStaticKeys(this.session.hs.s),l.logRemoteStaticKey(this.session.hs.rs),this.isInitiator){l.logger("IK Stage 0 - Initiator sending message...");var e=this.ik.sendMessage(this.session,this.payload);this.connection.writeLP(o.encode1(e)),l.logger("IK Stage 0 - Initiator sent message."),l.logLocalEphemeralKeys(this.session.hs.e)}else{l.logger("IK Stage 0 - Responder receiving message...");const s=await this.connection.readLP();try{var t=o.decode1(s.slice()),{plaintext:r,valid:n}=this.ik.recvMessage(this.session,t);if(!n)throw new Error("ik handshake stage 0 decryption validation fail");l.logger("IK Stage 0 - Responder got message, going to verify payload.");var i=await a.decodePayload(r);this.remotePeer=this.remotePeer||await a.getPeerIdFromPayload(i),await a.verifySignedPayload(this.session.hs.rs,i,this.remotePeer),this.setRemoteEarlyData(i.data),l.logger("IK Stage 0 - Responder successfully verified payload!"),l.logRemoteEphemeralKey(this.session.hs.re)}catch(e){i=e;throw l.logger("Responder breaking up with IK handshake in stage 0."),new h.FailedIKError(s,"Error occurred while verifying initiator's signed payload: "+i.message)}}}async stage1(){if(this.isInitiator){l.logger("IK Stage 1 - Initiator receiving message...");const r=(await this.connection.readLP()).slice(),n=o.decode0(u.Buffer.from(r)),{plaintext:i,valid:s}=this.ik.recvMessage(this.session,n);l.logger("IK Stage 1 - Initiator got message, going to verify payload.");try{if(!s)throw new Error("ik stage 1 decryption validation fail");var e=await a.decodePayload(i);this.remotePeer=this.remotePeer||await a.getPeerIdFromPayload(e),await a.verifySignedPayload(n.ns.slice(0,32),e,this.remotePeer),this.setRemoteEarlyData(e.data),l.logger("IK Stage 1 - Initiator successfully verified payload!"),l.logRemoteEphemeralKey(this.session.hs.re)}catch(e){var t=e;throw l.logger("Initiator breaking up with IK handshake in stage 1."),new h.FailedIKError(r,"Error occurred while verifying responder's signed payload: "+t.message)}}else{l.logger("IK Stage 1 - Responder sending message...");t=this.ik.sendMessage(this.session,this.payload);this.connection.writeLP(o.encode0(t)),l.logger("IK Stage 1 - Responder sent message..."),l.logLocalEphemeralKeys(this.session.hs.e)}l.logCipherState(this.session)}decrypt(e,t){t=this.getCS(t,!1);return this.ik.decryptWithAd(t,u.Buffer.alloc(0),e)}encrypt(e,t){t=this.getCS(t);return this.ik.encryptWithAd(t,u.Buffer.alloc(0),e)}getLocalEphemeralKeys(){if(!this.session.hs.e)throw new Error("Ephemeral keys do not exist.");return this.session.hs.e}getCS(e,t=!0){if(!e.cs1||!e.cs2)throw new Error("Handshake not completed properly, cipher state does not exist.");return this.isInitiator?t?e.cs1:e.cs2:t?e.cs2:e.cs1}setRemoteEarlyData(e){e&&(this.remoteEarlyData=u.Buffer.from(e.buffer,e.byteOffset,e.length))}}},52226:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XXFallbackHandshake=void 0;const n=r(48764),i=r(97313),s=r(63490),o=r(15995),a=r(86408);class c extends i.XXHandshake{constructor(e,t,r,n,i,s,o,a,c){super(e,t,r,n,i,o,c),a&&(this.ephemeralKeys=a),this.initialMsg=s}async propose(){if(this.isInitiator)this.xx.sendMessage(this.session,n.Buffer.alloc(0),this.ephemeralKeys),o.logger("XX Fallback Stage 0 - Initialized state as the first message was sent by initiator."),o.logLocalEphemeralKeys(this.session.hs.e);else{o.logger("XX Fallback Stage 0 - Responder decoding initial msg from IK.");var e=a.decode0(this.initialMsg),e=this.xx.recvMessage(this.session,{ne:e.ne,ns:n.Buffer.alloc(0),ciphertext:n.Buffer.alloc(0)})["valid"];if(!e)throw new Error("xx fallback stage 0 decryption validation fail");o.logger("XX Fallback Stage 0 - Responder used received message from IK."),o.logRemoteEphemeralKey(this.session.hs.re)}}async exchange(){if(this.isInitiator){var e=a.decode1(this.initialMsg),{plaintext:t,valid:e}=this.xx.recvMessage(this.session,e);if(!e)throw new Error("xx fallback stage 1 decryption validation fail");o.logger("XX Fallback Stage 1 - Initiator used received message from IK."),o.logRemoteEphemeralKey(this.session.hs.re),o.logRemoteStaticKey(this.session.hs.rs),o.logger("Initiator going to check remote's signature...");try{var r=await s.decodePayload(t);this.remotePeer=this.remotePeer||await s.getPeerIdFromPayload(r),await s.verifySignedPayload(this.session.hs.rs,r,this.remotePeer),this.setRemoteEarlyData(r.data)}catch(e){throw new Error("Error occurred while verifying signed payload from responder: "+e.message)}o.logger("All good with the signature!")}else o.logger("XX Fallback Stage 1 - Responder start"),await super.exchange(),o.logger("XX Fallback Stage 1 - Responder end")}}t.XXFallbackHandshake=c},97313:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XXHandshake=void 0;const a=r(48764),c=r(72950),i=r(63490),s=r(15995),o=r(86408);t.XXHandshake=class{constructor(e,t,r,n,i,s,o){this.isInitiator=e,this.payload=t,this.prologue=r,this.staticKeypair=n,this.connection=i,s&&(this.remotePeer=s),this.xx=null!=o?o:new c.XX,this.session=this.xx.initSession(this.isInitiator,this.prologue,this.staticKeypair),this.remoteEarlyData=a.Buffer.alloc(0)}async propose(){if(s.logLocalStaticKeys(this.session.hs.s),this.isInitiator){s.logger("Stage 0 - Initiator starting to send first message.");var e=this.xx.sendMessage(this.session,a.Buffer.alloc(0));this.connection.writeLP(o.encode0(e)),s.logger("Stage 0 - Initiator finished sending first message."),s.logLocalEphemeralKeys(this.session.hs.e)}else{s.logger("Stage 0 - Responder waiting to receive first message...");var e=o.decode0((await this.connection.readLP()).slice()),e=this.xx.recvMessage(this.session,e)["valid"];if(!e)throw new Error("xx handshake stage 0 validation fail");s.logger("Stage 0 - Responder received first message."),s.logRemoteEphemeralKey(this.session.hs.re)}}async exchange(){if(this.isInitiator){s.logger("Stage 1 - Initiator waiting to receive first message from responder...");var e=o.decode1((await this.connection.readLP()).slice()),{plaintext:t,valid:r}=this.xx.recvMessage(this.session,e);if(!r)throw new Error("xx handshake stage 1 validation fail");s.logger("Stage 1 - Initiator received the message."),s.logRemoteEphemeralKey(this.session.hs.re),s.logRemoteStaticKey(this.session.hs.rs),s.logger("Initiator going to check remote's signature...");try{var n=await i.decodePayload(t);this.remotePeer=this.remotePeer||await i.getPeerIdFromPayload(n),this.remotePeer=await i.verifySignedPayload(e.ns,n,this.remotePeer),this.setRemoteEarlyData(n.data)}catch(e){throw new Error("Error occurred while verifying signed payload: "+e.message)}s.logger("All good with the signature!")}else{s.logger("Stage 1 - Responder sending out first message with signed payload and static key.");n=this.xx.sendMessage(this.session,this.payload);this.connection.writeLP(o.encode1(n)),s.logger("Stage 1 - Responder sent the second handshake message with signed payload."),s.logLocalEphemeralKeys(this.session.hs.e)}}async finish(){if(this.isInitiator){s.logger("Stage 2 - Initiator sending third handshake message.");var e=this.xx.sendMessage(this.session,this.payload);this.connection.writeLP(o.encode2(e)),s.logger("Stage 2 - Initiator sent message with signed payload.")}else{s.logger("Stage 2 - Responder waiting for third handshake message...");var t=o.decode2((await this.connection.readLP()).slice()),{plaintext:e,valid:t}=this.xx.recvMessage(this.session,t);if(!t)throw new Error("xx handshake stage 2 validation fail");s.logger("Stage 2 - Responder received the message, finished handshake.");try{var r=await i.decodePayload(e);this.remotePeer=this.remotePeer||await i.getPeerIdFromPayload(r),await i.verifySignedPayload(this.session.hs.rs,r,this.remotePeer),this.setRemoteEarlyData(r.data)}catch(e){throw new Error("Error occurred while verifying signed payload: "+e.message)}}s.logCipherState(this.session)}encrypt(e,t){t=this.getCS(t);return this.xx.encryptWithAd(t,a.Buffer.alloc(0),e)}decrypt(e,t){t=this.getCS(t,!1);return this.xx.decryptWithAd(t,a.Buffer.alloc(0),e)}getRemoteStaticKey(){return this.session.hs.rs}getCS(e,t=!0){if(!e.cs1||!e.cs2)throw new Error("Handshake not completed properly, cipher state does not exist.");return this.isInitiator?t?e.cs1:e.cs2:t?e.cs2:e.cs1}setRemoteEarlyData(e){e&&(this.remoteEarlyData=a.Buffer.from(e.buffer,e.byteOffset,e.length))}}},85699:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractHandshake=t.MIN_NONCE=void 0;const o=r(48764),a=s(r(57664)),c=s(r(73294)),u=r(15501),h=r(63490),l=r(15995);t.MIN_NONCE=0,t.AbstractHandshake=class{encryptWithAd(e,t,r){r=this.encrypt(e.k,e.n,t,r);return this.setNonce(e,this.incrementNonce(e.n)),r}decryptWithAd(e,t,r){var{plaintext:t,valid:r}=this.decrypt(e.k,e.n,t,r);return this.setNonce(e,this.incrementNonce(e.n)),{plaintext:t,valid:r}}hasKey(e){return!this.isEmptyKey(e.k)}setNonce(e,t){e.n=t}createEmptyKey(){return o.Buffer.alloc(32)}isEmptyKey(e){return this.createEmptyKey().equals(e)}incrementNonce(e){return e+1}nonceToBytes(e){const t=o.Buffer.alloc(12);return t.writeUInt32LE(e,4),t}encrypt(e,t,r,n){t=this.nonceToBytes(t),r=new u.ChaCha20Poly1305(e).seal(t,n,r);return o.Buffer.from(r.buffer,r.byteOffset,r.length)}encryptAndHash(e,t){t=this.hasKey(e.cs)?this.encryptWithAd(e.cs,e.h,t):t;return this.mixHash(e,t),t}decrypt(e,t,r,n){t=this.nonceToBytes(t),r=new u.ChaCha20Poly1305(e).open(t,n,r);return r?{plaintext:o.Buffer.from(r.buffer,r.byteOffset,r.length),valid:!0}:{plaintext:o.Buffer.from(""),valid:!1}}decryptAndHash(e,t){let r,n=!0;return this.hasKey(e.cs)?{plaintext:r,valid:n}=this.decryptWithAd(e.cs,e.h,t):r=t,this.mixHash(e,t),{plaintext:r,valid:n}}dh(e,t){try{const r=a.sharedKey(e,t),n=o.Buffer.from(r.buffer,r.byteOffset,r.length),i=o.Buffer.alloc(32);return n.copy(i),i}catch(e){return l.logger(e.message),o.Buffer.alloc(32)}}mixHash(e,t){e.h=this.getHash(e.h,t)}getHash(e,t){t=c.hash(o.Buffer.from([...e,...t]));return o.Buffer.from(t.buffer,t.byteOffset,t.length)}mixKey(e,t){var[r,t]=h.getHkdf(e.ck,t);e.cs=this.initializeKey(t),e.ck=r}initializeKey(e){return{k:e,n:t.MIN_NONCE}}initializeSymmetric(e){var t=o.Buffer.from(e,"utf-8"),r=this.hashProtocolName(t),e=r,t=this.createEmptyKey();return{cs:this.initializeKey(t),ck:e,h:r}}hashProtocolName(e){if(e.length<=32){var t=o.Buffer.alloc(32);return e.copy(t),t}return this.getHash(e,o.Buffer.alloc(0))}split(e){var[t,e]=h.getHkdf(e.ck,o.Buffer.alloc(0));return{cs1:this.initializeKey(t),cs2:this.initializeKey(e)}}writeMessageRegular(e,t){t=this.encryptWithAd(e,o.Buffer.alloc(0),t);return{ne:this.createEmptyKey(),ns:o.Buffer.alloc(0),ciphertext:t}}readMessageRegular(e,t){return this.decryptWithAd(e,o.Buffer.alloc(0),t.ciphertext)}}},72371:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IK=void 0;const c=r(48764),s=r(63490),n=r(85699);class i extends n.AbstractHandshake{initSession(e,t,r,n){var i=this.createEmptyKey();return{hs:e?this.initializeInitiator(t,r,n,i):this.initializeResponder(t,r,n,i),i:e,mc:0}}sendMessage(e,t){let r;if(0===e.mc)r=this.writeMessageA(e.hs,t);else if(1===e.mc){var{messageBuffer:n,h:i,cs1:s,cs2:o}=this.writeMessageB(e.hs,t);r=n,e.h=i,e.cs1=s,e.cs2=o}else{if(!(1<e.mc))throw new Error("Session invalid.");if(e.i){if(!e.cs1)throw new Error("CS1 (cipher state) is not defined");r=this.writeMessageRegular(e.cs1,t)}else{if(!e.cs2)throw new Error("CS2 (cipher state) is not defined");r=this.writeMessageRegular(e.cs2,t)}}return e.mc++,r}recvMessage(e,t){let r=c.Buffer.alloc(0),n=!1;if(0===e.mc&&({plaintext:r,valid:n}=this.readMessageA(e.hs,t)),1===e.mc){const{plaintext:c,valid:i,h:s,cs1:o,cs2:a}=this.readMessageB(e.hs,t);r=c,n=i,e.h=s,e.cs1=o,e.cs2=a}return e.mc++,{plaintext:r,valid:n}}writeMessageA(e,t){e.e=s.generateKeypair();var r=e.e.publicKey;this.mixHash(e.ss,r),this.mixKey(e.ss,this.dh(e.e.privateKey,e.rs));var n=c.Buffer.from(e.s.publicKey),n=this.encryptAndHash(e.ss,n);return this.mixKey(e.ss,this.dh(e.s.privateKey,e.rs)),{ne:r,ns:n,ciphertext:this.encryptAndHash(e.ss,t)}}writeMessageB(e,t){e.e=s.generateKeypair();var r=e.e.publicKey;this.mixHash(e.ss,r),this.mixKey(e.ss,this.dh(e.e.privateKey,e.re)),this.mixKey(e.ss,this.dh(e.e.privateKey,e.rs));var n=this.encryptAndHash(e.ss,t),t={ne:r,ns:this.createEmptyKey(),ciphertext:n},{cs1:r,cs2:n}=this.split(e.ss);return{messageBuffer:t,cs1:r,cs2:n,h:e.ss.h}}readMessageA(e,t){s.isValidPublicKey(t.ne)&&(e.re=t.ne),this.mixHash(e.ss,e.re),this.mixKey(e.ss,this.dh(e.s.privateKey,e.re));var{plaintext:r,valid:n}=this.decryptAndHash(e.ss,t.ns);n&&32===r.length&&s.isValidPublicKey(r)&&(e.rs=r),this.mixKey(e.ss,this.dh(e.s.privateKey,e.rs));var{plaintext:e,valid:t}=this.decryptAndHash(e.ss,t.ciphertext);return{plaintext:e,valid:n&&t}}readMessageB(e,t){if(s.isValidPublicKey(t.ne)&&(e.re=t.ne),this.mixHash(e.ss,e.re),!e.e)throw new Error("Handshake state should contain ephemeral key by now.");this.mixKey(e.ss,this.dh(e.e.privateKey,e.re)),this.mixKey(e.ss,this.dh(e.s.privateKey,e.re));var{plaintext:r,valid:n}=this.decryptAndHash(e.ss,t.ciphertext),{cs1:i,cs2:t}=this.split(e.ss);return{h:e.ss.h,valid:n,plaintext:r,cs1:i,cs2:t}}initializeInitiator(e,t,r,n){var i=this.initializeSymmetric("Noise_IK_25519_ChaChaPoly_SHA256");return this.mixHash(i,e),this.mixHash(i,r),{ss:i,s:t,rs:r,re:c.Buffer.alloc(32),psk:n}}initializeResponder(e,t,r,n){var i=this.initializeSymmetric("Noise_IK_25519_ChaChaPoly_SHA256");return this.mixHash(i,e),this.mixHash(i,t.publicKey),{ss:i,s:t,rs:r,re:c.Buffer.alloc(32),psk:n}}}t.IK=i},72950:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XX=void 0;const c=r(48764),o=r(63490),n=r(85699);class i extends n.AbstractHandshake{initializeInitiator(e,t,r,n){var i=this.initializeSymmetric("Noise_XX_25519_ChaChaPoly_SHA256");return this.mixHash(i,e),{ss:i,s:t,rs:r,psk:n,re:c.Buffer.alloc(32)}}initializeResponder(e,t,r,n){var i=this.initializeSymmetric("Noise_XX_25519_ChaChaPoly_SHA256");return this.mixHash(i,e),{ss:i,s:t,rs:r,psk:n,re:c.Buffer.alloc(32)}}writeMessageA(e,t,r){var n=c.Buffer.alloc(0);e.e=void 0!==r?r:o.generateKeypair();r=e.e.publicKey;return this.mixHash(e.ss,r),{ne:r,ns:n,ciphertext:this.encryptAndHash(e.ss,t)}}writeMessageB(e,t){e.e=o.generateKeypair();var r=e.e.publicKey;this.mixHash(e.ss,r),this.mixKey(e.ss,this.dh(e.e.privateKey,e.re));var n=c.Buffer.from(e.s.publicKey),n=this.encryptAndHash(e.ss,n);return this.mixKey(e.ss,this.dh(e.s.privateKey,e.re)),{ne:r,ns:n,ciphertext:this.encryptAndHash(e.ss,t)}}writeMessageC(e,t){var r=c.Buffer.from(e.s.publicKey),n=this.encryptAndHash(e.ss,r);this.mixKey(e.ss,this.dh(e.s.privateKey,e.re));var r=this.encryptAndHash(e.ss,t),t={ne:this.createEmptyKey(),ns:n,ciphertext:r},{cs1:n,cs2:r}=this.split(e.ss);return{h:e.ss.h,messageBuffer:t,cs1:n,cs2:r}}readMessageA(e,t){return o.isValidPublicKey(t.ne)&&(e.re=t.ne),this.mixHash(e.ss,e.re),this.decryptAndHash(e.ss,t.ciphertext)}readMessageB(e,t){if(o.isValidPublicKey(t.ne)&&(e.re=t.ne),this.mixHash(e.ss,e.re),!e.e)throw new Error("Handshake state `e` param is missing.");this.mixKey(e.ss,this.dh(e.e.privateKey,e.re));var{plaintext:r,valid:n}=this.decryptAndHash(e.ss,t.ns);n&&32===r.length&&o.isValidPublicKey(r)&&(e.rs=r),this.mixKey(e.ss,this.dh(e.e.privateKey,e.rs));var{plaintext:e,valid:t}=this.decryptAndHash(e.ss,t.ciphertext);return{plaintext:e,valid:n&&t}}readMessageC(e,t){var{plaintext:r,valid:n}=this.decryptAndHash(e.ss,t.ns);if(n&&32===r.length&&o.isValidPublicKey(r)&&(e.rs=r),!e.e)throw new Error("Handshake state `e` param is missing.");this.mixKey(e.ss,this.dh(e.e.privateKey,e.rs));var{plaintext:i,valid:s}=this.decryptAndHash(e.ss,t.ciphertext),{cs1:r,cs2:t}=this.split(e.ss);return{h:e.ss.h,plaintext:i,valid:n&&s,cs1:r,cs2:t}}initSession(e,t,r){var n=this.createEmptyKey(),i=c.Buffer.alloc(32);return{hs:e?this.initializeInitiator(t,r,i,n):this.initializeResponder(t,r,i,n),i:e,mc:0}}sendMessage(e,t,r){let n;if(0===e.mc)n=this.writeMessageA(e.hs,t,r);else if(1===e.mc)n=this.writeMessageB(e.hs,t);else if(2===e.mc){const{h:r,messageBuffer:i,cs1:s,cs2:o}=this.writeMessageC(e.hs,t);n=i,e.h=r,e.cs1=s,e.cs2=o}else{if(!(2<e.mc))throw new Error("Session invalid.");if(e.i){if(!e.cs1)throw new Error("CS1 (cipher state) is not defined");n=this.writeMessageRegular(e.cs1,t)}else{if(!e.cs2)throw new Error("CS2 (cipher state) is not defined");n=this.writeMessageRegular(e.cs2,t)}}return e.mc++,n}recvMessage(e,t){let r=c.Buffer.alloc(0),n=!1;if(0===e.mc)({plaintext:r,valid:n}=this.readMessageA(e.hs,t));else if(1===e.mc)({plaintext:r,valid:n}=this.readMessageB(e.hs,t));else if(2===e.mc){const{h:c,plaintext:i,valid:s,cs1:o,cs2:a}=this.readMessageC(e.hs,t);r=i,n=s,e.h=c,e.cs1=o,e.cs2=a}return e.mc++,{plaintext:r,valid:n}}}t.XX=i},94591:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.NOISE=void 0;const s=r(36468);i(r(36468),t),t.NOISE=new s.Noise},88065:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyCache=void 0;var r=new class{constructor(){this.storage=new Map}store(e,t){this.storage.set(e.id,t)}load(e){var t;return e&&null!==(t=this.storage.get(e.id))&&void 0!==t?t:null}resetStorage(){this.storage.clear()}};t.KeyCache=r},15995:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.logCipherState=t.logRemoteEphemeralKey=t.logRemoteStaticKey=t.logLocalEphemeralKeys=t.logLocalStaticKeys=t.logger=void 0;const i=n(r(91930)),s=r(67951);let o;t.logger=i.default("libp2p:noise"),o=s.DUMP_SESSION_KEYS?t.logger:()=>{},t.logLocalStaticKeys=function(e){o("LOCAL_STATIC_PUBLIC_KEY "+e.publicKey.toString("hex")),o("LOCAL_STATIC_PRIVATE_KEY "+e.privateKey.toString("hex"))},t.logLocalEphemeralKeys=function(e){e?(o("LOCAL_PUBLIC_EPHEMERAL_KEY "+e.publicKey.toString("hex")),o("LOCAL_PRIVATE_EPHEMERAL_KEY "+e.privateKey.toString("hex"))):o("Missing local ephemeral keys.")},t.logRemoteStaticKey=function(e){o("REMOTE_STATIC_PUBLIC_KEY "+e.toString("hex"))},t.logRemoteEphemeralKey=function(e){o("REMOTE_EPHEMERAL_PUBLIC_KEY "+e.toString("hex"))},t.logCipherState=function(e){e.cs1&&e.cs2?(o(`CIPHER_STATE_1 ${e.cs1.n} `+e.cs1.k.toString("hex")),o(`CIPHER_STATE_2 ${e.cs2.n} `+e.cs2.k.toString("hex"))):o("Missing cipher state.")}},36468:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Noise=void 0;const a=s(r(57664)),c=r(48764),u=o(r(11712)),h=o(r(63184)),l=o(r(96653)),d=o(r(60618)),f=r(48963),p=r(97313),y=r(12253),g=r(52226),m=r(63490),b=r(86408),v=r(9129),w=r(88065),_=r(15995),E=r(67951);t.Noise=class{constructor(e,t){if(this.protocol="/noise",this.prologue=c.Buffer.alloc(0),this.earlyData=null!=t?t:c.Buffer.alloc(0),this.useNoisePipes=!1,e){const t=a.generateKeyPairFromSeed(e);this.staticKeys={privateKey:c.Buffer.from(t.secretKey.buffer,t.secretKey.byteOffset,t.secretKey.length),publicKey:c.Buffer.from(t.publicKey.buffer,t.publicKey.byteOffset,t.publicKey.length)}}else this.staticKeys=m.generateKeypair()}async secureOutbound(e,t,r){t=u.default(t,{lengthEncoder:b.uint16BEEncode,lengthDecoder:b.uint16BEDecode,maxDataLength:E.NOISE_MSG_MAX_LENGTH_BYTES}),r=await this.performHandshake({connection:t,isInitiator:!0,localPeer:e,remotePeer:r});return{conn:await this.createSecureConnection(t,r),remoteEarlyData:r.remoteEarlyData,remotePeer:r.remotePeer}}async secureInbound(e,t,r){t=u.default(t,{lengthEncoder:b.uint16BEEncode,lengthDecoder:b.uint16BEDecode,maxDataLength:E.NOISE_MSG_MAX_LENGTH_BYTES}),r=await this.performHandshake({connection:t,isInitiator:!1,localPeer:e,remotePeer:r});return{conn:await this.createSecureConnection(t,r),remoteEarlyData:r.remoteEarlyData,remotePeer:r.remotePeer}}async performHandshake(t){var r,n=await m.getPayload(t.localPeer,this.staticKeys.publicKey,this.earlyData);let e=this.useNoisePipes;if(t.isInitiator&&null===w.KeyCache.load(t.remotePeer)&&(e=!1),!e)return this.performXXHandshake(t,n);{const{remotePeer:e,connection:i,isInitiator:s}=t,o=new y.IKHandshake(s,n,this.prologue,this.staticKeys,i,null!==(r=w.KeyCache.load(t.remotePeer))&&void 0!==r?r:c.Buffer.alloc(32),e);try{return await this.performIKHandshake(o)}catch(r){let e;return t.isInitiator&&(e=o.getLocalEphemeralKeys()),this.performXXFallbackHandshake(t,n,r.initialMsg,e)}}}async performXXFallbackHandshake(e,t,r,n){const{isInitiator:i,remotePeer:s,connection:o}=e,a=new g.XXFallbackHandshake(i,t,this.prologue,this.staticKeys,o,r,s,n);try{await a.propose(),await a.exchange(),await a.finish()}catch(e){throw _.logger(e),new Error("Error occurred during XX Fallback handshake: "+e.message)}return a}async performXXHandshake(e,t){const{isInitiator:r,remotePeer:n,connection:i}=e,s=new p.XXHandshake(r,t,this.prologue,this.staticKeys,i,n);try{await s.propose(),await s.exchange(),await s.finish(),this.useNoisePipes&&s.remotePeer&&w.KeyCache.store(s.remotePeer,s.getRemoteStaticKey())}catch(e){throw new Error("Error occurred during XX handshake: "+e.message)}return s}async performIKHandshake(e){return await e.stage0(),await e.stage1(),e}async createSecureConnection(e,t){var[r,n]=h.default(),e=e.unwrap();return await d.default(r,l.default,v.encryptStream(t),f.encode({lengthEncoder:b.uint16BEEncode}),e,f.decode({lengthDecoder:b.uint16BEDecode}),l.default,v.decryptStream(t),r),n}}},54566:function(e,t,r){"use strict";var n=[r(62100)];void 0===(r="function"==typeof(r=function(e){var t,s=e.Reader,r=e.Writer,n=e.util,o=e.roots["libp2p-noise"]||(e.roots["libp2p-noise"]={});return o.pb=((t={}).NoiseHandshakePayload=(i.prototype.identityKey=n.newBuffer([]),i.prototype.identitySig=n.newBuffer([]),i.prototype.data=n.newBuffer([]),i.create=function(e){return new i(e)},i.encode=function(e,t){return t=t||r.create(),null!=e.identityKey&&Object.hasOwnProperty.call(e,"identityKey")&&t.uint32(10).bytes(e.identityKey),null!=e.identitySig&&Object.hasOwnProperty.call(e,"identitySig")&&t.uint32(18).bytes(e.identitySig),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(26).bytes(e.data),t},i.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},i.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.pb.NoiseHandshakePayload;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.identityKey=e.bytes();break;case 2:n.identitySig=e.bytes();break;case 3:n.data=e.bytes();break;default:e.skipType(7&i)}}return n},i.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},i.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.identityKey&&e.hasOwnProperty("identityKey")&&!(e.identityKey&&"number"==typeof e.identityKey.length||n.isString(e.identityKey))?"identityKey: buffer expected":null!=e.identitySig&&e.hasOwnProperty("identitySig")&&!(e.identitySig&&"number"==typeof e.identitySig.length||n.isString(e.identitySig))?"identitySig: buffer expected":null!=e.data&&e.hasOwnProperty("data")&&!(e.data&&"number"==typeof e.data.length||n.isString(e.data))?"data: buffer expected":null},i.fromObject=function(e){if(e instanceof o.pb.NoiseHandshakePayload)return e;var t=new o.pb.NoiseHandshakePayload;return null!=e.identityKey&&("string"==typeof e.identityKey?n.base64.decode(e.identityKey,t.identityKey=n.newBuffer(n.base64.length(e.identityKey)),0):e.identityKey.length&&(t.identityKey=e.identityKey)),null!=e.identitySig&&("string"==typeof e.identitySig?n.base64.decode(e.identitySig,t.identitySig=n.newBuffer(n.base64.length(e.identitySig)),0):e.identitySig.length&&(t.identitySig=e.identitySig)),null!=e.data&&("string"==typeof e.data?n.base64.decode(e.data,t.data=n.newBuffer(n.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),t},i.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(t.bytes===String?r.identityKey="":(r.identityKey=[],t.bytes!==Array&&(r.identityKey=n.newBuffer(r.identityKey))),t.bytes===String?r.identitySig="":(r.identitySig=[],t.bytes!==Array&&(r.identitySig=n.newBuffer(r.identitySig))),t.bytes===String?r.data="":(r.data=[],t.bytes!==Array&&(r.data=n.newBuffer(r.data)))),null!=e.identityKey&&e.hasOwnProperty("identityKey")&&(r.identityKey=t.bytes===String?n.base64.encode(e.identityKey,0,e.identityKey.length):t.bytes===Array?Array.prototype.slice.call(e.identityKey):e.identityKey),null!=e.identitySig&&e.hasOwnProperty("identitySig")&&(r.identitySig=t.bytes===String?n.base64.encode(e.identitySig,0,e.identitySig.length):t.bytes===Array?Array.prototype.slice.call(e.identitySig):e.identitySig),null!=e.data&&e.hasOwnProperty("data")&&(r.data=t.bytes===String?n.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),r},i.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},i),t),o;function i(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}})?r.apply(t,n):r)||(e.exports=r)},63490:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isValidPublicKey=t.getHkdf=t.verifySignedPayload=t.getHandshakePayload=t.decodePayload=t.getPeerIdFromPayload=t.signPayload=t.createHandshakePayload=t.getPayload=t.generateKeypair=void 0;const a=r(512),c=r(73294),u=s(r(57664)),h=r(48764),l=o(r(88785)),d=r(93399),f=r(54566),p=o(r(92203)),y=f.pb.NoiseHandshakePayload;function g(e,t,r){r=y.create({identityKey:h.Buffer.from(e),identitySig:t,data:null!=r?r:null});return h.Buffer.from(y.encode(r).finish())}async function m(e,t){return h.Buffer.from(await e.privKey.sign(t))}function b(e){return h.Buffer.concat([h.Buffer.from("noise-libp2p-static-key:"),e])}t.generateKeypair=function(){var e=u.generateKeyPair();return{publicKey:h.Buffer.from(e.publicKey.buffer,e.publicKey.byteOffset,e.publicKey.length),privateKey:h.Buffer.from(e.secretKey.buffer,e.secretKey.byteOffset,e.secretKey.length)}},t.getPayload=async function(e,t,r){t=await m(e,b(t)),r=null!=r?r:h.Buffer.alloc(0);return g(e.marshalPubKey(),t,r)},t.createHandshakePayload=g,t.signPayload=m,t.getPeerIdFromPayload=async function(e){return l.default.createFromPubKey(h.Buffer.from(e.identityKey))},t.decodePayload=function(e){return y.toObject(y.decode(h.Buffer.from(e)))},t.getHandshakePayload=b,t.verifySignedPayload=async function(e,t,r){var n=h.Buffer.from(t.identityKey);if(!await async function(e,t){t=await l.default.createFromPubKey(t);return p.default(t.id,e)}(r.id,n))throw new Error("Peer ID doesn't match libp2p public key.");const i=b(e),s=d.keys.unmarshalPublicKey(n);if(!t.identitySig||!s.verify(i,h.Buffer.from(t.identitySig)))throw new Error("Static key doesn't match to peer that signed payload!");return l.default.createFromPubKey(n)},t.getHkdf=function(e,t){const r=new a.HKDF(c.SHA256,t,e).expand(96),n=h.Buffer.from(r.buffer,r.byteOffset,r.length);return[n.slice(0,32),n.slice(32,64),n.slice(64,96)]},t.isValidPublicKey=function(e){return!!h.Buffer.isBuffer(e)&&32===e.length}},91930:(t,r,e)=>{r.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");let t=0,r=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(t++,"%c"===e&&(r=t))}),e.splice(r,0,n)}},r.save=function(e){try{e?r.storage.setItem("debug",e):r.storage.removeItem("debug")}catch(e){}},r.load=function(){let e;try{e=r.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},r.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},r.storage=function(){try{return localStorage}catch(e){}}(),r.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],r.log=console.debug||console.log||(()=>{}),t.exports=e(65345)(r);const n=t.exports["formatters"];n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},65345:(e,t,n)=>{e.exports=function(t){function a(e){let r,t,n,i=null;function o(...i){if(o.enabled){const s=o,e=Number(new Date),t=e-(r||e);s.diff=t,s.prev=r,s.curr=e,r=e,i[0]=a.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");let n=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(e,t)=>{if("%%"===e)return"%";n++;const r=a.formatters[t];if("function"==typeof r){const a=i[n];e=r.call(s,a),i.splice(n,1),n--}return e}),a.formatArgs.call(s,i),(s.log||a.log).apply(s,i)}}return o.namespace=e,o.useColors=a.useColors(),o.color=a.selectColor(e),o.extend=s,o.destroy=a.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(t!==a.namespaces&&(t=a.namespaces,n=a.enabled(e)),n),set:e=>{i=e}}),"function"==typeof a.init&&a.init(o),o}function s(e,t){const r=a(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return((a.debug=a).default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},a.disable=function(){var e=[...a.names.map(r),...a.skips.map(r).map(e=>"-"+e)].join(",");return a.enable(""),e},a.enable=function(e){let t;a.save(e),a.namespaces=e,a.names=[],a.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length;for(t=0;t<n;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+e.substr(1)+"$")):a.names.push(new RegExp("^"+e+"$")))},a.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=a.skips.length;t<r;t++)if(a.skips[t].test(e))return!1;for(t=0,r=a.names.length;t<r;t++)if(a.names[t].test(e))return!0;return!1},a.humanize=n(85803),a.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(e=>{a[e]=t[e]}),a.names=[],a.skips=[],a.formatters={},a.selectColor=function(t){let r=0;for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return a.colors[Math.abs(r)%a.colors.length]},a.enable(a.load()),a}},29667:e=>{"use strict";function i(e,t){for(const r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}e.exports=function(e,t,r){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");r=r||{},"object"==typeof t&&(r=t,t=""),t&&(r.code=t);try{return i(e,r)}catch(t){r.message=e.message,r.stack=e.stack;var n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(e)),i(new n,r)}}},13962:(e,t,r)=>{"use strict";const n=r(29667),i={16:"aes-128-ctr",32:"aes-256-ctr"};e.exports=function(e){const t=i[e.length];if(t)return t;{const t=Object.entries(i).map(([e,t])=>e+` (${t})`).join(" / ");throw n(new Error(`Invalid key length ${e.length} bytes. Must be `+t),"ERR_INVALID_KEY_LENGTH")}}},97970:(e,t,r)=>{"use strict";r(8925);const i=r(3832),s=r(81151)["toString"],o=r(88007)["fromString"];e.exports={createCipheriv:(e,t,r)=>{const n=i.cipher.createCipher("AES-CTR",s(t,"ascii"));return n.start({iv:s(r,"ascii")}),{update:e=>(n.update(i.util.createBuffer(s(e,"ascii"))),o(n.output.getBytes(),"ascii"))}},createDecipheriv:(e,t,r)=>{const n=i.cipher.createDecipher("AES-CTR",s(t,"ascii"));return n.start({iv:s(r,"ascii")}),{update:e=>(n.update(i.util.createBuffer(s(e,"ascii"))),o(n.output.getBytes(),"ascii"))}}}},52640:(e,t,r)=>{"use strict";const s=r(97970),o=r(13962);t.create=async function(e,t){const r=o(e),n=s.createCipheriv(r,e,t),i=s.createDecipheriv(r,e,t);return{encrypt:async e=>n.update(e),decrypt:async e=>i.update(e)}}},51614:(e,t,r)=>{"use strict";const d=r(38069)["concat"],f=r(88007)["fromString"],n=r(73953);e.exports={create:function({algorithm:s="AES-GCM",nonceLength:o=12,keyLength:a=16,digest:c="SHA-256",saltLength:u=16,iterations:h=32767}={}){const l=n.get();return a*=8,{encrypt:async function(e,t){var r=l.getRandomValues(new Uint8Array(u)),n=l.getRandomValues(new Uint8Array(o)),i={name:s,iv:n},n={name:"PBKDF2",salt:r,iterations:h,hash:{name:c}},t=await l.subtle.importKey("raw",f(t),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),t=await l.subtle.deriveKey(n,t,{name:s,length:a},!0,["encrypt"]),e=await l.subtle.encrypt(i,t,e);return d([r,i.iv,new Uint8Array(e)])},decrypt:async function(e,t){var r=e.slice(0,u),n=e.slice(u,u+o),e=e.slice(u+o),n={name:s,iv:n},r={name:"PBKDF2",salt:r,iterations:h,hash:{name:c}},t=await l.subtle.importKey("raw",f(t),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),t=await l.subtle.deriveKey(r,t,{name:s,length:a},!0,["decrypt"]),e=await l.subtle.decrypt(n,t,e);return new Uint8Array(e)}}}}},74125:(e,t,r)=>{"use strict";const i=r(73953),s=r(15680),o={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"};t.create=async function(e,t){const r=o[e],n=await i.get().subtle.importKey("raw",t,{name:"HMAC",hash:{name:r}},!1,["sign"]);return{digest:async e=>(async(e,t)=>{t=await i.get().subtle.sign({name:"HMAC"},e,t);return new Uint8Array(t,t.byteOffset,t.byteLength)})(n,e),length:s[e]}}},15680:e=>{"use strict";e.exports={SHA1:20,SHA256:32,SHA512:64}},93399:(e,t,r)=>{"use strict";var n=r(74125),i=r(52640),s=r(67303);t.aes=i,t.hmac=n,t.keys=s,t.randomBytes=r(10687),t.pbkdf2=r(60517)},23331:(e,t,r)=>{"use strict";const n=r(29667),i=r(73953),s=r(23770)["base64urlToBuffer"],o=r(54696),a=r(81151)["toString"],c=r(38069)["concat"],u=r(83745)["equals"],h={"P-256":256,"P-384":384,"P-521":521};t.generateEphmeralKeyPair=async function(r){o(Object.keys(h),r);const n=await i.get().subtle.generateKey({name:"ECDH",namedCurve:r},!0,["deriveBits"]);return{key:(e=await i.get().subtle.exportKey("jwk",n.publicKey),t=l[e.crv],c([Uint8Array.from([4]),s(e.x,t),s(e.y,t)],1+2*t)),genSharedKey:async(e,t)=>{t=t?await i.get().subtle.importKey("jwk",f(r,t),{name:"ECDH",namedCurve:r},!1,["deriveBits"]):n.privateKey,t=[await i.get().subtle.importKey("jwk",d(r,e),{name:"ECDH",namedCurve:r},!1,[]),t],t=await i.get().subtle.deriveBits({name:"ECDH",namedCurve:r,public:t[0]},t[1],h[r]);return new Uint8Array(t,t.byteOffset,t.byteLength)}};var e,t};const l={"P-256":32,"P-384":48,"P-521":66};function d(e,t){var r=l[e];if(u(!t.slice(0,1),Uint8Array.from([4])))throw n(new Error("Cannot unmarshal public key - invalid key format"),"ERR_INVALID_KEY_FORMAT");return{kty:"EC",crv:e,x:a(t.slice(1,r+1),"base64url"),y:a(t.slice(1+r),"base64url"),ext:!0}}const f=(e,t)=>({...d(e,t.public),d:a(t.private,"base64url")})},26156:(e,t,r)=>{"use strict";const n=r(29667),i=r(83745)["equals"],s=r(56155)["sha256"],o=r(99086)["base58btc"],a=r(78103)["identity"],c=r(51135),u=r(42987),h=r(43965);class l{constructor(e){this._key=f(e,c.publicKeyLength)}async verify(e,t){return c.hashAndVerify(this._key,t,e)}marshal(){return this._key}get bytes(){return u.PublicKey.encode({Type:u.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return i(this.bytes,e.bytes)}async hash(){var e=(await s.digest(this.bytes))["bytes"];return e}}class d{constructor(e,t){this._key=f(e,c.privateKeyLength),this._publicKey=f(t,c.publicKeyLength)}async sign(e){return c.hashAndSign(this._key,e)}get public(){return new l(this._publicKey)}marshal(){return this._key}get bytes(){return u.PrivateKey.encode({Type:u.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return i(this.bytes,e.bytes)}async hash(){var e=(await s.digest(this.bytes))["bytes"];return e}async id(){var e=await a.digest(this.public.bytes);return o.encode(e.bytes).substring(1)}async export(e,t="libp2p-key"){if("libp2p-key"===t)return h.export(this.bytes,e);throw n(new Error(`export format '${t}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}function f(e,t){if((e=Uint8Array.from(e||[])).length!==t)throw n(new Error(`Key must be a Uint8Array of length ${t}, got `+e.length),"ERR_INVALID_KEY_TYPE");return e}e.exports={Ed25519PublicKey:l,Ed25519PrivateKey:d,unmarshalEd25519PrivateKey:function(e){if(e.length>c.privateKeyLength){const t=(e=f(e,c.privateKeyLength+c.publicKeyLength)).slice(0,c.privateKeyLength),r=e.slice(c.privateKeyLength,e.length);return new d(t,r)}const t=(e=f(e,c.privateKeyLength)).slice(0,c.privateKeyLength),r=e.slice(c.publicKeyLength);return new d(t,r)},unmarshalEd25519PublicKey:function(e){return e=f(e,c.publicKeyLength),new l(e)},generateKeyPair:async function(){var{privateKey:e,publicKey:t}=await c.generateKey();return new d(e,t)},generateKeyPairFromSeed:async function(e){var{privateKey:t,publicKey:e}=await c.generateKeyFromSeed(e);return new d(t,e)}}},51135:(e,t,r)=>{"use strict";r(80069);const n=r(3832);t.publicKeyLength=n.pki.ed25519.constants.PUBLIC_KEY_BYTE_LENGTH,t.privateKeyLength=n.pki.ed25519.constants.PRIVATE_KEY_BYTE_LENGTH,t.generateKey=async function(){return n.pki.ed25519.generateKeyPair()},t.generateKeyFromSeed=async function(e){return n.pki.ed25519.generateKeyPair({seed:e})},t.hashAndSign=async function(e,t){return n.pki.ed25519.sign({message:t,privateKey:e})},t.hashAndVerify=async function(e,t,r){return n.pki.ed25519.verify({signature:t,message:r,publicKey:e})}},82905:(e,t,r)=>{"use strict";const n=r(23331);e.exports=async e=>n.generateEphmeralKeyPair(e)},43965:(e,t,r)=>{"use strict";const i=r(9885)["base64"],s=r(51614);e.exports={export:async function(e,t){const r=s.create(),n=await r.encrypt(e,t);return i.encode(n)}}},44709:(e,t,r)=>{"use strict";const i=r(9885)["base64"],s=r(51614);e.exports={import:async function(e,t){const r=i.decode(e),n=s.create();return n.decrypt(r,t)}}},67303:(e,t,r)=>{"use strict";const n=r(42987);r(3068),r(97450);const i=r(3832),s=r(29667),o=r(88007)["fromString"],a=r(44709),c={rsa:r(79148),ed25519:r(26156),secp256k1:r(27835)(n,r(10687))},u="secp256k1 support requires libp2p-crypto-secp256k1 package",h="ERR_MISSING_PACKAGE";function l(e){const t=c[e.toLowerCase()];if(t)return t;{const t=Object.keys(c).join(" / ");throw s(new Error(`invalid or unsupported key type ${e}. Must be `+t),"ERR_UNSUPPORTED_KEY_TYPE")}}const d=async e=>{var t=n.PrivateKey.decode(e),r=t.Data;switch(t.Type){case n.KeyType.RSA:return c.rsa.unmarshalRsaPrivateKey(r);case n.KeyType.Ed25519:return c.ed25519.unmarshalEd25519PrivateKey(r);case n.KeyType.Secp256k1:if(c.secp256k1)return c.secp256k1.unmarshalSecp256k1PrivateKey(r);throw s(new Error(u),h);default:l(t.Type)}};e.exports={supportedKeys:c,keysPBM:n,keyStretcher:r(84156),generateEphemeralKeyPair:r(82905),generateKeyPair:async(e,t)=>l(e).generateKeyPair(t),generateKeyPairFromSeed:async(e,t,r)=>{const n=l(e);if("ed25519"!==e.toLowerCase())throw s(new Error("Seed key derivation is unimplemented for RSA or secp256k1"),"ERR_UNSUPPORTED_KEY_DERIVATION_TYPE");return n.generateKeyPairFromSeed(t,r)},unmarshalPublicKey:e=>{var t=n.PublicKey.decode(e),r=t.Data;switch(t.Type){case n.KeyType.RSA:return c.rsa.unmarshalRsaPublicKey(r);case n.KeyType.Ed25519:return c.ed25519.unmarshalEd25519PublicKey(r);case n.KeyType.Secp256k1:if(c.secp256k1)return c.secp256k1.unmarshalSecp256k1PublicKey(r);throw s(new Error(u),h);default:l(t.Type)}},marshalPublicKey:(e,t)=>(l(t=(t||"rsa").toLowerCase()),e.bytes),unmarshalPrivateKey:d,marshalPrivateKey:(e,t)=>(l(t=(t||"rsa").toLowerCase()),e.bytes),import:async(e,t)=>{try{const r=await a.import(e,t);return d(r)}catch(e){}const r=i.pki.decryptRsaPrivateKey(e,t);if(null===r)throw s(new Error("Cannot read the key, most likely the password is wrong or not a RSA key"),"ERR_CANNOT_DECRYPT_PEM");let n=i.asn1.toDer(i.pki.privateKeyToAsn1(r));return n=o(n.getBytes(),"ascii"),c.rsa.unmarshalRsaPrivateKey(n)}}},50933:(e,t,r)=>{"use strict";r(28095);const n=r(3832),i=r(23770)["base64urlToBigInteger"];function s(t,e){return e.map(e=>i(t[e]))}e.exports={jwk2pub:function(e){return n.pki.setRsaPublicKey(...s(e,["n","e"]))},jwk2priv:function(e){return n.pki.setRsaPrivateKey(...s(e,["n","e","d","p","q","dp","dq","qi"]))}}},84156:(e,t,r)=>{"use strict";const m=r(29667),b=r(38069)["concat"],v=r(88007)["fromString"],w=r(74125),_={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};e.exports=async(t,e,r)=>{var n=_[t];if(!n){const e=Object.keys(_).join(" / ");throw m(new Error(`unknown cipher type '${t}'. Must be `+e),"ERR_INVALID_CIPHER_TYPE")}if(!e)throw m(new Error("missing hash type"),"ERR_MISSING_HASH_TYPE");const i=n.keySize,s=n.ivSize,o=v("key expansion"),a=2*(s+i+20),c=await w.create(e,r);let u=await c.digest(o);const h=[];let l=0;for(;l<a;){const t=await c.digest(b([u,o]));let e=t.length;l+e>a&&(e=a-l),h.push(t),l+=e,u=await c.digest(u)}const d=a/2,f=b(h),p=f.slice(0,d),y=f.slice(d,a),g=e=>({iv:e.slice(0,s),cipherKey:e.slice(s,s+i),macKey:e.slice(s+i)});return{k1:g(p),k2:g(y)}}},42987:(e,t,r)=>{"use strict";var n,i=r(62100),s=i.Reader,o=i.Writer,a=i.util,c=i.roots["libp2p-crypto-keys"]||(i.roots["libp2p-crypto-keys"]={});function u(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function h(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}c.KeyType=(n={},(r=Object.create(n))[n[0]="RSA"]=0,r[n[1]="Ed25519"]=1,r[n[2]="Secp256k1"]=2,r),c.PublicKey=(h.prototype.Type=0,h.prototype.Data=a.newBuffer([]),h.encode=function(e,t){return(t=t||o.create()).uint32(8).int32(e.Type),t.uint32(18).bytes(e.Data),t},h.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new c.PublicKey;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Type=e.int32();break;case 2:n.Data=e.bytes();break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Type"))throw a.ProtocolError("missing required 'Type'",{instance:n});if(!n.hasOwnProperty("Data"))throw a.ProtocolError("missing required 'Data'",{instance:n});return n},h.fromObject=function(e){if(e instanceof c.PublicKey)return e;var t=new c.PublicKey;switch(e.Type){case"RSA":case 0:t.Type=0;break;case"Ed25519":case 1:t.Type=1;break;case"Secp256k1":case 2:t.Type=2}return null!=e.Data&&("string"==typeof e.Data?a.base64.decode(e.Data,t.Data=a.newBuffer(a.base64.length(e.Data)),0):e.Data.length&&(t.Data=e.Data)),t},h.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.Type=t.enums===String?"RSA":0,t.bytes===String?r.Data="":(r.Data=[],t.bytes!==Array&&(r.Data=a.newBuffer(r.Data)))),null!=e.Type&&e.hasOwnProperty("Type")&&(r.Type=t.enums===String?c.KeyType[e.Type]:e.Type),null!=e.Data&&e.hasOwnProperty("Data")&&(r.Data=t.bytes===String?a.base64.encode(e.Data,0,e.Data.length):t.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),r},h.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},h),c.PrivateKey=(u.prototype.Type=0,u.prototype.Data=a.newBuffer([]),u.encode=function(e,t){return(t=t||o.create()).uint32(8).int32(e.Type),t.uint32(18).bytes(e.Data),t},u.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new c.PrivateKey;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Type=e.int32();break;case 2:n.Data=e.bytes();break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Type"))throw a.ProtocolError("missing required 'Type'",{instance:n});if(!n.hasOwnProperty("Data"))throw a.ProtocolError("missing required 'Data'",{instance:n});return n},u.fromObject=function(e){if(e instanceof c.PrivateKey)return e;var t=new c.PrivateKey;switch(e.Type){case"RSA":case 0:t.Type=0;break;case"Ed25519":case 1:t.Type=1;break;case"Secp256k1":case 2:t.Type=2}return null!=e.Data&&("string"==typeof e.Data?a.base64.decode(e.Data,t.Data=a.newBuffer(a.base64.length(e.Data)),0):e.Data.length&&(t.Data=e.Data)),t},u.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.Type=t.enums===String?"RSA":0,t.bytes===String?r.Data="":(r.Data=[],t.bytes!==Array&&(r.Data=a.newBuffer(r.Data)))),null!=e.Type&&e.hasOwnProperty("Type")&&(r.Type=t.enums===String?c.KeyType[e.Type]:e.Type),null!=e.Data&&e.hasOwnProperty("Data")&&(r.Data=t.bytes===String?a.base64.encode(e.Data,0,e.Data.length):t.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),r},u.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},u),e.exports=c},34701:(e,t,r)=>{"use strict";const n=r(73953),i=r(10687),s=r(81151)["toString"],o=r(88007)["fromString"];function a(e){return Promise.all([n.get().subtle.exportKey("jwk",e.privateKey),n.get().subtle.exportKey("jwk",e.publicKey)])}t.utils=r(54374),t.generateKey=async function(e){e=await a(await n.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]));return{privateKey:e[0],publicKey:e[1]}},t.unmarshalPrivateKey=async function(e){e=[await n.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),(e=e,await n.get().subtle.importKey("jwk",{kty:e.kty,n:e.n,e:e.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"]))],e=await a({privateKey:e[0],publicKey:e[1]});return{privateKey:e[0],publicKey:e[1]}},t.getRandomValues=i,t.hashAndSign=async function(e,t){e=await n.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),t=await n.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},e,Uint8Array.from(t));return new Uint8Array(t,t.byteOffset,t.byteLength)},t.hashAndVerify=async function(e,t,r){e=await n.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return n.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},e,t,r)};const{jwk2pub:c,jwk2priv:u}=r(50933);function h(e,t,r,n){e=(t?c:u)(e),e=n(s(Uint8Array.from(r),"ascii"),e);return o(e,"ascii")}t.encrypt=function(e,t){return h(e,!0,t,(e,t)=>t.encrypt(e))},t.decrypt=function(e,t){return h(e,!1,t,(e,t)=>t.decrypt(e))}},79148:(e,t,r)=>{"use strict";const n=r(56155)["sha256"],i=r(29667),s=r(83745)["equals"],o=r(81151)["toString"];r(63219),r(80069);const a=r(3832),c=r(34701),u=r(42987),h=r(43965);class l{constructor(e){this._key=e}async verify(e,t){return c.hashAndVerify(this._key,t,e)}marshal(){return c.utils.jwkToPkix(this._key)}get bytes(){return u.PublicKey.encode({Type:u.KeyType.RSA,Data:this.marshal()}).finish()}encrypt(e){return c.encrypt(this._key,e)}equals(e){return s(this.bytes,e.bytes)}async hash(){var e=(await n.digest(this.bytes))["bytes"];return e}}class d{constructor(e,t){this._key=e,this._publicKey=t}genSecret(){return c.getRandomValues(16)}async sign(e){return c.hashAndSign(this._key,e)}get public(){if(!this._publicKey)throw i(new Error("public key not provided"),"ERR_PUBKEY_NOT_PROVIDED");return new l(this._publicKey)}decrypt(e){return c.decrypt(this._key,e)}marshal(){return c.utils.jwkToPkcs1(this._key)}get bytes(){return u.PrivateKey.encode({Type:u.KeyType.RSA,Data:this.marshal()}).finish()}equals(e){return s(this.bytes,e.bytes)}async hash(){var e=(await n.digest(this.bytes))["bytes"];return e}async id(){var e=await this.public.hash();return o(e,"base58btc")}async export(e,t="pkcs-8"){if("pkcs-8"===t){const t=new a.util.ByteBuffer(this.marshal()),r=a.asn1.fromDer(t),n=a.pki.privateKeyFromAsn1(r),i={algorithm:"aes256",count:1e4,saltSize:16,prfAlgorithm:"sha512"};return a.pki.encryptRsaPrivateKey(n,e,i)}if("libp2p-key"===t)return h.export(this.bytes,e);throw i(new Error(`export format '${t}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}e.exports={RsaPublicKey:l,RsaPrivateKey:d,unmarshalRsaPublicKey:function(e){e=c.utils.pkixToJwk(e);return new l(e)},unmarshalRsaPrivateKey:async function(e){e=c.utils.pkcs1ToJwk(e),e=await c.unmarshalPrivateKey(e);return new d(e.privateKey,e.publicKey)},generateKeyPair:async function(e){e=await c.generateKey(e);return new d(e.privateKey,e.publicKey)},fromJwk:async function(e){e=await c.unmarshalPrivateKey(e);return new d(e.privateKey,e.publicKey)}}},54374:(e,t,r)=>{"use strict";r(3068),r(28095);const n=r(3832),{bigIntegerToUintBase64url:i,base64urlToBigInteger:s}=r(23770),o=r(88007)["fromString"],a=r(81151)["toString"];t.pkcs1ToJwk=function(e){e=n.asn1.fromDer(a(e,"ascii")),e=n.pki.privateKeyFromAsn1(e);return{kty:"RSA",n:i(e.n),e:i(e.e),d:i(e.d),p:i(e.p),q:i(e.q),dp:i(e.dP),dq:i(e.dQ),qi:i(e.qInv),alg:"RS256",kid:"2011-04-29"}},t.jwkToPkcs1=function(e){e=n.pki.privateKeyToAsn1({n:s(e.n),e:s(e.e),d:s(e.d),p:s(e.p),q:s(e.q),dP:s(e.dp),dQ:s(e.dq),qInv:s(e.qi)});return o(n.asn1.toDer(e).getBytes(),"ascii")},t.pkixToJwk=function(e){e=n.asn1.fromDer(a(e,"ascii")),e=n.pki.publicKeyFromAsn1(e);return{kty:"RSA",n:i(e.n),e:i(e.e),alg:"RS256",kid:"2011-04-29"}},t.jwkToPkix=function(e){e=n.pki.publicKeyToAsn1({n:s(e.n),e:s(e.e)});return o(n.asn1.toDer(e).getBytes(),"ascii")}},27835:(e,t,s)=>{"use strict";const o=s(56155)["sha256"],a=s(29667),c=s(83745)["equals"],u=s(81151)["toString"],h=s(43965);e.exports=(e,t,r)=>{r=r||s(18549)(t);class n{constructor(e){r.validatePublicKey(e),this._key=e}verify(e,t){return r.hashAndVerify(this._key,t,e)}marshal(){return r.compressPublicKey(this._key)}get bytes(){return e.PublicKey.encode({Type:e.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(e){return c(this.bytes,e.bytes)}async hash(){var e=(await o.digest(this.bytes))["bytes"];return e}}class i{constructor(e,t){this._key=e,this._publicKey=t||r.computePublicKey(e),r.validatePrivateKey(this._key),r.validatePublicKey(this._publicKey)}sign(e){return r.hashAndSign(this._key,e)}get public(){return new n(this._publicKey)}marshal(){return this._key}get bytes(){return e.PrivateKey.encode({Type:e.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(e){return c(this.bytes,e.bytes)}async hash(){var e=(await o.digest(this.bytes))["bytes"];return e}async id(){var e=await this.public.hash();return u(e,"base58btc")}async export(e,t="libp2p-key"){if("libp2p-key"===t)return h.export(this.bytes,e);throw a(new Error(`export format '${t}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}return{Secp256k1PublicKey:n,Secp256k1PrivateKey:i,unmarshalSecp256k1PrivateKey:function(e){return new i(e)},unmarshalSecp256k1PublicKey:function(e){return new n(e)},generateKeyPair:async function(){var e=await r.generateKey();return new i(e)}}}},18549:(e,t,r)=>{"use strict";const n=r(17221),i=r(56155)["sha256"];e.exports=t=>{function r(e){if(!n.privateKeyVerify(e))throw new Error("Invalid private key")}return{generateKey:function(){let e;for(;e=t(32),!n.privateKeyVerify(e););return e},privateKeyLength:32,hashAndSign:async function(e,t){var t=(await i.digest(t))["digest"],e=n.ecdsaSign(t,e);return n.signatureExport(e.signature)},hashAndVerify:async function(e,t,r){var r=(await i.digest(r))["digest"];return t=n.signatureImport(t),n.ecdsaVerify(t,r,e)},compressPublicKey:function(e){if(!n.publicKeyVerify(e))throw new Error("Invalid public key");return n.publicKeyConvert(e,!0)},decompressPublicKey:function(e){return n.publicKeyConvert(e,!1)},validatePrivateKey:r,validatePublicKey:function(e){if(!n.publicKeyVerify(e))throw new Error("Invalid public key")},computePublicKey:function(e){return r(e),n.publicKeyCreate(e)}}}},54696:(e,t,r)=>{"use strict";const n=r(29667);e.exports=function(e,t){if(!e.includes(t)){e=e.join(" / ");throw n(new Error(`Unknown curve: ${t}. Must be `+e),"ERR_INVALID_CURVE")}}},60517:(e,t,r)=>{"use strict";const o=r(98960),a=r(97116),c=r(29667),u={sha1:"sha1","sha2-256":"sha256","sha2-512":"sha512"};e.exports=function(e,t,r,n,i){var s=u[i];if(!s){const e=Object.keys(u).join(" / ");throw c(new Error(`Hash '${i}' is unknown or not supported. Must be `+e),"ERR_UNSUPPORTED_HASH_TYPE")}s=o(e,t,r,n,s);return a.encode64(s)}},10687:(e,t,r)=>{"use strict";const n=r(1914),i=r(29667);e.exports=function(e){if(isNaN(e)||e<=0)throw i(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return n(e)}},23770:(e,t,r)=>{"use strict";r(97116),r(15764);const n=r(3832),i=r(88007)["fromString"],s=r(81151)["toString"],o=r(38069)["concat"];t.bigIntegerToUintBase64url=(e,t)=>{let r=Uint8Array.from(e.abs().toByteArray());if(r=0===r[0]?r.slice(1):r,null!=t){if(r.length>t)throw new Error("byte array longer than desired length");r=o([new Uint8Array(t-r.length),r])}return s(r,"base64url")},t.base64urlToBigInteger=e=>{e=t.base64urlToBuffer(e);return new n.jsbn.BigInteger(s(e,"base16"),16)},t.base64urlToBuffer=(e,t)=>{let r=i(e,"base64urlpad");if(null!=t){if(r.length>t)throw new Error("byte array longer than desired length");r=o([new Uint8Array(t-r.length),r])}return r}},73953:(e,t)=>{"use strict";t.get=(e=self)=>{e=e.crypto||e.msCrypto;if(!e||!e.subtle)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return e}},85803:e=>{function s(e,t,r,n){t=1.5*r<=t;return Math.round(e/r)+" "+n+(t?"s":"")}e.exports=function(r,e){e=e||{};var t,n,i=typeof r;if("string"==i&&0<r.length)return function(e){if(!(100<(e=String(r)).length)){e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(e){var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"weeks":case"week":case"w":return 6048e5*t;case"days":case"day":case"d":return 864e5*t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}(r);if("number"==i&&isFinite(r))return e.long?(n=r,864e5<=(t=Math.abs(n))?s(n,t,864e5,"day"):36e5<=t?s(n,t,36e5,"hour"):6e4<=t?s(n,t,6e4,"minute"):1e3<=t?s(n,t,1e3,"second"):n+" ms"):(t=r,864e5<=(n=Math.abs(t))?Math.round(t/864e5)+"d":36e5<=n?Math.round(t/36e5)+"h":6e4<=n?Math.round(t/6e4)+"m":1e3<=n?Math.round(t/1e3)+"s":t+"ms");throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))}},92203:e=>{"use strict";e.exports=function(t,r){if(t===r)return!0;if(t.byteLength!==r.byteLength)return!1;for(let e=0;e<t.byteLength;e++)if(t[e]!==r[e])return!1;return!0}},21403:(t,r,e)=>{r.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");let t=0,r=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(t++,"%c"===e&&(r=t))}),e.splice(r,0,n)}},r.save=function(e){try{e?r.storage.setItem("debug",e):r.storage.removeItem("debug")}catch(e){}},r.load=function(){let e;try{e=r.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},r.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},r.storage=function(){try{return localStorage}catch(e){}}(),r.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],r.log=console.debug||console.log||(()=>{}),t.exports=e(10270)(r);const n=t.exports["formatters"];n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},10270:(e,t,n)=>{e.exports=function(t){function a(e){let r,t,n,i=null;function o(...i){if(o.enabled){const s=o,e=Number(new Date),t=e-(r||e);s.diff=t,s.prev=r,s.curr=e,r=e,i[0]=a.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");let n=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(e,t)=>{if("%%"===e)return"%";n++;const r=a.formatters[t];if("function"==typeof r){const a=i[n];e=r.call(s,a),i.splice(n,1),n--}return e}),a.formatArgs.call(s,i),(s.log||a.log).apply(s,i)}}return o.namespace=e,o.useColors=a.useColors(),o.color=a.selectColor(e),o.extend=s,o.destroy=a.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(t!==a.namespaces&&(t=a.namespaces,n=a.enabled(e)),n),set:e=>{i=e}}),"function"==typeof a.init&&a.init(o),o}function s(e,t){const r=a(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return((a.debug=a).default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},a.disable=function(){var e=[...a.names.map(r),...a.skips.map(r).map(e=>"-"+e)].join(",");return a.enable(""),e},a.enable=function(e){let t;a.save(e),a.namespaces=e,a.names=[],a.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length;for(t=0;t<n;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+e.substr(1)+"$")):a.names.push(new RegExp("^"+e+"$")))},a.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=a.skips.length;t<r;t++)if(a.skips[t].test(e))return!1;for(t=0,r=a.names.length;t<r;t++)if(a.names[t].test(e))return!0;return!1},a.humanize=n(57372),a.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(e=>{a[e]=t[e]}),a.names=[],a.skips=[],a.formatters={},a.selectColor=function(t){let r=0;for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return a.colors[Math.abs(r)%a.colors.length]},a.enable(a.load()),a}},93490:e=>{"use strict";function i(e,t){for(const r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}e.exports=function(e,t,r){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");r=r||{},"object"==typeof t&&(r=t,t=""),t&&(r.code=t);try{return i(e,r)}catch(t){r.message=e.message,r.stack=e.stack;var n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(e)),i(new n,r)}}},57372:e=>{function s(e,t,r,n){t=1.5*r<=t;return Math.round(e/r)+" "+n+(t?"s":"")}e.exports=function(r,e){e=e||{};var t,n,i=typeof r;if("string"==i&&0<r.length)return function(e){if(!(100<(e=String(r)).length)){e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(e){var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"weeks":case"week":case"w":return 6048e5*t;case"days":case"day":case"d":return 864e5*t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}(r);if("number"==i&&isFinite(r))return e.long?(n=r,864e5<=(t=Math.abs(n))?s(n,t,864e5,"day"):36e5<=t?s(n,t,36e5,"hour"):6e4<=t?s(n,t,6e4,"minute"):1e3<=t?s(n,t,1e3,"second"):n+" ms"):(t=r,864e5<=(n=Math.abs(t))?Math.round(t/864e5)+"d":36e5<=n?Math.round(t/36e5)+"h":6e4<=n?Math.round(t/6e4)+"m":1e3<=n?Math.round(t/1e3)+"s":t+"ms");throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))}},53737:(e,t,r)=>{"use strict";const i=r(81980);function n(e,t){var r=i(e.multiaddr),n=i(t.multiaddr);return r&&!n?1:!r&&n||e.isCertified&&!t.isCertified?-1:!e.isCertified&&t.isCertified?1:0}e.exports.publicAddressesFirst=function(e){return[...e].sort(n)}},52942:e=>{"use strict";e.exports=function(e,r){return e.length===r.length&&r.sort()&&e.sort().every((e,t)=>r[t].equals(e))}},489:(e,t,r)=>{"use strict";const n=r(21403),i=Object.assign(n("libp2p:ip-port-to-multiaddr"),{error:n("libp2p:ip-port-to-multiaddr:err")}),s=r(46584)["Multiaddr"],o=r(93490),{Address4:a,Address6:c}=r(91843),u={ERR_INVALID_IP_PARAMETER:"ERR_INVALID_IP_PARAMETER",ERR_INVALID_PORT_PARAMETER:"ERR_INVALID_PORT_PARAMETER",ERR_INVALID_IP:"ERR_INVALID_IP"};e.exports=function(t,r){if("string"!=typeof t)throw o(new Error("invalid ip provided: "+t),u.ERR_INVALID_IP_PARAMETER);if("string"==typeof r&&(r=parseInt(r)),isNaN(r))throw o(new Error("invalid port provided: "+r),u.ERR_INVALID_PORT_PARAMETER);try{return new a(t),new s(`/ip4/${t}/tcp/`+r)}catch{}try{const e=new c(t);return e.is4()?new s(`/ip4/${e.to4().correctForm()}/tcp/`+r):new s(`/ip6/${t}/tcp/`+r)}catch(e){r=`invalid ip:port for creating a multiaddr: ${t}:`+r;throw i.error(r),o(new Error(r),u.ERR_INVALID_IP)}},e.exports.Errors=u},23830:(e,t,r)=>{"use strict";const n=r(51890);e.exports=function(e){var e=e.nodeAddress()["address"];return n(e)}},81980:(e,t,r)=>{"use strict";const n=r(290);e.exports=function(e){var e=e.nodeAddress()["address"];return n(e)}},15091:(e,t,r)=>{"use strict";const c=r(61623)["source"],u=r(21403)("libp2p:stream:converter");e.exports=function({stream:e,remoteAddr:t,localAddr:r},n={}){const{sink:i,source:s}=e,o={async sink(e){n.signal&&(e=c(e,n.signal));try{await i(e)}catch(e){"aborted"!==e.type&&u(e)}a()},source:n.signal?c(s,n.signal):s,conn:e,localAddr:r,remoteAddr:t,timeline:{open:Date.now(),close:void 0},close:()=>(i(new Uint8Array(0)),a())};function a(){return o.timeline.close||(o.timeline.close=Date.now()),Promise.resolve()}return o}},33298:(e,t,r)=>{var n=r(98648)("simple-peer"),i=r(5177),s=r(61798),o=r(364),a=r(54375),c=r(32114);function u(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}class h extends o.Duplex{constructor(e){if(super(e=Object.assign({allowHalfOpen:!1},e)),this._id=s(4).toString("hex").slice(0,7),this._debug("new peer %o",e),this.channelName=e.initiator?e.channelName||s(20).toString("hex"):null,this.initiator=e.initiator||!1,this.channelConfig=e.channelConfig||h.channelConfig,this.negotiated=this.channelConfig.negotiated,this.config=Object.assign({},h.config,e.config),this.offerOptions=e.offerOptions||{},this.answerOptions=e.answerOptions||{},this.sdpTransform=e.sdpTransform||(e=>e),this.streams=e.streams||(e.stream?[e.stream]:[]),this.trickle=void 0===e.trickle||e.trickle,this.allowHalfTrickle=void 0!==e.allowHalfTrickle&&e.allowHalfTrickle,this.iceCompleteTimeout=e.iceCompleteTimeout||5e3,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=e.wrtc&&"object"==typeof e.wrtc?e.wrtc:i(),!this._wrtc)throw"undefined"==typeof window?c(new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"),"ERR_WEBRTC_SUPPORT"):c(new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!this.negotiated&&!this.initiator,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._firstStable=!0,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(e){return void a(()=>this.destroy(c(e,"ERR_PC_CONSTRUCTOR")))}this._isReactNativeWebrtc="number"==typeof this._pc._peerConnectionId,this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=e=>{this._onIceCandidate(e)},this.initiator||this.negotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=e=>{this._setupData(e)},this.streams&&this.streams.forEach(e=>{this.addStream(e)}),this._pc.ontrack=e=>{this._onTrack(e)},this.initiator&&this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&"open"===this._channel.readyState}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(t){if(this.destroyed)throw c(new Error("cannot signal after peer is destroyed"),"ERR_SIGNALING");if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t={}}this._debug("signal()"),t.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),t.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(t.transceiverRequest.kind,t.transceiverRequest.init)),t.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(t.candidate):this._pendingCandidates.push(t.candidate)),t.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(t)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(e=>{this._addIceCandidate(e)}),this._pendingCandidates=[],"offer"===this._pc.remoteDescription.type&&this._createAnswer())}).catch(e=>{this.destroy(c(e,"ERR_SET_REMOTE_DESCRIPTION"))}),t.sdp||t.candidate||t.renegotiate||t.transceiverRequest||this.destroy(c(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}_addIceCandidate(e){var t=new this._wrtc.RTCIceCandidate(e);this._pc.addIceCandidate(t).catch(e=>{!t.address||t.address.endsWith(".local")?console.warn("Ignoring unsupported ICE candidate."):this.destroy(c(e,"ERR_ADD_ICE_CANDIDATE"))})}send(e){this._channel.send(e)}addTransceiver(e,t){if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(e,t),this._needsNegotiation()}catch(e){this.destroy(c(e,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{transceiverRequest:{kind:e,init:t}})}addStream(t){this._debug("addStream()"),t.getTracks().forEach(e=>{this.addTrack(e,t)})}addTrack(e,t){this._debug("addTrack()");var r=this._senderMap.get(e)||new Map,n=r.get(t);if(n)throw n.removed?c(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):c(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED");n=this._pc.addTrack(e,t),r.set(t,n),this._senderMap.set(e,r),this._needsNegotiation()}replaceTrack(e,t,r){this._debug("replaceTrack()");e=this._senderMap.get(e),r=e?e.get(r):null;if(!r)throw c(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");t&&this._senderMap.set(t,e),null!=r.replaceTrack?r.replaceTrack(t):this.destroy(c(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(e,t){this._debug("removeSender()");var r=this._senderMap.get(e),t=r?r.get(t):null;if(!t)throw c(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{t.removed=!0,this._pc.removeTrack(t)}catch(e){"NS_ERROR_UNEXPECTED"===e.name?this._sendersAwaitingStable.push(t):this.destroy(c(e,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(t){this._debug("removeSenders()"),t.getTracks().forEach(e=>{this.removeTrack(e,t)})}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,a(()=>{this._batchedNegotiation=!1,this._debug("starting batched negotiation"),this.negotiate()}))}negotiate(){this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{renegotiate:!0})),this._isNegotiating=!0}_destroy(e,t){if(this._debug("destroy (error: %s)",e&&(e.message||e)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch(e){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch(e){}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,t(e)}_setupData(e){if(!e.channel)return this.destroy(c(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=e.channel,this._channel.binaryType="arraybuffer","number"==typeof this._channel.bufferedAmountLowThreshold&&(this._channel.bufferedAmountLowThreshold=65536),this.channelName=this._channel.label,this._channel.onmessage=e=>{this._onChannelMessage(e)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()};var t=!(this._channel.onerror=e=>{this.destroy(c(e,"ERR_DATA_CHANNEL"))});this._closingInterval=setInterval(()=>{t=!(!this._channel||"closing"!==this._channel.readyState)&&(t&&this._onChannelClose(),!0)},5e3)}_read(){}_write(e,t,r){if(this.destroyed)return r(c(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(e)}catch(e){return this.destroy(c(e,"ERR_DATA_CHANNEL"))}65536<this._channel.bufferedAmount?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=r):r(null)}else this._debug("write before connect"),this._chunk=e,this._cb=r}_onFinish(){var e;this.destroyed||(e=()=>{setTimeout(()=>this.destroy(),1e3)},this._connected?e():this.once("connect",e))}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(t=>{if(!this.destroyed){this.trickle||this.allowHalfTrickle||(t.sdp=u(t.sdp)),t.sdp=this.sdpTransform(t.sdp);const e=()=>{var e;this.destroyed||(e=this._pc.localDescription||t,this._debug("signal"),this.emit("signal",{type:e.type,sdp:e.sdp}))};this._pc.setLocalDescription(t).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?e():this.once("_iceComplete",e))}).catch(e=>{this.destroy(c(e,"ERR_SET_LOCAL_DESCRIPTION"))})}}).catch(e=>{this.destroy(c(e,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(e=>{e.mid||!e.sender.track||e.requested||(e.requested=!0,this.addTransceiver(e.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(t=>{if(!this.destroyed){this.trickle||this.allowHalfTrickle||(t.sdp=u(t.sdp)),t.sdp=this.sdpTransform(t.sdp);const e=()=>{var e;this.destroyed||(e=this._pc.localDescription||t,this._debug("signal"),this.emit("signal",{type:e.type,sdp:e.sdp}),this.initiator||this._requestMissingTransceivers())};this._pc.setLocalDescription(t).then(()=>{this.destroyed||(this.trickle||this._iceComplete?e():this.once("_iceComplete",e))}).catch(e=>{this.destroy(c(e,"ERR_SET_LOCAL_DESCRIPTION"))})}}).catch(e=>{this.destroy(c(e,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||"failed"===this._pc.connectionState&&this.destroy(c(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){var e,t;this.destroyed||(e=this._pc.iceConnectionState,t=this._pc.iceGatheringState,this._debug("iceStateChange (connection: %s) (gathering: %s)",e,t),this.emit("iceStateChange",e,t),"connected"!==e&&"completed"!==e||(this._pcReady=!0,this._maybeReady()),"failed"===e&&this.destroy(c(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),"closed"===e&&this.destroy(c(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED")))}getStats(r){const i=t=>("[object Array]"===Object.prototype.toString.call(t.values)&&t.values.forEach(e=>{Object.assign(t,e)}),t);0===this._pc.getStats.length||this._isReactNativeWebrtc?this._pc.getStats().then(e=>{var t=[];e.forEach(e=>{t.push(i(e))}),r(null,t)},e=>r(e)):0<this._pc.getStats.length?this._pc.getStats(e=>{var n;this.destroyed||(n=[],e.result().forEach(t=>{var r={};t.names().forEach(e=>{r[e]=t.stat(e)}),r.id=t.id,r.type=t.type,r.timestamp=t.timestamp,n.push(i(r))}),r(null,n))},e=>r(e)):r(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),!this._connected&&!this._connecting&&this._pcReady&&this._channelReady){this._connecting=!0;const a=()=>{this.destroyed||this.getStats((e,t)=>{if(!this.destroyed){var r={},n={},i={},s=!1;(t=e?[]:t).forEach(e=>{"remotecandidate"!==e.type&&"remote-candidate"!==e.type||(r[e.id]=e),"localcandidate"!==e.type&&"local-candidate"!==e.type||(n[e.id]=e),"candidatepair"!==e.type&&"candidate-pair"!==e.type||(i[e.id]=e)});const o=e=>{s=!0;var t=n[e.localCandidateId];t&&(t.ip||t.address)?(this.localAddress=t.ip||t.address,this.localPort=Number(t.port)):t&&t.ipAddress?(this.localAddress=t.ipAddress,this.localPort=Number(t.portNumber)):"string"==typeof e.googLocalAddress&&(t=e.googLocalAddress.split(":"),this.localAddress=t[0],this.localPort=Number(t[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");t=r[e.remoteCandidateId];t&&(t.ip||t.address)?(this.remoteAddress=t.ip||t.address,this.remotePort=Number(t.port)):t&&t.ipAddress?(this.remoteAddress=t.ipAddress,this.remotePort=Number(t.portNumber)):"string"==typeof e.googRemoteAddress&&(t=e.googRemoteAddress.split(":"),this.remoteAddress=t[0],this.remotePort=Number(t[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(t.forEach(e=>{"transport"===e.type&&e.selectedCandidatePairId&&o(i[e.selectedCandidatePairId]),("googCandidatePair"===e.type&&"true"===e.googActiveConnection||("candidatepair"===e.type||"candidate-pair"===e.type)&&e.selected)&&o(e)}),s||Object.keys(i).length&&!Object.keys(n).length){if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(e){return this.destroy(c(e,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"'),(0,this._cb)(this._cb=null)}"number"!=typeof this._channel.bufferedAmountLowThreshold&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}else setTimeout(a,100)}})};a()}}_onInterval(){!this._cb||!this._channel||65536<this._channel.bufferedAmount||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||("stable"!==this._pc.signalingState||this._firstStable||(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(e=>{this._pc.removeTrack(e),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation&&(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()),this._debug("negotiate"),this.emit("negotiate")),this._firstStable=!1,this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(e){this.destroyed||(e.candidate&&this.trickle?this.emit("signal",{candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):e.candidate||this._iceComplete||(this._iceComplete=!0,this.emit("_iceComplete")),e.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(e){this.destroyed||((e=e.data)instanceof ArrayBuffer&&(e=new Uint8Array(e)),this.push(e))}_onChannelBufferedAmountLow(){!this.destroyed&&this._cb&&(this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount),(0,this._cb)(this._cb=null))}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(e){this.destroyed||e.streams.forEach(t=>{this._debug("on track"),this.emit("track",e.track,t),this._remoteTracks.push({track:e.track,stream:t}),this._remoteStreams.some(e=>e.id===t.id)||(this._remoteStreams.push(t),a(()=>{this.emit("stream",t)}))})}_debug(){var e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],n.apply(null,e)}}h.WEBRTC_SUPPORT=!!i(),h.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},h.channelConfig={},e.exports=h},98648:(t,r,e)=>{r.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");let t=0,r=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(t++,"%c"===e&&(r=t))}),e.splice(r,0,n)}},r.save=function(e){try{e?r.storage.setItem("debug",e):r.storage.removeItem("debug")}catch(e){}},r.load=function(){let e;try{e=r.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},r.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},r.storage=function(){try{return localStorage}catch(e){}}(),r.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],r.log=console.debug||console.log||(()=>{}),t.exports=e(12642)(r);const n=t.exports["formatters"];n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},12642:(e,t,n)=>{e.exports=function(t){function a(e){let r,t,n,i=null;function o(...i){if(o.enabled){const s=o,e=Number(new Date),t=e-(r||e);s.diff=t,s.prev=r,s.curr=e,r=e,i[0]=a.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");let n=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(e,t)=>{if("%%"===e)return"%";n++;const r=a.formatters[t];if("function"==typeof r){const a=i[n];e=r.call(s,a),i.splice(n,1),n--}return e}),a.formatArgs.call(s,i),(s.log||a.log).apply(s,i)}}return o.namespace=e,o.useColors=a.useColors(),o.color=a.selectColor(e),o.extend=s,o.destroy=a.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(t!==a.namespaces&&(t=a.namespaces,n=a.enabled(e)),n),set:e=>{i=e}}),"function"==typeof a.init&&a.init(o),o}function s(e,t){const r=a(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return((a.debug=a).default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},a.disable=function(){var e=[...a.names.map(r),...a.skips.map(r).map(e=>"-"+e)].join(",");return a.enable(""),e},a.enable=function(e){let t;a.save(e),a.namespaces=e,a.names=[],a.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length;for(t=0;t<n;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+e.substr(1)+"$")):a.names.push(new RegExp("^"+e+"$")))},a.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=a.skips.length;t<r;t++)if(a.skips[t].test(e))return!1;for(t=0,r=a.names.length;t<r;t++)if(a.names[t].test(e))return!0;return!1},a.humanize=n(69902),a.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(e=>{a[e]=t[e]}),a.names=[],a.skips=[],a.formatters={},a.selectColor=function(t){let r=0;for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return a.colors[Math.abs(r)%a.colors.length]},a.enable(a.load()),a}},69902:e=>{function s(e,t,r,n){t=1.5*r<=t;return Math.round(e/r)+" "+n+(t?"s":"")}e.exports=function(r,e){e=e||{};var t,n,i=typeof r;if("string"==i&&0<r.length)return function(e){if(!(100<(e=String(r)).length)){e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(e){var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"weeks":case"week":case"w":return 6048e5*t;case"days":case"day":case"d":return 864e5*t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}(r);if("number"==i&&isFinite(r))return e.long?(n=r,864e5<=(t=Math.abs(n))?s(n,t,864e5,"day"):36e5<=t?s(n,t,36e5,"hour"):6e4<=t?s(n,t,6e4,"minute"):1e3<=t?s(n,t,1e3,"second"):n+" ms"):(t=r,864e5<=(n=Math.abs(t))?Math.round(t/864e5)+"d":36e5<=n?Math.round(t/36e5)+"h":6e4<=n?Math.round(t/6e4)+"m":1e3<=n?Math.round(t/1e3)+"s":t+"ms");throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))}},16432:e=>{"use strict";var a={};function t(e,n,t){t=t||Error;var i,r,s,s=(s=i=t,(r=o).prototype=Object.create(s.prototype),(r.prototype.constructor=r).__proto__=s,o);function o(e,t,r){return i.call(this,"string"==typeof n?n:n(e,t,r))||this}s.prototype.name=t.name,s.prototype.code=e,a[e]=s}function c(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(e){return String(e)}),2<r?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}t("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(e,t,r){var n,i,s,o;return"string"==typeof t&&"not "===t.substr(0,"not ".length)?(n="must not be",t=t.replace(/^not /,"")):n="must be",s=e,(void 0===o||o>s.length)&&(o=s.length),(" argument"===s.substring(o-" argument".length,o)?"The ".concat(e," ").concat(n," ").concat(c(t,"type")):(i=(i="number"!=typeof i?0:i)+".".length>e.length||-1===e.indexOf(".",i)?"argument":"property",'The "'.concat(e,'" ').concat(i," ").concat(n," ").concat(c(t,"type"))))+". Received type ".concat(typeof r)},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=a},86063:(e,t,r)=>{"use strict";var n=Object.keys||function(e){var t,r=[];for(t in e)r.push(t);return r};e.exports=u;var i=r(88940),s=r(40533);r(35717)(u,i);for(var o=n(s.prototype),a=0;a<o.length;a++){var c=o[a];u.prototype[c]||(u.prototype[c]=s.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||process.nextTick(l,this)}function l(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},45970:(e,t,r)=>{"use strict";e.exports=i;var n=r(62139);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(35717)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},88940:(e,t,i)=>{"use strict";var n;(e.exports=E).ReadableState=_,i(17187).EventEmitter;function p(e,t){return e.listeners(t).length}var s,r,o,a=i(46411),l=i(48764).Buffer,d=i.g.Uint8Array||function(){},c=i(11651),y=c&&c.debuglog?c.debuglog("stream"):function(){},u=i(20846),e=i(76304),h=i(24929).getHighWaterMark,c=i(16432).q,f=c.ERR_INVALID_ARG_TYPE,g=c.ERR_STREAM_PUSH_AFTER_EOF,m=c.ERR_METHOD_NOT_IMPLEMENTED,b=c.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;i(35717)(E,a);var v=e.errorOrDestroy,w=["error","close","destroy","pause","resume"];function _(e,t,r){n=n||i(86063),"boolean"!=typeof r&&(r=t instanceof n),this.objectMode=!!(e=e||{}).objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=h(this,e,"readableHighWaterMark",r),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(s=s||i(32553).s,this.decoder=new s(e.encoding),this.encoding=e.encoding)}function E(e){if(n=n||i(86063),!(this instanceof E))return new E(e);var t=this instanceof n;this._readableState=new _(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function S(e,t,r,n,i){y("readableAddChunk",t);var s,o,a,c,u,h=e._readableState;if(null===t)h.reading=!1,a=e,c=h,y("onEofChunk"),c.ended||(!c.decoder||(u=c.decoder.end())&&u.length&&(c.buffer.push(u),c.length+=c.objectMode?1:u.length),c.ended=!0,c.sync?I(a):(c.needReadable=!1,c.emittedReadable||(c.emittedReadable=!0,T(a))));else if(i||(a=h,i=s=t,s=o=l.isBuffer(i)||i instanceof d||"string"==typeof s||void 0===s||a.objectMode?o:new f("chunk",["string","Buffer","Uint8Array"],s)),s)v(e,s);else if(h.objectMode||t&&0<t.length)if("string"==typeof t||h.objectMode||Object.getPrototypeOf(t)===l.prototype||(s=t,t=l.from(s)),n)h.endEmitted?v(e,new b):C(e,h,t,!0);else if(h.ended)v(e,new g);else{if(h.destroyed)return!1;h.reading=!1,h.decoder&&!r?(t=h.decoder.write(t),h.objectMode||0!==t.length?C(e,h,t,!1):R(e,h)):C(e,h,t,!1)}else n||(h.reading=!1,R(e,h));return!h.ended&&(h.length<h.highWaterMark||0===h.length)}function C(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&I(e)),R(e,t)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=e.destroy,E.prototype._undestroy=e.undestroy,E.prototype._destroy=function(e,t){t(e)},E.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=l.from(e,t),t=""),r=!0),S(this,e,t,!1,r)},E.prototype.unshift=function(e){return S(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(e){var t=new(s=s||i(32553).s)(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?(t.flowing&&t.length?t.buffer.head.data:t).length:(e>t.highWaterMark&&(t.highWaterMark=(1073741824<=(r=e)?r=1073741824:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),r)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0));var r}function I(e){var t=e._readableState;y("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(y("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(T,e))}function T(e){var t=e._readableState;y("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,D(e)}function R(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(P,e,t))}function P(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(y("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function k(e){var t=e._readableState;t.readableListening=0<e.listenerCount("readable"),t.resumeScheduled&&!t.paused?t.flowing=!0:0<e.listenerCount("data")&&e.resume()}function O(e){y("readable nexttick read 0"),e.read(0)}function M(e,t){y("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;for(y("flow",t.flowing);t.flowing&&null!==e.read(););}function B(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function x(e){var t=e._readableState;y("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(N,t,e))}function N(e,t){y("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)&&(!(e=t._writableState)||e.autoDestroy&&e.finished)&&t.destroy()}function L(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}E.prototype.read=function(e){y("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:0<t.length)||t.ended))return y("read: emitReadable",t.length,t.ended),(0===t.length&&t.ended?x:I)(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&x(this),null;var n=t.needReadable;return y("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&y("length less than watermark",n=!0),t.ended||t.reading?y("reading or ended",n=!1):n&&(y("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(r,t))),null===(n=0<e?B(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&x(this)),null!==n&&this.emit("data",n),n},E.prototype._read=function(e){v(this,new m("_read()"))},E.prototype.pipe=function(n,e){var i=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=n;break;case 1:s.pipes=[s.pipes,n];break;default:s.pipes.push(n)}s.pipesCount+=1,y("pipe count=%d opts=%j",s.pipesCount,e);var t=e&&!1===e.end||n===process.stdout||n===process.stderr?f:o;function o(){y("onend"),n.end()}s.endEmitted?process.nextTick(t):i.once("end",t),n.on("unpipe",function e(t,r){y("onunpipe"),t===i&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,y("cleanup"),n.removeListener("close",l),n.removeListener("finish",d),n.removeListener("drain",a),n.removeListener("error",h),n.removeListener("unpipe",e),i.removeListener("end",o),i.removeListener("end",f),i.removeListener("data",u),c=!0,!s.awaitDrain||n._writableState&&!n._writableState.needDrain||a())});var r,a=(r=i,function(){var e=r._readableState;y("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&p(r,"data")&&(e.flowing=!0,D(r))});n.on("drain",a);var c=!1;function u(e){y("ondata");e=n.write(e);y("dest.write",e),!1===e&&((1===s.pipesCount&&s.pipes===n||1<s.pipesCount&&-1!==L(s.pipes,n))&&!c&&(y("false write response, pause",s.awaitDrain),s.awaitDrain++),i.pause())}function h(e){y("onerror",e),f(),n.removeListener("error",h),0===p(n,"error")&&v(n,e)}function l(){n.removeListener("finish",d),f()}function d(){y("onfinish"),n.removeListener("close",l),f()}function f(){y("unpipe"),i.unpipe(n)}return i.on("data",u),e=h,"function"==typeof(t=n).prependListener?t.prependListener("error",e):t._events&&t._events.error?Array.isArray(t._events.error)?t._events.error.unshift(e):t._events.error=[e,t._events.error]:t.on("error",e),n.once("close",l),n.once("finish",d),n.emit("pipe",i),s.flowing||(y("pipe resume"),i.resume()),n},E.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e=e||t.pipes,t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=L(t.pipes,e);return-1===o||(t.pipes.splice(o,1),--t.pipesCount,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},E.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),t=this._readableState;return"data"===e?(t.readableListening=0<this.listenerCount("readable"),!1!==t.flowing&&this.resume()):"readable"===e&&(t.endEmitted||t.readableListening||(t.readableListening=t.needReadable=!0,t.flowing=!1,t.emittedReadable=!1,y("on readable",t.length,t.reading),t.length?I(this):t.reading||process.nextTick(O,this))),r},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(e,t){t=a.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(k,this),t},E.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(k,this),t},E.prototype.resume=function(){var e,t,r=this._readableState;return r.flowing||(y("resume"),r.flowing=!r.readableListening,e=this,(t=r).resumeScheduled||(t.resumeScheduled=!0,process.nextTick(M,e,t))),r.paused=!1,this},E.prototype.pause=function(){return y("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(y("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(t){var e,r=this,n=this._readableState,i=!1;for(e in t.on("end",function(){var e;y("wrapped end"),n.decoder&&!n.ended&&(e=n.decoder.end())&&e.length&&r.push(e),r.push(null)}),t.on("data",function(e){y("wrapped data"),n.decoder&&(e=n.decoder.write(e)),n.objectMode&&null==e||(n.objectMode||e&&e.length)&&(r.push(e)||(i=!0,t.pause()))}),t)void 0===this[e]&&"function"==typeof t[e]&&(this[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e));for(var s=0;s<w.length;s++)t.on(w[s],this.emit.bind(this,w[s]));return this._read=function(e){y("wrapped _read",e),i&&(i=!1,t.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return(r=void 0===r?i(87554):r)(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),E._fromList=B,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(e,t){return(o=void 0===o?i(93864):o)(E,e,t)})},62139:(e,t,r)=>{"use strict";e.exports=c;var e=r(16432).q,n=e.ERR_METHOD_NOT_IMPLEMENTED,i=e.ERR_MULTIPLE_CALLBACK,s=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=e.ERR_TRANSFORM_WITH_LENGTH_0,a=r(86063);function c(e){if(!(this instanceof c))return new c(e);a.call(this,e),this._transformState={afterTransform:function(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new i);r.writechunk=null,(r.writecb=null)!=t&&this.push(t),n(e),(e=this._readableState).reading=!1,(e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function u(){var r=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush(function(e,t){h(r,e,t)})}function h(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new o;if(e._transformState.transforming)throw new s;return e.push(null)}r(35717)(c,a),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){r(new n("_transform()"))},c.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r,n.writechunk=e,n.writeencoding=t,n.transforming||(t=this._readableState,(n.needTransform||t.needReadable||t.length<t.highWaterMark)&&this._read(t.highWaterMark))},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){a.prototype._destroy.call(this,e,function(e){t(e)})}},40533:(e,t,n)=>{"use strict";function h(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t){var r=e.entry;for(e.entry=null;r;){var n=r.callback;t.pendingcb--,n(void 0),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var i;(e.exports=S).WritableState=E;var r,s={deprecate:n(94927)},o=n(46411),l=n(48764).Buffer,d=n.g.Uint8Array||function(){},a=n(76304),c=n(24929).getHighWaterMark,e=n(16432).q,f=e.ERR_INVALID_ARG_TYPE,u=e.ERR_METHOD_NOT_IMPLEMENTED,p=e.ERR_MULTIPLE_CALLBACK,y=e.ERR_STREAM_CANNOT_PIPE,g=e.ERR_STREAM_DESTROYED,m=e.ERR_STREAM_NULL_VALUES,b=e.ERR_STREAM_WRITE_AFTER_END,v=e.ERR_UNKNOWN_ENCODING,w=a.errorOrDestroy;function _(){}function E(e,t,r){i=i||n(86063),"boolean"!=typeof r&&(r=t instanceof i),this.objectMode=!!(e=e||{}).objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=c(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;r=(this.destroyed=!1)===e.decodeStrings;this.decodeStrings=!r,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r,n,i,s,o=e._writableState,a=o.sync,c=o.writecb;if("function"!=typeof c)throw new p;(s=o).writing=!1,s.writecb=null,s.length-=s.writelen,s.writelen=0,t?(r=e,i=a,s=t,t=c,--(n=o).pendingcb,i?(process.nextTick(t,s),process.nextTick(P,r,n),r._writableState.errorEmitted=!0,w(r,s)):(t(s),r._writableState.errorEmitted=!0,w(r,s),P(r,n))):((n=T(o)||e.destroyed)||o.corked||o.bufferProcessing||!o.bufferedRequest||I(e,o),a?process.nextTick(A,e,o,n,c):A(e,o,n,c))}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new h(this)}function S(e){var t=this instanceof(i=i||n(86063));if(!t&&!r.call(S,this))return new S(e);this._writableState=new E(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),o.call(this)}function C(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new g("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function A(e,t,r,n){var i;r||(i=e,0===(r=t).length&&r.needDrain&&(r.needDrain=!1,i.emit("drain"))),t.pendingcb--,n(),P(e,t)}function I(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),n=t.corkedRequestsFree;n.entry=r;for(var s=0,o=!0;r;)(i[s]=r).isBuf||(o=!1),r=r.next,s+=1;i.allBuffers=o,C(e,t,!0,t.length,i,"",n.finish),t.pendingcb++,t.lastBufferedRequest=null,n.next?(t.corkedRequestsFree=n.next,n.next=null):t.corkedRequestsFree=new h(t),t.bufferedRequestCount=0}else{for(;r;){var a=r.chunk,c=r.encoding,u=r.callback;if(C(e,t,!1,t.objectMode?1:a.length,a,c,u),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function T(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function R(t,r){t._final(function(e){r.pendingcb--,e&&w(t,e),r.prefinished=!0,t.emit("prefinish"),P(t,r)})}function P(e,t){var r,n,i=T(t);return i&&(r=e,(n=t).prefinished||n.finalCalled||("function"!=typeof r._final||n.destroyed?(n.prefinished=!0,r.emit("prefinish")):(n.pendingcb++,n.finalCalled=!0,process.nextTick(R,r,n))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))&&((!(t=e._readableState)||t.autoDestroy&&t.endEmitted)&&e.destroy()),i}n(35717)(S,o),E.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(E.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(r=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!r.call(this,e)||this===S&&e&&e._writableState instanceof E}})):r=function(e){return e instanceof this},S.prototype.pipe=function(){w(this,new y)},S.prototype.write=function(e,t,r){var n,i,s,o,a,c=this._writableState,u=!1,h=!c.objectMode&&(h=e,l.isBuffer(h)||h instanceof d);return h&&!l.isBuffer(e)&&(a=e,e=l.from(a)),"function"==typeof t&&(r=t,t=null),t=h?"buffer":t||c.defaultEncoding,"function"!=typeof r&&(r=_),c.ending?(i=this,s=r,o=new b,w(i,o),process.nextTick(s,o)):!h&&(a=this,i=c,s=r,null===(o=e)?n=new m:"string"==typeof o||i.objectMode||(n=new f("chunk",["string","Buffer"],o)),n&&(w(a,n),process.nextTick(s,n),!0))||(c.pendingcb++,u=function(e,t,r,n,i,s){r||(a=n,c=i,a=t.objectMode||!1===t.decodeStrings||"string"!=typeof a?a:l.from(a,c),n!==a&&(r=!0,i="buffer",n=a));var o=t.objectMode?1:n.length;t.length+=o;var a,c=t.length<t.highWaterMark;return c||(t.needDrain=!0),t.writing||t.corked?(a=t.lastBufferedRequest,t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1):C(e,t,!1,o,n,i,s),c}(this,c,h,e,t,r)),u},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||I(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())))throw new v(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,r){r(new u("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,t=e=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||(t=this,r=r,(n=n).ending=!0,P(t,n),r&&(n.finished?process.nextTick(r):t.once("finish",r)),n.ended=!0,t.writable=!1),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=a.destroy,S.prototype._undestroy=a.undestroy,S.prototype._destroy=function(e,t){t(e)}},87554:(e,t,r)=>{"use strict";function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(27906),o=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),h=Symbol("lastPromise"),l=Symbol("handlePromise"),d=Symbol("stream");function f(e,t){return{value:e,done:t}}function p(e){var t,r=e[o];null===r||null!==(t=e[d].read())&&(e[h]=null,e[o]=null,e[a]=null,r(f(t,!1)))}var n=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((i(r={get stream(){return this[d]},next:function(){var r=this,e=this[c];if(null!==e)return Promise.reject(e);if(this[u])return Promise.resolve(f(void 0,!0));if(this[d].destroyed)return new Promise(function(e,t){process.nextTick(function(){r[c]?t(r[c]):e(f(void 0,!0))})});var t,n,i,e=this[h];if(e)t=new Promise((n=e,i=this,function(e,t){n.then(function(){i[u]?e(f(void 0,!0)):i[l](e,t)},t)}));else{e=this[d].read();if(null!==e)return Promise.resolve(f(e,!1));t=new Promise(this[l])}return this[h]=t}},Symbol.asyncIterator,function(){return this}),i(r,"return",function(){var e=this;return new Promise(function(t,r){e[d].destroy(null,function(e){e?r(e):t(f(void 0,!0))})})}),r),n);e.exports=function(e){var t,n=Object.create(y,(i(t={},d,{value:e,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,l,{value:function(e,t){var r=n[d].read();r?(n[h]=null,n[o]=null,n[a]=null,e(f(r,!1))):(n[o]=e,n[a]=t)},writable:!0}),t));return n[h]=null,s(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[a];return null!==t&&(n[h]=null,n[o]=null,n[a]=null,t(e)),void(n[c]=e)}e=n[o];null!==e&&(n[h]=null,n[o]=null,e(f(void 0,!(n[a]=null)))),n[u]=!0}),e.on("readable",function(e){process.nextTick(p,e)}.bind(null,n)),n}},20846:(e,t,r)=>{"use strict";function s(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}var o=r(48764).Buffer,n=r(57491).inspect,r=n&&n.custom||"inspect";function i(){!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),this.head=null,this.tail=null,this.length=0}e.exports=(r=[{key:"push",value:function(e){e={data:e,next:null};0<this.length?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(e){e={data:e,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t,r,n=o.allocUnsafe(e>>>0),i=this.head,s=0;i;)t=i.data,r=s,o.prototype.copy.call(t,n,r),s+=i.data.length,i=i.next;return n}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?n+=i:n+=i.slice(0,e),0==(e-=s)){s===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t).data=i.slice(s);break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0==(e-=s)){s===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r).data=i.slice(s);break}++n}return this.length-=n,t}},{key:r,value:function(e,t){return n(this,function(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}({},t,{depth:0,customInspect:!1}))}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(i.prototype,r),i)},76304:e=>{"use strict";function s(e,t){a(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(a,this,e)):process.nextTick(a,this,e)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?r._writableState?r._writableState.errorEmitted?process.nextTick(o,r):(r._writableState.errorEmitted=!0,process.nextTick(s,r,e)):process.nextTick(s,r,e):t?(process.nextTick(o,r),t(e)):process.nextTick(o,r)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},27906:(e,t,r)=>{"use strict";var g=r(16432).q.ERR_STREAM_PREMATURE_CLOSE;function m(){}e.exports=function e(t,r,n){if("function"==typeof r)return e(t,null,r);var i,s;i=n||m,s=!1,n=function(){if(!s){s=!0;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i.apply(this,t)}};function o(){t.writable||a()}function a(){p=!(f=!1),d||n.call(t)}function c(){y=!(d=!1),f||n.call(t)}function u(e){n.call(t,e)}function h(){var e;return d&&!y?(t._readableState&&t._readableState.ended||(e=new g),n.call(t,e)):f&&!p?(t._writableState&&t._writableState.ended||(e=new g),n.call(t,e)):void 0}function l(){t.req.on("finish",a)}var d=(r=r||{}).readable||!1!==r.readable&&t.readable,f=r.writable||!1!==r.writable&&t.writable,p=t._writableState&&t._writableState.finished,y=t._readableState&&t._readableState.endEmitted;return t.setHeader&&"function"==typeof t.abort?(t.on("complete",a),t.on("abort",h),t.req?l():t.on("request",l)):f&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",c),t.on("finish",a),!1!==r.error&&t.on("error",u),t.on("close",h),function(){t.removeListener("complete",a),t.removeListener("abort",h),t.removeListener("request",l),t.req&&t.req.removeListener("finish",a),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",a),t.removeListener("end",c),t.removeListener("error",u),t.removeListener("close",h)}}},93864:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},58549:(e,t,c)=>{"use strict";var u,r=c(16432).q,a=r.ERR_MISSING_ARGS,h=r.ERR_STREAM_DESTROYED;function l(e){if(e)throw e}function d(e){e()}function f(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var i,r,s=!(r=n).length||"function"!=typeof r[r.length-1]?l:r.pop();if((n=Array.isArray(n[0])?n[0]:n).length<2)throw new a("streams");var o=n.map(function(e,t){var r=t<n.length-1;return function(t,e,r,n){var i,s;i=n,s=!1;var o=!(n=function(){s||(s=!0,i.apply(void 0,arguments))});t.on("close",function(){o=!0}),(u=void 0===u?c(27906):u)(t,{readable:e,writable:r},function(e){return e?n(e):(o=!0,void n())});var a=!1;return function(e){if(!o&&!a)return a=!0,t.setHeader&&"function"==typeof t.abort?t.abort():"function"==typeof t.destroy?t.destroy():void n(e||new h("pipe"))}}(e,r,0<t,function(e){i=i||e,e&&o.forEach(d),r||(o.forEach(d),s(i))})});return n.reduce(f)}},24929:(e,t,r)=>{"use strict";var i=r(16432).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,n){t=null!=t.highWaterMark?t.highWaterMark:n?t[r]:null;if(null==t)return e.objectMode?16:16384;if(!isFinite(t)||Math.floor(t)!==t||t<0)throw new i(n?r:"highWaterMark",t);return Math.floor(t)}}},46411:(e,t,r)=>{e.exports=r(17187).EventEmitter},364:(e,t,r)=>{(((t=e.exports=r(88940)).Stream=t).Readable=t).Writable=r(40533),t.Duplex=r(86063),t.Transform=r(62139),t.PassThrough=r(45970),t.finished=r(27906),t.pipeline=r(58549)},59951:(e,t,r)=>{"use strict";r.r(t),r.d(t,{decode:()=>o,encode:()=>i});for(var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h="undefined"==typeof Uint8Array?[]:new Uint8Array(256),n=0;n<s.length;n++)h[s.charCodeAt(n)]=n;var i=function(e){for(var t=new Uint8Array(e),r=t.length,n="",i=0;i<r;i+=3)n+=s[t[i]>>2],n+=s[(3&t[i])<<4|t[i+1]>>4],n+=s[(15&t[i+1])<<2|t[i+2]>>6],n+=s[63&t[i+2]];return r%3==2?n=n.substring(0,n.length-1)+"=":r%3==1&&(n=n.substring(0,n.length-2)+"=="),n},o=function(e){var t,r,n,i,s=.75*e.length,o=e.length,a=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);for(var s=new ArrayBuffer(s),c=new Uint8Array(s),u=0;u<o;u+=4)t=h[e.charCodeAt(u)],r=h[e.charCodeAt(u+1)],n=h[e.charCodeAt(u+2)],i=h[e.charCodeAt(u+3)],c[a++]=t<<2|r>>4,c[a++]=(15&r)<<4|n>>2,c[a++]=(3&n)<<6|63&i;return s}},64857:(t,r,e)=>{r.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");let t=0,r=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(t++,"%c"===e&&(r=t))}),e.splice(r,0,n)}},r.save=function(e){try{e?r.storage.setItem("debug",e):r.storage.removeItem("debug")}catch(e){}},r.load=function(){let e;try{e=r.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},r.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},r.storage=function(){try{return localStorage}catch(e){}}(),r.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],r.log=console.debug||console.log||(()=>{}),t.exports=e(36645)(r);const n=t.exports["formatters"];n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},36645:(e,t,n)=>{e.exports=function(t){function a(e){let r,t,n,i=null;function o(...i){if(o.enabled){const s=o,e=Number(new Date),t=e-(r||e);s.diff=t,s.prev=r,s.curr=e,r=e,i[0]=a.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");let n=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(e,t)=>{if("%%"===e)return"%";n++;const r=a.formatters[t];if("function"==typeof r){const a=i[n];e=r.call(s,a),i.splice(n,1),n--}return e}),a.formatArgs.call(s,i),(s.log||a.log).apply(s,i)}}return o.namespace=e,o.useColors=a.useColors(),o.color=a.selectColor(e),o.extend=s,o.destroy=a.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(t!==a.namespaces&&(t=a.namespaces,n=a.enabled(e)),n),set:e=>{i=e}}),"function"==typeof a.init&&a.init(o),o}function s(e,t){const r=a(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return((a.debug=a).default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},a.disable=function(){var e=[...a.names.map(r),...a.skips.map(r).map(e=>"-"+e)].join(",");return a.enable(""),e},a.enable=function(e){let t;a.save(e),a.namespaces=e,a.names=[],a.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length;for(t=0;t<n;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+e.substr(1)+"$")):a.names.push(new RegExp("^"+e+"$")))},a.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=a.skips.length;t<r;t++)if(a.skips[t].test(e))return!1;for(t=0,r=a.names.length;t<r;t++)if(a.names[t].test(e))return!0;return!1},a.humanize=n(18115),a.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(e=>{a[e]=t[e]}),a.names=[],a.skips=[],a.formatters={},a.selectColor=function(t){let r=0;for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return a.colors[Math.abs(r)%a.colors.length]},a.enable(a.load()),a}},87212:e=>{"use strict";function i(e,t){for(const r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}e.exports=function(e,t,r){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");r=r||{},"object"==typeof t&&(r=t,t=""),t&&(r.code=t);try{return i(e,r)}catch(t){r.message=e.message,r.stack=e.stack;var n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(e)),i(new n,r)}}},18115:e=>{function s(e,t,r,n){t=1.5*r<=t;return Math.round(e/r)+" "+n+(t?"s":"")}e.exports=function(r,e){e=e||{};var t,n,i=typeof r;if("string"==i&&0<r.length)return function(e){if(!(100<(e=String(r)).length)){e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(e){var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"weeks":case"week":case"w":return 6048e5*t;case"days":case"day":case"d":return 864e5*t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}(r);if("number"==i&&isFinite(r))return e.long?(n=r,864e5<=(t=Math.abs(n))?s(n,t,864e5,"day"):36e5<=t?s(n,t,36e5,"hour"):6e4<=t?s(n,t,6e4,"minute"):1e3<=t?s(n,t,1e3,"second"):n+" ms"):(t=r,864e5<=(n=Math.abs(t))?Math.round(t/864e5)+"d":36e5<=n?Math.round(t/36e5)+"h":6e4<=n?Math.round(t/6e4)+"m":1e3<=n?Math.round(t/1e3)+"s":t+"ms");throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))}},15852:(e,t)=>{"use strict";t.CODE_P2P=421,t.CODE_CIRCUIT=290,t.CLOSE_TIMEOUT=2e3},44389:(e,t,r)=>{"use strict";const n=r(64857),m=n("libp2p:webrtc-star");m.error=n("libp2p:webrtc-star:error");const i=r(17187)["EventEmitter"],b=r(87212),s=r(98514),v=r(61623)["AbortError"],w=r(33298),o=r(6065)["supportsWebRTCDataChannels"],a=r(46584)["Multiaddr"],c=r(29175),u=r(88785),h=r(15852)["CODE_CIRCUIT"],l=r(43815),d=r(30850),{cleanMultiaddr:f,cleanUrlSIO:_}=r(56585);function p(){}e.exports=s(class{constructor(e={}){if(!e.upgrader)throw new Error("An upgrader must be provided. See https://github.com/libp2p/interface-transport#upgrader.");this._upgrader=e.upgrader,this.sioOptions={transports:["websocket"],"force new connection":!0},e.wrtc&&(this.wrtc=e.wrtc),this.sigReferences=new Map,this.discovery=new i,this.discovery.tag="webRTCStar",this.discovery._isStarted=!1,this.discovery.start=()=>{this.discovery._isStarted=!0},this.discovery.stop=()=>{this.discovery._isStarted=!1},this._peerDiscovered=this._peerDiscovered.bind(this)}async dial(e,t={}){var r=await this._connect(e,t),e=d(r,{remoteAddr:e,signal:t.signal});m("new outbound connection %s",e.remoteAddr);t=await this._upgrader.upgradeOutbound(e);return m("outbound connection %s upgraded",e.remoteAddr),t}_connect(d,f={}){if(f.signal&&f.signal.aborted)throw new v;const p={initiator:!0,trickle:!1,...f.spOptions||{}};this.wrtc&&(p.wrtc=this.wrtc);const y=d.toOptions(),g=(~~(1e9*Math.random())).toString(36)+Date.now();return new Promise((t,r)=>{const n=this.sigReferences.get(_(d));if(!n||!n.listener)return r(b(new Error("unknown signal server to use"),"ERR_UNKNOWN_SIGNAL_SERVER"));const i=n.listener.io,s=Date.now();let o;m("dialing %s:%s",y.host,y.port);const a=new w(p),e=e=>{var t;o||(t=`connection error ${y.host}:${y.port}: `+e.message,m.error(t),l(e))},c=()=>{m("connnection timeout %s:%s",y.host,y.port);var e=b(new Error(`connection timeout after ${Date.now()-s}ms`),"ERR_CONNECT_TIMEOUT");a.emit("error",e)},u=()=>{o=!0,m("connection opened %s:%s",y.host,y.port),l(null)},h=()=>{m.error("connection aborted %s:%s",y.host,y.port),a.destroy(),l(new v)},l=e=>{a.removeListener("timeout",c),a.removeListener("connect",u),f.signal&&f.signal.removeEventListener("abort",h),e?r(e):t(a)};a.on("error",e),a.once("timeout",c),a.once("connect",u),a.on("close",()=>{a.removeListener("error",e)}),f.signal&&f.signal.addEventListener("abort",h),a.on("signal",e=>{i.emit("ss-handshake",{intentId:g,srcMultiaddr:n.signallingAddr.toString(),dstMultiaddr:d.toString(),signal:e})}),i.on("ws-handshake",e=>{e.intentId===g&&e.err&&(a.destroy(),r(b(e.err instanceof Error?e.err:new Error(e.err),"ERR_SIGNALLING_FAILED"))),e.intentId===g&&e.answer&&!a.destroyed&&a.signal(e.signal)})})}createListener(e={},t){if(!o&&!this.wrtc)throw b(new Error("no WebRTC support"),"ERR_NO_WEBRTC_SUPPORT");return"function"==typeof e&&(t=e,e={}),l({handler:t=t||p,upgrader:this._upgrader},this,e)}filter(e){return(e=Array.isArray(e)?e:[e]).filter(e=>!e.protoCodes().includes(h)&&c.WebRTCStar.matches(e))}_peerDiscovered(e){if(this.discovery._isStarted){m("Peer Discovered:",e),e=f(e);const t=new a(e),r=u.createFromB58String(t.getPeerId());this.discovery.emit("peer",{id:r,multiaddrs:[t]})}}},{className:"WebRTCStar",symbolName:"@libp2p/js-libp2p-webrtc-star/webrtcstar"})},43815:(e,t,r)=>{"use strict";const s=r(17187),n=r(64857),d=n("libp2p:webrtc-star:listener");d.error=n("libp2p:webrtc-star:listener:error");const o=r(87212),f=r(15104),p=r(33298),y=r(63931),g=r(30850),m=r(56585)["cleanUrlSIO"],b=r(15852)["CODE_P2P"],v={transports:["websocket"],"force new connection":!0,path:"/socket.io-next/"};e.exports=({handler:c,upgrader:u},i,h={})=>{const l=new s;let r,n;return l.__connections=[],l.__spChannels=new Map,l.__pendingIntents=new Map,l.listen=a=>{if(r)throw o(new Error("listener already in use"),"ERR_ALREADY_LISTENING");const t=y();let e;return r=a,e=!a.protoCodes().includes(b)&&u.localPeer?a.encapsulate("/p2p/"+u.localPeer.toB58String()):a,l.on("error",()=>t.reject()),n=m(a),d("Dialing to Signalling Server on: "+n),l.io=f.connect(n,v),l.io.once("connect_error",e=>t.reject(e)),l.io.once("error",e=>{l.emit("error",e),l.emit("close")}),l.io.on("ws-handshake",t=>{if(!t.answer&&!t.err&&t.intentId){const o=t.intentId;let e=l.__pendingIntents.get(o);e||(e=[],l.__pendingIntents.set(o,e));let s=l.__spChannels.get(o);if(s)s.signal(t.signal);else if("offer"===t.signal.type){const r={trickle:!1,...h};i.wrtc&&(r.wrtc=i.wrtc),s=new p(r);const n=e=>{d.error("incoming connection errored",e)};s.on("error",n),s.once("close",()=>{s.removeListener("error",n)}),s.on("signal",e=>{t.signal=e,t.answer=!0,l.io.emit("ss-handshake",t)}),s.signal(t.signal);for(const c of e)s.signal(c.signal);l.__pendingIntents.set(o,[]),s.once("connect",async()=>{const t=g(s);let e;d("new inbound connection %s",t.remoteAddr);try{e=await u.upgradeInbound(t)}catch(e){return d.error("inbound connection failed to upgrade",e),t.close()}if(!e.remoteAddr)try{e.remoteAddr=a.decapsulateCode(b).encapsulate("/p2p/"+e.remotePeer.toB58String())}catch(e){d.error("could not determine remote address",e)}var r,n,i;d("inbound connection %s upgraded",t.remoteAddr),r=l,n=t,i=o,r.__connections.push(n),n.conn.once("close",()=>{r.__connections=r.__connections.filter(e=>e!==n),r.__spChannels.delete(i),r.__pendingIntents.delete(i)}),l.emit("connection",e),c(e)}),l.__spChannels.set(o,s)}else e.push(t)}}),l.io.on("ws-peer",i._peerDiscovered),l.io.on("connect",()=>{l.io.emit("ss-join",e.toString())}),l.io.once("connect",()=>{l.emit("listening"),t.resolve()}),i.sigReferences.set(n,{listener:l,signallingAddr:e}),t.promise},l.close=async()=>{const e=i.sigReferences.get(n);e&&e.listener.io&&(e.listener.io.emit("ss-leave"),e.listener.io.close()),await Promise.all(l.__connections.map(e=>e.close())),l.emit("close"),l.removeAllListeners(),r=void 0,i.sigReferences.delete(n)},l.getAddrs=()=>[r],l}},30850:(e,t,r)=>{"use strict";const a=r(61623),c=r(79407),u=r(15852)["CLOSE_TIMEOUT"],n=r(489),i=r(64857),h=i("libp2p:webrtc-star:socket");h.error=i("libp2p:webrtc-star:socket:error");const l=(e,t)=>{if(e&&t)try{return n(e,t)}catch(e){return h.error(e),n("0.0.0.0",t)}};e.exports=(i,e={})=>{const{sink:r,source:t}=c.duplex(i),n=e.remoteAddr||l(i.remoteAddress,i.remotePort),s=l(i.localAddress,i.localPort),o={async sink(t){e.signal&&(t=a(t,e.signal));try{await r(async function*(){for await(const e of t)yield e instanceof Uint8Array?e:e.slice()}())}catch(t){"aborted"!==t.type&&h.error(t)}},source:e.signal?a(t,e.signal):t,conn:i,localAddr:s,remoteAddr:n,timeline:{open:Date.now()},close(){if(!i.destroyed)return new Promise((e,t)=>{const r=Date.now(),n=setTimeout(()=>{if(o.remoteAddr){const{host:i,port:e}=o.remoteAddr.toOptions();h("timeout closing socket to %s:%s after %dms, destroying it manually",i,e,Date.now()-r)}i.destroyed||i.destroy()},u);i.once("close",()=>{e()}),i.end(e=>{if(clearTimeout(n),o.timeline.close=Date.now(),e)return t(e)})})}};return i.once("close",()=>{o.timeline.close||(o.timeline.close=Date.now())}),o}},56585:(e,t,r)=>{"use strict";const s=r(46584)["Multiaddr"];e.exports={cleanUrlSIO:function(e){var t=e.toString().split("/"),r=e.protos()[1].name,n=e.protos()[2].name,i=e.stringTuples()[1][1];if("tcp"!==r||"ws"!==n&&"wss"!==n)throw new Error("invalid multiaddr: "+e.toString());return s.isName(e)?"ws"===n?"http://"+t[2]+("80"===i?"":":"+i):"wss"===n?"https://"+t[2]+("443"===i?"":":"+i):void 0:"http://"+t[2]+":"+t[4]},cleanMultiaddr:function(t){var r="/libp2p-webrtc-star";if(-1!==t.indexOf(r)){t=t.substring(r.length,t.length);let e=new s(t);r=e.stringTuples().filter(e=>421===e[0])[0];e=e.decapsulate("p2p"),e=e.encapsulate("/p2p-webrtc-star"),e=e.encapsulate("/p2p/"+r[1]),t=e.toString()}return t}}},72928:(t,r,e)=>{r.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");let t=0,r=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(t++,"%c"===e&&(r=t))}),e.splice(r,0,n)}},r.save=function(e){try{e?r.storage.setItem("debug",e):r.storage.removeItem("debug")}catch(e){}},r.load=function(){let e;try{e=r.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},r.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},r.storage=function(){try{return localStorage}catch(e){}}(),r.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],r.log=console.debug||console.log||(()=>{}),t.exports=e(9202)(r);const n=t.exports["formatters"];n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},9202:(e,t,n)=>{e.exports=function(t){function a(e){let r,t,n,i=null;function o(...i){if(o.enabled){const s=o,e=Number(new Date),t=e-(r||e);s.diff=t,s.prev=r,s.curr=e,r=e,i[0]=a.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");let n=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(e,t)=>{if("%%"===e)return"%";n++;const r=a.formatters[t];if("function"==typeof r){const a=i[n];e=r.call(s,a),i.splice(n,1),n--}return e}),a.formatArgs.call(s,i),(s.log||a.log).apply(s,i)}}return o.namespace=e,o.useColors=a.useColors(),o.color=a.selectColor(e),o.extend=s,o.destroy=a.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(t!==a.namespaces&&(t=a.namespaces,n=a.enabled(e)),n),set:e=>{i=e}}),"function"==typeof a.init&&a.init(o),o}function s(e,t){const r=a(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return((a.debug=a).default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},a.disable=function(){var e=[...a.names.map(r),...a.skips.map(r).map(e=>"-"+e)].join(",");return a.enable(""),e},a.enable=function(e){let t;a.save(e),a.namespaces=e,a.names=[],a.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length;for(t=0;t<n;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+e.substr(1)+"$")):a.names.push(new RegExp("^"+e+"$")))},a.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=a.skips.length;t<r;t++)if(a.skips[t].test(e))return!1;for(t=0,r=a.names.length;t<r;t++)if(a.names[t].test(e))return!0;return!1},a.humanize=n(4110),a.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(e=>{a[e]=t[e]}),a.names=[],a.skips=[],a.formatters={},a.selectColor=function(t){let r=0;for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return a.colors[Math.abs(r)%a.colors.length]},a.enable(a.load()),a}},4110:e=>{function s(e,t,r,n){t=1.5*r<=t;return Math.round(e/r)+" "+n+(t?"s":"")}e.exports=function(r,e){e=e||{};var t,n,i=typeof r;if("string"==i&&0<r.length)return function(e){if(!(100<(e=String(r)).length)){e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(e){var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"weeks":case"week":case"w":return 6048e5*t;case"days":case"day":case"d":return 864e5*t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}(r);if("number"==i&&isFinite(r))return e.long?(n=r,864e5<=(t=Math.abs(n))?s(n,t,864e5,"day"):36e5<=t?s(n,t,36e5,"hour"):6e4<=t?s(n,t,6e4,"minute"):1e3<=t?s(n,t,1e3,"second"):n+" ms"):(t=r,864e5<=(n=Math.abs(t))?Math.round(t/864e5)+"d":36e5<=n?Math.round(t/36e5)+"h":6e4<=n?Math.round(t/6e4)+"m":1e3<=n?Math.round(t/1e3)+"s":t+"ms");throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))}},56223:e=>{"use strict";class a extends Error{constructor(e){super(e),this.name="TimeoutError"}}var t=(n,i,s,e)=>{let o;const t=new Promise((t,r)=>{if("number"!=typeof i||i<0)throw new TypeError("Expected `milliseconds` to be a positive number");i!==1/0?(e={customTimers:{setTimeout:setTimeout,clearTimeout:clearTimeout},...e},o=e.customTimers.setTimeout.call(void 0,()=>{if("function"!=typeof s){var e=s instanceof Error?s:new a("string"==typeof s?s:`Promise timed out after ${i} milliseconds`);"function"==typeof n.cancel&&n.cancel(),r(e)}else try{t(s())}catch(e){r(e)}},i),(async()=>{try{t(await n)}catch(e){r(e)}finally{e.customTimers.clearTimeout.call(void 0,o)}})()):t(n)});return t.clear=()=>{clearTimeout(o),o=void 0},t};e.exports=t,e.exports.default=t,e.exports.TimeoutError=a},33199:(e,t)=>{"use strict";t.CODE_P2P=421,t.CODE_CIRCUIT=290,t.CODE_TCP=6,t.CODE_WS=477,t.CODE_WSS=478,t.CLOSE_TIMEOUT=2e3},70040:(e,t,r)=>{"use strict";const n=r(29175),{CODE_CIRCUIT:i,CODE_P2P:s,CODE_TCP:o,CODE_WS:a,CODE_WSS:c}=r(33199);e.exports={all:e=>e.filter(e=>{if(e.protoCodes().includes(i))return!1;e=e.decapsulateCode(s);return n.WebSockets.matches(e)||n.WebSocketsSecure.matches(e)}),dnsWss:e=>e.filter(e=>{if(e.protoCodes().includes(i))return!1;const t=e.decapsulateCode(s);return n.WebSocketsSecure.matches(t)&&n.DNS.matches(t.decapsulateCode(o).decapsulateCode(c))}),dnsWsOrWss:e=>e.filter(e=>{if(e.protoCodes().includes(i))return!1;const t=e.decapsulateCode(s);return n.WebSockets.matches(t)?n.DNS.matches(t.decapsulateCode(o).decapsulateCode(a)):n.WebSocketsSecure.matches(t)&&n.DNS.matches(t.decapsulateCode(o).decapsulateCode(c))})}},29846:(e,t,r)=>{"use strict";const a=r(6476),n=r(98514),c=r(95700),u=r(61623)["AbortError"],h=r(63931),i=r(72928),l=i("libp2p:websockets");l.error=i("libp2p:websockets:error");const s=r(106),o=r(89174),d=r(10863),f=r(70040);e.exports=n(class{constructor({upgrader:e,filter:t}){if(!e)throw new Error("An upgrader must be provided. See https://github.com/libp2p/interface-transport#upgrader.");this._upgrader=e,this._filter=t}async dial(e,t={}){l("dialing %s",e);var r=await this._connect(e,t),e=d(r,{remoteAddr:e,signal:t.signal});l("new outbound connection %s",e.remoteAddr);t=await this._upgrader.upgradeOutbound(e);return l("outbound connection %s upgraded",e.remoteAddr),t}async _connect(e,r={}){if(r.signal&&r.signal.aborted)throw new u;var t=e.toOptions();l("dialing %s:%s",t.host,t.port);const n=h(),i=e=>{var t="connection error: "+e.message;l.error(t),n.reject(e)},s=a(c(e),Object.assign({binary:!0},r));if(s.socket.on?s.socket.on("error",i):s.socket.onerror=i,!r.signal)return await Promise.race([s.connected(),n.promise]),l("connected %s",e),s;let o;t=new Promise((e,t)=>{if(o=()=>{t(new u),setTimeout(()=>{s.close()})},r.signal.aborted)return o();r.signal.addEventListener("abort",o)});try{await Promise.race([t,n.promise,s.connected()])}finally{r.signal.removeEventListener("abort",o)}return l("connected %s",e),s}createListener(e={},t){return"function"==typeof e&&(t=e,e={}),o({handler:t,upgrader:this._upgrader},e)}filter(e){return e=Array.isArray(e)?e:[e],this._filter?this._filter(e):s.isBrowser||s.isWebWorker?f.dnsWss(e):f.all(e)}},{className:"WebSockets",symbolName:"@libp2p/js-libp2p-websockets/websockets"})},89174:e=>{"use strict";e.exports=function(){throw new Error("WebSocket Servers can not be created in the browser!")}},10863:(e,t,r)=>{"use strict";const s=r(61623),o=r(33199)["CLOSE_TIMEOUT"],a=r(489),c=r(56223),n=r(72928),u=n("libp2p:websockets:socket");u.error=n("libp2p:websockets:socket:error"),e.exports=(n,e={})=>{const i={async sink(t){e.signal&&(t=s(t,e.signal));try{await n.sink(async function*(){for await(const e of t)yield e instanceof Uint8Array?e:e.slice()}())}catch(e){"aborted"!==e.type&&u.error(e)}},source:e.signal?s(n.source,e.signal):n.source,conn:n,localAddr:e.localAddr||(n.localAddress&&n.localPort?a(n.localAddress,n.localPort):void 0),remoteAddr:e.remoteAddr||a(n.remoteAddress,n.remotePort),timeline:{open:Date.now()},async close(){var t=Date.now();try{await c(n.close(),o)}catch(e){const{host:o,port:r}=i.remoteAddr.toOptions();u("timeout closing stream to %s:%s after %dms, destroying it manually",o,r,Date.now()-t),n.destroy()}finally{i.timeline.close=Date.now()}}};return n.socket.once&&n.socket.once("close",()=>{i.timeline.close||(i.timeline.close=Date.now())}),i}},87175:(t,r,e)=>{r.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");let t=0,r=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(t++,"%c"===e&&(r=t))}),e.splice(r,0,n)}},r.save=function(e){try{e?r.storage.setItem("debug",e):r.storage.removeItem("debug")}catch(e){}},r.load=function(){let e;try{e=r.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},r.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},r.storage=function(){try{return localStorage}catch(e){}}(),r.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],r.log=console.debug||console.log||(()=>{}),t.exports=e(78619)(r);const n=t.exports["formatters"];n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},78619:(e,t,n)=>{e.exports=function(t){function a(e){let r,t,n,i=null;function o(...i){if(o.enabled){const s=o,e=Number(new Date),t=e-(r||e);s.diff=t,s.prev=r,s.curr=e,r=e,i[0]=a.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");let n=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(e,t)=>{if("%%"===e)return"%";n++;const r=a.formatters[t];if("function"==typeof r){const a=i[n];e=r.call(s,a),i.splice(n,1),n--}return e}),a.formatArgs.call(s,i),(s.log||a.log).apply(s,i)}}return o.namespace=e,o.useColors=a.useColors(),o.color=a.selectColor(e),o.extend=s,o.destroy=a.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(t!==a.namespaces&&(t=a.namespaces,n=a.enabled(e)),n),set:e=>{i=e}}),"function"==typeof a.init&&a.init(o),o}function s(e,t){const r=a(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return((a.debug=a).default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},a.disable=function(){var e=[...a.names.map(r),...a.skips.map(r).map(e=>"-"+e)].join(",");return a.enable(""),e},a.enable=function(e){let t;a.save(e),a.namespaces=e,a.names=[],a.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length;for(t=0;t<n;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+e.substr(1)+"$")):a.names.push(new RegExp("^"+e+"$")))},a.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=a.skips.length;t<r;t++)if(a.skips[t].test(e))return!1;for(t=0,r=a.names.length;t<r;t++)if(a.names[t].test(e))return!0;return!1},a.humanize=n(19593),a.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(e=>{a[e]=t[e]}),a.names=[],a.skips=[],a.formatters={},a.selectColor=function(t){let r=0;for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return a.colors[Math.abs(r)%a.colors.length]},a.enable(a.load()),a}},26550:e=>{"use strict";function i(e,t){for(const r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}e.exports=function(e,t,r){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");r=r||{},"object"==typeof t&&(r=t,t=""),t&&(r.code=t);try{return i(e,r)}catch(t){r.message=e.message,r.stack=e.stack;var n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(e)),i(new n,r)}}},78621:(e,t,r)=>{"use strict";const n=r(26550),i={16:"aes-128-ctr",32:"aes-256-ctr"};e.exports=function(e){const t=i[e.length];if(t)return t;{const t=Object.entries(i).map(([e,t])=>e+` (${t})`).join(" / ");throw n(new Error(`Invalid key length ${e.length} bytes. Must be `+t),"ERR_INVALID_KEY_LENGTH")}}},76590:(e,t,r)=>{"use strict";r(8925);const i=r(3832),s=r(92263)["toString"],o=r(52217)["fromString"];e.exports={createCipheriv:(e,t,r)=>{const n=i.cipher.createCipher("AES-CTR",s(t,"ascii"));return n.start({iv:s(r,"ascii")}),{update:e=>(n.update(i.util.createBuffer(s(e,"ascii"))),o(n.output.getBytes(),"ascii"))}},createDecipheriv:(e,t,r)=>{const n=i.cipher.createDecipher("AES-CTR",s(t,"ascii"));return n.start({iv:s(r,"ascii")}),{update:e=>(n.update(i.util.createBuffer(s(e,"ascii"))),o(n.output.getBytes(),"ascii"))}}}},32100:(e,t,r)=>{"use strict";const s=r(76590),o=r(78621);t.create=async function(e,t){const r=o(e),n=s.createCipheriv(r,e,t),i=s.createDecipheriv(r,e,t);return{encrypt:async e=>n.update(e),decrypt:async e=>i.update(e)}}},92485:(e,t,r)=>{"use strict";const d=r(20605)["concat"],f=r(52217)["fromString"],n=r(87518);e.exports={create:function({algorithm:s="AES-GCM",nonceLength:o=12,keyLength:a=16,digest:c="SHA-256",saltLength:u=16,iterations:h=32767}={}){const l=n.get();return a*=8,{encrypt:async function(e,t){var r=l.getRandomValues(new Uint8Array(u)),n=l.getRandomValues(new Uint8Array(o)),i={name:s,iv:n},n={name:"PBKDF2",salt:r,iterations:h,hash:{name:c}},t=await l.subtle.importKey("raw",f(t),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),t=await l.subtle.deriveKey(n,t,{name:s,length:a},!0,["encrypt"]),e=await l.subtle.encrypt(i,t,e);return d([r,i.iv,new Uint8Array(e)])},decrypt:async function(e,t){var r=e.slice(0,u),n=e.slice(u,u+o),e=e.slice(u+o),n={name:s,iv:n},r={name:"PBKDF2",salt:r,iterations:h,hash:{name:c}},t=await l.subtle.importKey("raw",f(t),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),t=await l.subtle.deriveKey(r,t,{name:s,length:a},!0,["decrypt"]),e=await l.subtle.decrypt(n,t,e);return new Uint8Array(e)}}}}},48690:(e,t,r)=>{"use strict";const i=r(87518),s=r(36482),o={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"};t.create=async function(e,t){const r=o[e],n=await i.get().subtle.importKey("raw",t,{name:"HMAC",hash:{name:r}},!1,["sign"]);return{digest:async e=>(async(e,t)=>{t=await i.get().subtle.sign({name:"HMAC"},e,t);return new Uint8Array(t,t.byteOffset,t.byteLength)})(n,e),length:s[e]}}},36482:e=>{"use strict";e.exports={SHA1:20,SHA256:32,SHA512:64}},49928:(e,t,r)=>{"use strict";var n=r(48690),i=r(32100),s=r(92826);t.aes=i,t.hmac=n,t.keys=s,t.randomBytes=r(53890),t.pbkdf2=r(57493)},18294:(e,t,r)=>{"use strict";const n=r(26550),i=r(87518),s=r(28894)["base64urlToBuffer"],o=r(50439),a=r(92263)["toString"],c=r(20605)["concat"],u=r(19588)["equals"],h={"P-256":256,"P-384":384,"P-521":521};t.generateEphmeralKeyPair=async function(r){o(Object.keys(h),r);const n=await i.get().subtle.generateKey({name:"ECDH",namedCurve:r},!0,["deriveBits"]);return{key:(e=await i.get().subtle.exportKey("jwk",n.publicKey),t=l[e.crv],c([Uint8Array.from([4]),s(e.x,t),s(e.y,t)],1+2*t)),genSharedKey:async(e,t)=>{t=t?await i.get().subtle.importKey("jwk",f(r,t),{name:"ECDH",namedCurve:r},!1,["deriveBits"]):n.privateKey,t=[await i.get().subtle.importKey("jwk",d(r,e),{name:"ECDH",namedCurve:r},!1,[]),t],t=await i.get().subtle.deriveBits({name:"ECDH",namedCurve:r,public:t[0]},t[1],h[r]);return new Uint8Array(t,t.byteOffset,t.byteLength)}};var e,t};const l={"P-256":32,"P-384":48,"P-521":66};function d(e,t){var r=l[e];if(u(!t.slice(0,1),Uint8Array.from([4])))throw n(new Error("Cannot unmarshal public key - invalid key format"),"ERR_INVALID_KEY_FORMAT");return{kty:"EC",crv:e,x:a(t.slice(1,r+1),"base64url"),y:a(t.slice(1+r),"base64url"),ext:!0}}const f=(e,t)=>({...d(e,t.public),d:a(t.private,"base64url")})},23924:(e,t,r)=>{"use strict";const n=r(26550),i=r(19588)["equals"],s=r(56155)["sha256"],o=r(99086)["base58btc"],a=r(78103)["identity"],c=r(57217),u=r(5345),h=r(70427);class l{constructor(e){this._key=f(e,c.publicKeyLength)}async verify(e,t){return c.hashAndVerify(this._key,t,e)}marshal(){return this._key}get bytes(){return u.PublicKey.encode({Type:u.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return i(this.bytes,e.bytes)}async hash(){var e=(await s.digest(this.bytes))["bytes"];return e}}class d{constructor(e,t){this._key=f(e,c.privateKeyLength),this._publicKey=f(t,c.publicKeyLength)}async sign(e){return c.hashAndSign(this._key,e)}get public(){return new l(this._publicKey)}marshal(){return this._key}get bytes(){return u.PrivateKey.encode({Type:u.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return i(this.bytes,e.bytes)}async hash(){var e=(await s.digest(this.bytes))["bytes"];return e}async id(){var e=await a.digest(this.public.bytes);return o.encode(e.bytes).substring(1)}async export(e,t="libp2p-key"){if("libp2p-key"===t)return h.export(this.bytes,e);throw n(new Error(`export format '${t}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}function f(e,t){if((e=Uint8Array.from(e||[])).length!==t)throw n(new Error(`Key must be a Uint8Array of length ${t}, got `+e.length),"ERR_INVALID_KEY_TYPE");return e}e.exports={Ed25519PublicKey:l,Ed25519PrivateKey:d,unmarshalEd25519PrivateKey:function(e){if(e.length>c.privateKeyLength){const t=(e=f(e,c.privateKeyLength+c.publicKeyLength)).slice(0,c.privateKeyLength),r=e.slice(c.privateKeyLength,e.length);return new d(t,r)}const t=(e=f(e,c.privateKeyLength)).slice(0,c.privateKeyLength),r=e.slice(c.publicKeyLength);return new d(t,r)},unmarshalEd25519PublicKey:function(e){return e=f(e,c.publicKeyLength),new l(e)},generateKeyPair:async function(){var{privateKey:e,publicKey:t}=await c.generateKey();return new d(e,t)},generateKeyPairFromSeed:async function(e){var{privateKey:t,publicKey:e}=await c.generateKeyFromSeed(e);return new d(t,e)}}},57217:(e,t,r)=>{"use strict";r(80069);const n=r(3832);t.publicKeyLength=n.pki.ed25519.constants.PUBLIC_KEY_BYTE_LENGTH,t.privateKeyLength=n.pki.ed25519.constants.PRIVATE_KEY_BYTE_LENGTH,t.generateKey=async function(){return n.pki.ed25519.generateKeyPair()},t.generateKeyFromSeed=async function(e){return n.pki.ed25519.generateKeyPair({seed:e})},t.hashAndSign=async function(e,t){return n.pki.ed25519.sign({message:t,privateKey:e})},t.hashAndVerify=async function(e,t,r){return n.pki.ed25519.verify({signature:t,message:r,publicKey:e})}},74340:(e,t,r)=>{"use strict";const n=r(18294);e.exports=async e=>n.generateEphmeralKeyPair(e)},70427:(e,t,r)=>{"use strict";const i=r(9885)["base64"],s=r(92485);e.exports={export:async function(e,t){const r=s.create(),n=await r.encrypt(e,t);return i.encode(n)}}},75475:(e,t,r)=>{"use strict";const i=r(9885)["base64"],s=r(92485);e.exports={import:async function(e,t){const r=i.decode(e),n=s.create();return n.decrypt(r,t)}}},92826:(e,t,r)=>{"use strict";const n=r(5345);r(3068),r(97450);const i=r(3832),s=r(26550),o=r(52217)["fromString"],a=r(75475),c={rsa:r(42162),ed25519:r(23924),secp256k1:r(9321)(n,r(53890))},u="secp256k1 support requires libp2p-crypto-secp256k1 package",h="ERR_MISSING_PACKAGE";function l(e){const t=c[e.toLowerCase()];if(t)return t;{const t=Object.keys(c).join(" / ");throw s(new Error(`invalid or unsupported key type ${e}. Must be `+t),"ERR_UNSUPPORTED_KEY_TYPE")}}const d=async e=>{var t=n.PrivateKey.decode(e),r=t.Data;switch(t.Type){case n.KeyType.RSA:return c.rsa.unmarshalRsaPrivateKey(r);case n.KeyType.Ed25519:return c.ed25519.unmarshalEd25519PrivateKey(r);case n.KeyType.Secp256k1:if(c.secp256k1)return c.secp256k1.unmarshalSecp256k1PrivateKey(r);throw s(new Error(u),h);default:l(t.Type)}};e.exports={supportedKeys:c,keysPBM:n,keyStretcher:r(65954),generateEphemeralKeyPair:r(74340),generateKeyPair:async(e,t)=>l(e).generateKeyPair(t),generateKeyPairFromSeed:async(e,t,r)=>{const n=l(e);if("ed25519"!==e.toLowerCase())throw s(new Error("Seed key derivation is unimplemented for RSA or secp256k1"),"ERR_UNSUPPORTED_KEY_DERIVATION_TYPE");return n.generateKeyPairFromSeed(t,r)},unmarshalPublicKey:e=>{var t=n.PublicKey.decode(e),r=t.Data;switch(t.Type){case n.KeyType.RSA:return c.rsa.unmarshalRsaPublicKey(r);case n.KeyType.Ed25519:return c.ed25519.unmarshalEd25519PublicKey(r);case n.KeyType.Secp256k1:if(c.secp256k1)return c.secp256k1.unmarshalSecp256k1PublicKey(r);throw s(new Error(u),h);default:l(t.Type)}},marshalPublicKey:(e,t)=>(l(t=(t||"rsa").toLowerCase()),e.bytes),unmarshalPrivateKey:d,marshalPrivateKey:(e,t)=>(l(t=(t||"rsa").toLowerCase()),e.bytes),import:async(e,t)=>{try{const r=await a.import(e,t);return d(r)}catch(e){}const r=i.pki.decryptRsaPrivateKey(e,t);if(null===r)throw s(new Error("Cannot read the key, most likely the password is wrong or not a RSA key"),"ERR_CANNOT_DECRYPT_PEM");let n=i.asn1.toDer(i.pki.privateKeyToAsn1(r));return n=o(n.getBytes(),"ascii"),c.rsa.unmarshalRsaPrivateKey(n)}}},75396:(e,t,r)=>{"use strict";r(28095);const n=r(3832),i=r(28894)["base64urlToBigInteger"];function s(t,e){return e.map(e=>i(t[e]))}e.exports={jwk2pub:function(e){return n.pki.setRsaPublicKey(...s(e,["n","e"]))},jwk2priv:function(e){return n.pki.setRsaPrivateKey(...s(e,["n","e","d","p","q","dp","dq","qi"]))}}},65954:(e,t,r)=>{"use strict";const m=r(26550),b=r(20605)["concat"],v=r(52217)["fromString"],w=r(48690),_={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};e.exports=async(t,e,r)=>{var n=_[t];if(!n){const e=Object.keys(_).join(" / ");throw m(new Error(`unknown cipher type '${t}'. Must be `+e),"ERR_INVALID_CIPHER_TYPE")}if(!e)throw m(new Error("missing hash type"),"ERR_MISSING_HASH_TYPE");const i=n.keySize,s=n.ivSize,o=v("key expansion"),a=2*(s+i+20),c=await w.create(e,r);let u=await c.digest(o);const h=[];let l=0;for(;l<a;){const t=await c.digest(b([u,o]));let e=t.length;l+e>a&&(e=a-l),h.push(t),l+=e,u=await c.digest(u)}const d=a/2,f=b(h),p=f.slice(0,d),y=f.slice(d,a),g=e=>({iv:e.slice(0,s),cipherKey:e.slice(s,s+i),macKey:e.slice(s+i)});return{k1:g(p),k2:g(y)}}},5345:(e,t,r)=>{"use strict";var n,i=r(62100),s=i.Reader,o=i.Writer,a=i.util,c=i.roots["libp2p-crypto-keys"]||(i.roots["libp2p-crypto-keys"]={});function u(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function h(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}c.KeyType=(n={},(r=Object.create(n))[n[0]="RSA"]=0,r[n[1]="Ed25519"]=1,r[n[2]="Secp256k1"]=2,r),c.PublicKey=(h.prototype.Type=0,h.prototype.Data=a.newBuffer([]),h.encode=function(e,t){return(t=t||o.create()).uint32(8).int32(e.Type),t.uint32(18).bytes(e.Data),t},h.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new c.PublicKey;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Type=e.int32();break;case 2:n.Data=e.bytes();break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Type"))throw a.ProtocolError("missing required 'Type'",{instance:n});if(!n.hasOwnProperty("Data"))throw a.ProtocolError("missing required 'Data'",{instance:n});return n},h.fromObject=function(e){if(e instanceof c.PublicKey)return e;var t=new c.PublicKey;switch(e.Type){case"RSA":case 0:t.Type=0;break;case"Ed25519":case 1:t.Type=1;break;case"Secp256k1":case 2:t.Type=2}return null!=e.Data&&("string"==typeof e.Data?a.base64.decode(e.Data,t.Data=a.newBuffer(a.base64.length(e.Data)),0):e.Data.length&&(t.Data=e.Data)),t},h.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.Type=t.enums===String?"RSA":0,t.bytes===String?r.Data="":(r.Data=[],t.bytes!==Array&&(r.Data=a.newBuffer(r.Data)))),null!=e.Type&&e.hasOwnProperty("Type")&&(r.Type=t.enums===String?c.KeyType[e.Type]:e.Type),null!=e.Data&&e.hasOwnProperty("Data")&&(r.Data=t.bytes===String?a.base64.encode(e.Data,0,e.Data.length):t.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),r},h.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},h),c.PrivateKey=(u.prototype.Type=0,u.prototype.Data=a.newBuffer([]),u.encode=function(e,t){return(t=t||o.create()).uint32(8).int32(e.Type),t.uint32(18).bytes(e.Data),t},u.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new c.PrivateKey;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Type=e.int32();break;case 2:n.Data=e.bytes();break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Type"))throw a.ProtocolError("missing required 'Type'",{instance:n});if(!n.hasOwnProperty("Data"))throw a.ProtocolError("missing required 'Data'",{instance:n});return n},u.fromObject=function(e){if(e instanceof c.PrivateKey)return e;var t=new c.PrivateKey;switch(e.Type){case"RSA":case 0:t.Type=0;break;case"Ed25519":case 1:t.Type=1;break;case"Secp256k1":case 2:t.Type=2}return null!=e.Data&&("string"==typeof e.Data?a.base64.decode(e.Data,t.Data=a.newBuffer(a.base64.length(e.Data)),0):e.Data.length&&(t.Data=e.Data)),t},u.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.Type=t.enums===String?"RSA":0,t.bytes===String?r.Data="":(r.Data=[],t.bytes!==Array&&(r.Data=a.newBuffer(r.Data)))),null!=e.Type&&e.hasOwnProperty("Type")&&(r.Type=t.enums===String?c.KeyType[e.Type]:e.Type),null!=e.Data&&e.hasOwnProperty("Data")&&(r.Data=t.bytes===String?a.base64.encode(e.Data,0,e.Data.length):t.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),r},u.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},u),e.exports=c},41860:(e,t,r)=>{"use strict";const n=r(87518),i=r(53890),s=r(92263)["toString"],o=r(52217)["fromString"];function a(e){return Promise.all([n.get().subtle.exportKey("jwk",e.privateKey),n.get().subtle.exportKey("jwk",e.publicKey)])}t.utils=r(48707),t.generateKey=async function(e){e=await a(await n.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]));return{privateKey:e[0],publicKey:e[1]}},t.unmarshalPrivateKey=async function(e){e=[await n.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),(e=e,await n.get().subtle.importKey("jwk",{kty:e.kty,n:e.n,e:e.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"]))],e=await a({privateKey:e[0],publicKey:e[1]});return{privateKey:e[0],publicKey:e[1]}},t.getRandomValues=i,t.hashAndSign=async function(e,t){e=await n.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),t=await n.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},e,Uint8Array.from(t));return new Uint8Array(t,t.byteOffset,t.byteLength)},t.hashAndVerify=async function(e,t,r){e=await n.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return n.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},e,t,r)};const{jwk2pub:c,jwk2priv:u}=r(75396);function h(e,t,r,n){e=(t?c:u)(e),e=n(s(Uint8Array.from(r),"ascii"),e);return o(e,"ascii")}t.encrypt=function(e,t){return h(e,!0,t,(e,t)=>t.encrypt(e))},t.decrypt=function(e,t){return h(e,!1,t,(e,t)=>t.decrypt(e))}},42162:(e,t,r)=>{"use strict";const n=r(56155)["sha256"],i=r(26550),s=r(19588)["equals"],o=r(92263)["toString"];r(63219),r(80069);const a=r(3832),c=r(41860),u=r(5345),h=r(70427);class l{constructor(e){this._key=e}async verify(e,t){return c.hashAndVerify(this._key,t,e)}marshal(){return c.utils.jwkToPkix(this._key)}get bytes(){return u.PublicKey.encode({Type:u.KeyType.RSA,Data:this.marshal()}).finish()}encrypt(e){return c.encrypt(this._key,e)}equals(e){return s(this.bytes,e.bytes)}async hash(){var e=(await n.digest(this.bytes))["bytes"];return e}}class d{constructor(e,t){this._key=e,this._publicKey=t}genSecret(){return c.getRandomValues(16)}async sign(e){return c.hashAndSign(this._key,e)}get public(){if(!this._publicKey)throw i(new Error("public key not provided"),"ERR_PUBKEY_NOT_PROVIDED");return new l(this._publicKey)}decrypt(e){return c.decrypt(this._key,e)}marshal(){return c.utils.jwkToPkcs1(this._key)}get bytes(){return u.PrivateKey.encode({Type:u.KeyType.RSA,Data:this.marshal()}).finish()}equals(e){return s(this.bytes,e.bytes)}async hash(){var e=(await n.digest(this.bytes))["bytes"];return e}async id(){var e=await this.public.hash();return o(e,"base58btc")}async export(e,t="pkcs-8"){if("pkcs-8"===t){const t=new a.util.ByteBuffer(this.marshal()),r=a.asn1.fromDer(t),n=a.pki.privateKeyFromAsn1(r),i={algorithm:"aes256",count:1e4,saltSize:16,prfAlgorithm:"sha512"};return a.pki.encryptRsaPrivateKey(n,e,i)}if("libp2p-key"===t)return h.export(this.bytes,e);throw i(new Error(`export format '${t}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}e.exports={RsaPublicKey:l,RsaPrivateKey:d,unmarshalRsaPublicKey:function(e){e=c.utils.pkixToJwk(e);return new l(e)},unmarshalRsaPrivateKey:async function(e){e=c.utils.pkcs1ToJwk(e),e=await c.unmarshalPrivateKey(e);return new d(e.privateKey,e.publicKey)},generateKeyPair:async function(e){e=await c.generateKey(e);return new d(e.privateKey,e.publicKey)},fromJwk:async function(e){e=await c.unmarshalPrivateKey(e);return new d(e.privateKey,e.publicKey)}}},48707:(e,t,r)=>{"use strict";r(3068),r(28095);const n=r(3832),{bigIntegerToUintBase64url:i,base64urlToBigInteger:s}=r(28894),o=r(52217)["fromString"],a=r(92263)["toString"];t.pkcs1ToJwk=function(e){e=n.asn1.fromDer(a(e,"ascii")),e=n.pki.privateKeyFromAsn1(e);return{kty:"RSA",n:i(e.n),e:i(e.e),d:i(e.d),p:i(e.p),q:i(e.q),dp:i(e.dP),dq:i(e.dQ),qi:i(e.qInv),alg:"RS256",kid:"2011-04-29"}},t.jwkToPkcs1=function(e){e=n.pki.privateKeyToAsn1({n:s(e.n),e:s(e.e),d:s(e.d),p:s(e.p),q:s(e.q),dP:s(e.dp),dQ:s(e.dq),qInv:s(e.qi)});return o(n.asn1.toDer(e).getBytes(),"ascii")},t.pkixToJwk=function(e){e=n.asn1.fromDer(a(e,"ascii")),e=n.pki.publicKeyFromAsn1(e);return{kty:"RSA",n:i(e.n),e:i(e.e),alg:"RS256",kid:"2011-04-29"}},t.jwkToPkix=function(e){e=n.pki.publicKeyToAsn1({n:s(e.n),e:s(e.e)});return o(n.asn1.toDer(e).getBytes(),"ascii")}},9321:(e,t,s)=>{"use strict";const o=s(56155)["sha256"],a=s(26550),c=s(19588)["equals"],u=s(92263)["toString"],h=s(70427);e.exports=(e,t,r)=>{r=r||s(76835)(t);class n{constructor(e){r.validatePublicKey(e),this._key=e}verify(e,t){return r.hashAndVerify(this._key,t,e)}marshal(){return r.compressPublicKey(this._key)}get bytes(){return e.PublicKey.encode({Type:e.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(e){return c(this.bytes,e.bytes)}async hash(){var e=(await o.digest(this.bytes))["bytes"];return e}}class i{constructor(e,t){this._key=e,this._publicKey=t||r.computePublicKey(e),r.validatePrivateKey(this._key),r.validatePublicKey(this._publicKey)}sign(e){return r.hashAndSign(this._key,e)}get public(){return new n(this._publicKey)}marshal(){return this._key}get bytes(){return e.PrivateKey.encode({Type:e.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(e){return c(this.bytes,e.bytes)}async hash(){var e=(await o.digest(this.bytes))["bytes"];return e}async id(){var e=await this.public.hash();return u(e,"base58btc")}async export(e,t="libp2p-key"){if("libp2p-key"===t)return h.export(this.bytes,e);throw a(new Error(`export format '${t}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}return{Secp256k1PublicKey:n,Secp256k1PrivateKey:i,unmarshalSecp256k1PrivateKey:function(e){return new i(e)},unmarshalSecp256k1PublicKey:function(e){return new n(e)},generateKeyPair:async function(){var e=await r.generateKey();return new i(e)}}}},76835:(e,t,r)=>{"use strict";const n=r(17221),i=r(56155)["sha256"];e.exports=t=>{function r(e){if(!n.privateKeyVerify(e))throw new Error("Invalid private key")}return{generateKey:function(){let e;for(;e=t(32),!n.privateKeyVerify(e););return e},privateKeyLength:32,hashAndSign:async function(e,t){var t=(await i.digest(t))["digest"],e=n.ecdsaSign(t,e);return n.signatureExport(e.signature)},hashAndVerify:async function(e,t,r){var r=(await i.digest(r))["digest"];return t=n.signatureImport(t),n.ecdsaVerify(t,r,e)},compressPublicKey:function(e){if(!n.publicKeyVerify(e))throw new Error("Invalid public key");return n.publicKeyConvert(e,!0)},decompressPublicKey:function(e){return n.publicKeyConvert(e,!1)},validatePrivateKey:r,validatePublicKey:function(e){if(!n.publicKeyVerify(e))throw new Error("Invalid public key")},computePublicKey:function(e){return r(e),n.publicKeyCreate(e)}}}},50439:(e,t,r)=>{"use strict";const n=r(26550);e.exports=function(e,t){if(!e.includes(t)){e=e.join(" / ");throw n(new Error(`Unknown curve: ${t}. Must be `+e),"ERR_INVALID_CURVE")}}},57493:(e,t,r)=>{"use strict";const o=r(98960),a=r(97116),c=r(26550),u={sha1:"sha1","sha2-256":"sha256","sha2-512":"sha512"};e.exports=function(e,t,r,n,i){var s=u[i];if(!s){const e=Object.keys(u).join(" / ");throw c(new Error(`Hash '${i}' is unknown or not supported. Must be `+e),"ERR_UNSUPPORTED_HASH_TYPE")}s=o(e,t,r,n,s);return a.encode64(s)}},53890:(e,t,r)=>{"use strict";const n=r(1914),i=r(26550);e.exports=function(e){if(isNaN(e)||e<=0)throw i(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return n(e)}},28894:(e,t,r)=>{"use strict";r(97116),r(15764);const n=r(3832),i=r(52217)["fromString"],s=r(92263)["toString"],o=r(20605)["concat"];t.bigIntegerToUintBase64url=(e,t)=>{let r=Uint8Array.from(e.abs().toByteArray());if(r=0===r[0]?r.slice(1):r,null!=t){if(r.length>t)throw new Error("byte array longer than desired length");r=o([new Uint8Array(t-r.length),r])}return s(r,"base64url")},t.base64urlToBigInteger=e=>{e=t.base64urlToBuffer(e);return new n.jsbn.BigInteger(s(e,"base16"),16)},t.base64urlToBuffer=(e,t)=>{let r=i(e,"base64urlpad");if(null!=t){if(r.length>t)throw new Error("byte array longer than desired length");r=o([new Uint8Array(t-r.length),r])}return r}},87518:(e,t)=>{"use strict";t.get=(e=self)=>{e=e.crypto||e.msCrypto;if(!e||!e.subtle)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return e}},19593:e=>{function s(e,t,r,n){t=1.5*r<=t;return Math.round(e/r)+" "+n+(t?"s":"")}e.exports=function(r,e){e=e||{};var t,n,i=typeof r;if("string"==i&&0<r.length)return function(e){if(!(100<(e=String(r)).length)){e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(e){var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"weeks":case"week":case"w":return 6048e5*t;case"days":case"day":case"d":return 864e5*t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}(r);if("number"==i&&isFinite(r))return e.long?(n=r,864e5<=(t=Math.abs(n))?s(n,t,864e5,"day"):36e5<=t?s(n,t,36e5,"hour"):6e4<=t?s(n,t,6e4,"minute"):1e3<=t?s(n,t,1e3,"second"):n+" ms"):(t=r,864e5<=(n=Math.abs(t))?Math.round(t/864e5)+"d":36e5<=n?Math.round(t/36e5)+"h":6e4<=n?Math.round(t/6e4)+"m":1e3<=n?Math.round(t/1e3)+"s":t+"ms");throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))}},14942:(e,t,r)=>{"use strict";const n=r(17187)["EventEmitter"],i=r(46584)["Multiaddr"],s=r(88785);e.exports=class extends n{constructor(e,{listen:t=[],announce:r=[]}={}){super(),this.peerId=e,this.listen=new Set(t.map(e=>e.toString())),this.announce=new Set(r.map(e=>e.toString())),this.observed=new Set}getListenAddrs(){return Array.from(this.listen).map(e=>new i(e))}getAnnounceAddrs(){return Array.from(this.announce).map(e=>new i(e))}getObservedAddrs(){return Array.from(this.observed).map(e=>new i(e))}addObservedAddr(e){let t=new i(e);e=t.getPeerId();e&&s.createFromB58String(e).equals(this.peerId)&&(t=t.decapsulate(new i("/p2p/"+this.peerId)));e=t.toString();this.observed.has(e)||(this.observed.add(e),this.emit("change:addresses"))}}},58126:(e,t,r)=>{"use strict";const n=r(87175),i=Object.assign(n("libp2p:auto-relay"),{error:n("libp2p:auto-relay:err")}),s=r(52217)["fromString"],o=r(92263)["toString"],a=r(46584)["Multiaddr"],c=r(88785),u=r(49284)["relay"],h=r(71466)["canHop"],l=r(32497)["namespaceToCid"],{CIRCUIT_PROTO_CODE:d,HOP_METADATA_KEY:f,HOP_METADATA_VALUE:p,RELAY_RENDEZVOUS_NS:y}=r(33053);e.exports=class{constructor({libp2p:e,maxListeners:t=1,onError:r}){this._libp2p=e,this._peerId=e.peerId,this._peerStore=e.peerStore,this._connectionManager=e.connectionManager,this._transportManager=e.transportManager,this._addressSorter=e.dialer.addressSorter,this.maxListeners=t,this._listenRelays=new Set,this._onProtocolChange=this._onProtocolChange.bind(this),this._onPeerDisconnected=this._onPeerDisconnected.bind(this),this._peerStore.on("change:protocols",this._onProtocolChange),this._connectionManager.on("peer:disconnect",this._onPeerDisconnected),this._onError=(e,t)=>{i.error(t||e),r&&r(e,t)}}async _onProtocolChange({peerId:e,protocols:t}){var r=e.toB58String(),t=t.find(e=>e===u);if(t||!this._listenRelays.has(r)){if(t&&!this._listenRelays.has(r))try{const n=this._connectionManager.get(e);n&&(n.remoteAddr.protoCodes().includes(d)?i(`relayed connection to ${r} will not be used to hop on`):await h({connection:n})&&(this._peerStore.metadataBook.set(e,f,s(p)),await this._addListenRelay(n,r)))}catch(e){this._onError(e)}}else this._removeListenRelay(r)}_onPeerDisconnected(e){e=e.remotePeer.toB58String();this._listenRelays.has(e)&&this._removeListenRelay(e)}async _addListenRelay(e,t){if(!(this._listenRelays.size>=this.maxListeners)){const n=this._peerStore.addressBook.getMultiaddrsForPeer(e.remotePeer,this._addressSorter);if(n&&n.length){var r=n[0].toString()+"/p2p-circuit";this._listenRelays.add(t);try{await this._transportManager.listen([new a(r)])}catch(e){this._onError(e),this._listenRelays.delete(t)}}}}_removeListenRelay(e){this._listenRelays.delete(e)&&this._listenOnAvailableHopRelays([e])}async _listenOnAvailableHopRelays(e=[]){if(!(this._listenRelays.size>=this.maxListeners)){const i=[];for(var[t,r]of this._peerStore.metadataBook.data.entries())if(!this._listenRelays.has(t)&&!e.includes(t)){var n=r.get(f);if(n&&o(n)===p){r=c.createFromB58String(t),n=this._connectionManager.get(r);if(n){if(await this._addListenRelay(n,t),this._listenRelays.size>=this.maxListeners)return}else i.push(r)}}for(const e of i)if(await this._tryToListenOnRelay(e),this._listenRelays.size>=this.maxListeners)return;try{const e=await l(y);for await(const i of this._libp2p.contentRouting.findProviders(e))if(i.multiaddrs.length){const e=i.id;if(this._peerStore.addressBook.add(e,i.multiaddrs),await this._tryToListenOnRelay(e),this._listenRelays.size>=this.maxListeners)return}}catch(e){this._onError(e)}}}async _tryToListenOnRelay(t){try{var e=await this._libp2p.dial(t);await this._addListenRelay(e,t.toB58String())}catch(e){this._onError(e,"could not connect and listen on known hop relay "+t.toB58String())}}}},71466:(e,t,r)=>{"use strict";const n=r(87175),o=Object.assign(n("libp2p:circuit:hop"),{error:n("libp2p:circuit:hop:err")}),i=r(26550),a=r(88785),c=r(44780)["validateAddrs"],s=r(72866),u=r(79123)["CircuitRelay"],h=r(60618)["pipe"],l=r(23416)["codes"],d=r(10655)["stop"],f=r(49284);e.exports={handleHop:async function({connection:t,request:r,streamHandler:n,circuit:i}){if(!i._options.hop.enabled)return o("HOP request received but we are not acting as a relay"),n.end({type:u.Type.STATUS,code:u.Status.HOP_CANT_SPEAK_RELAY});try{c(r,n)}catch(r){return o.error("invalid hop request via peer %s",t.remotePeer.toB58String(),r)}if(r.dstPeer){var s=new a(r.dstPeer.id),s=i._connectionManager.get(s);if(!s&&!i._options.hop.active)return o("HOP request received but we are not connected to the destination peer"),n.end({type:u.Type.STATUS,code:u.Status.HOP_NO_CONN_TO_DST});if(s){i={type:u.Type.STOP,dstPeer:r.dstPeer,srcPeer:r.srcPeer};let e;try{e=await d({connection:s,request:i})}catch(t){return o.error(t)}o("hop request from %s is valid",t.remotePeer.toB58String()),n.write({type:u.Type.STATUS,code:u.Status.SUCCESS});n=n.rest();return h(n,e,n)}}else o("HOP request received but we do not receive a dstPeer")},hop:async function({connection:e,request:t}){const r=(await e.newStream([f.relay]))["stream"],n=new s({stream:r});n.write(t);t=await n.read();if(!t)throw i(new Error("HOP request had no response"),l.ERR_HOP_REQUEST_FAILED);if(t.code===u.Status.SUCCESS)return o("hop request was successful"),n.rest();throw o("hop request failed with code %d, closing stream",t.code),n.close(),i(new Error("HOP request failed with code "+t.code),l.ERR_HOP_REQUEST_FAILED)},canHop:async function({connection:e}){const t=(await e.newStream([f.relay]))["stream"],r=new s({stream:t});r.write({type:u.Type.CAN_HOP});e=await r.read();return await r.close(),!(!e||e.code!==u.Status.SUCCESS)},handleCanHop:function({connection:e,streamHandler:t,circuit:r}){r=r._options.hop.enabled;o("can hop (%s) request from %s",r,e.remotePeer.toB58String()),t.end({type:u.Type.STATUS,code:r?u.Status.SUCCESS:u.Status.HOP_CANT_SPEAK_RELAY})}}},10655:(e,t,r)=>{"use strict";const n=r(87175),i=Object.assign(n("libp2p:circuit:stop"),{error:n("libp2p:circuit:stop:err")}),s=r(79123)["CircuitRelay"],o=r(49284),a=r(72866),c=r(44780)["validateAddrs"];e.exports.handleStop=function({connection:e,request:t,streamHandler:r}){try{c(t,r)}catch(t){return i.error("invalid stop request via peer %s",e.remotePeer.toB58String(),t)}return i("stop request is valid"),r.write({type:s.Type.STATUS,code:s.Status.SUCCESS}),r.rest()},e.exports.stop=async function({connection:e,request:t}){var r=(await e.newStream([o.relay]))["stream"];i("starting stop request to %s",e.remotePeer.toB58String());const n=new a({stream:r});n.write(t);t=await n.read();return t?t.code===s.Status.SUCCESS?(i("stop request to %s was successful",e.remotePeer.toB58String()),n.rest()):(i("stop request failed with code %d",t.code),void n.close()):n.close()}},72866:(e,t,r)=>{"use strict";const n=r(87175),i=Object.assign(n("libp2p:circuit:stream-handler"),{error:n("libp2p:circuit:stream-handler:err")}),s=r(48963),o=r(52261),a=r(79123)["CircuitRelay"];e.exports=class{constructor({stream:e,maxLength:t=4096}){this.stream=e,this.shake=o(this.stream),this.decoder=s.decode.fromReader(this.shake.reader,{maxDataLength:t})}async read(){const e=await this.decoder.next();if(e.value){var t=a.decode(e.value.slice());return i("read message type",t.type),t}i("read received no value, closing stream"),this.close()}write(e){i("write message type %s",e.type),this.shake.write(s.encode.single(a.encode(e).finish()))}rest(){return this.shake.rest(),this.shake.stream}end(e){this.write(e),this.close()}close(){i("closing the stream"),this.rest().sink([])}}},44780:(e,t,r)=>{"use strict";const n=r(46584)["Multiaddr"],i=r(79123)["CircuitRelay"];function s(e,t){e.write({type:i.Type.STATUS,code:t})}e.exports={validateAddrs:function(t,r){try{t.dstPeer&&t.dstPeer.addrs&&t.dstPeer.addrs.forEach(e=>new n(e))}catch(e){throw s(r,t.type===i.Type.HOP?i.Status.HOP_DST_MULTIADDR_INVALID:i.Status.STOP_DST_MULTIADDR_INVALID),e}try{t.srcPeer&&t.srcPeer.addrs&&t.srcPeer.addrs.forEach(e=>new n(e))}catch(e){throw s(r,t.type===i.Type.HOP?i.Status.HOP_SRC_MULTIADDR_INVALID:i.Status.STOP_SRC_MULTIADDR_INVALID),e}}}},33053:e=>{"use strict";e.exports={ADVERTISE_BOOT_DELAY:9e5,ADVERTISE_TTL:18e5,CIRCUIT_PROTO_CODE:290,HOP_METADATA_KEY:"hop_relay",HOP_METADATA_VALUE:"true",RELAY_RENDEZVOUS_NS:"/libp2p/relay"}},2715:(e,t,r)=>{"use strict";const n=r(87175),i=Object.assign(n("libp2p:relay"),{error:n("libp2p:relay:err")}),{setDelayedInterval:s,clearDelayedInterval:o}=r(27695),a=r(58126),c=r(32497)["namespaceToCid"],u=r(33053)["RELAY_RENDEZVOUS_NS"];e.exports=class{constructor(e){this._libp2p=e,this._options={...e._config.relay},this._autoRelay=this._options.autoRelay.enabled&&new a({libp2p:e,...this._options.autoRelay}),this._advertiseService=this._advertiseService.bind(this)}start(){this._options.hop.enabled&&this._options.advertise.enabled&&(this._timeout=s(this._advertiseService,this._options.advertise.ttl,this._options.advertise.bootDelay))}stop(){o(this._timeout)}async _advertiseService(){try{var e=await c(u);await this._libp2p.contentRouting.provide(e)}catch(e){"NO_ROUTERS_AVAILABLE"===e.code?(i.error("a content router, such as a DHT, must be provided in order to advertise the relay service",e),this.stop()):i.error(e)}}}},64538:(e,t,r)=>{"use strict";const n=r(17187)["EventEmitter"],a=r(46584)["Multiaddr"];e.exports=i=>{const s=new Map,o=Object.assign(new n,{close:()=>Promise.resolve(),listen:async function(e){const t=String(e).split("/p2p-circuit").find(e=>""!==e),r=await i.dial(new a(t)),n=r.remoteAddr.encapsulate("/p2p-circuit");s.set(r.remotePeer.toB58String(),n),o.emit("listening")},getAddrs:function(){const e=[];for(const t of s.values())e.push(t);return e}});return i.connectionManager.on("peer:disconnect",e=>{s.delete(e.remotePeer.toB58String())&&o.emit("close")}),o}},49284:e=>{"use strict";e.exports={relay:"/libp2p/circuit/relay/0.1.0"}},79123:(e,t,r)=>{"use strict";var n,i=r(62100),s=i.Reader,o=i.Writer,a=i.util,c=i.roots["libp2p-circuit"]||(i.roots["libp2p-circuit"]={});function u(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function h(e){if(this.addrs=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}c.CircuitRelay=(u.prototype.type=1,u.prototype.srcPeer=null,u.prototype.dstPeer=null,u.prototype.code=100,u.encode=function(e,t){return t=t||o.create(),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.srcPeer&&Object.hasOwnProperty.call(e,"srcPeer")&&c.CircuitRelay.Peer.encode(e.srcPeer,t.uint32(18).fork()).ldelim(),null!=e.dstPeer&&Object.hasOwnProperty.call(e,"dstPeer")&&c.CircuitRelay.Peer.encode(e.dstPeer,t.uint32(26).fork()).ldelim(),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(32).int32(e.code),t},u.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new c.CircuitRelay;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.type=e.int32();break;case 2:n.srcPeer=c.CircuitRelay.Peer.decode(e,e.uint32());break;case 3:n.dstPeer=c.CircuitRelay.Peer.decode(e,e.uint32());break;case 4:n.code=e.int32();break;default:e.skipType(7&i)}}return n},u.fromObject=function(e){if(e instanceof c.CircuitRelay)return e;var t=new c.CircuitRelay;switch(e.type){case"HOP":case 1:t.type=1;break;case"STOP":case 2:t.type=2;break;case"STATUS":case 3:t.type=3;break;case"CAN_HOP":case 4:t.type=4}if(null!=e.srcPeer){if("object"!=typeof e.srcPeer)throw TypeError(".CircuitRelay.srcPeer: object expected");t.srcPeer=c.CircuitRelay.Peer.fromObject(e.srcPeer)}if(null!=e.dstPeer){if("object"!=typeof e.dstPeer)throw TypeError(".CircuitRelay.dstPeer: object expected");t.dstPeer=c.CircuitRelay.Peer.fromObject(e.dstPeer)}switch(e.code){case"SUCCESS":case 100:t.code=100;break;case"HOP_SRC_ADDR_TOO_LONG":case 220:t.code=220;break;case"HOP_DST_ADDR_TOO_LONG":case 221:t.code=221;break;case"HOP_SRC_MULTIADDR_INVALID":case 250:t.code=250;break;case"HOP_DST_MULTIADDR_INVALID":case 251:t.code=251;break;case"HOP_NO_CONN_TO_DST":case 260:t.code=260;break;case"HOP_CANT_DIAL_DST":case 261:t.code=261;break;case"HOP_CANT_OPEN_DST_STREAM":case 262:t.code=262;break;case"HOP_CANT_SPEAK_RELAY":case 270:t.code=270;break;case"HOP_CANT_RELAY_TO_SELF":case 280:t.code=280;break;case"STOP_SRC_ADDR_TOO_LONG":case 320:t.code=320;break;case"STOP_DST_ADDR_TOO_LONG":case 321:t.code=321;break;case"STOP_SRC_MULTIADDR_INVALID":case 350:t.code=350;break;case"STOP_DST_MULTIADDR_INVALID":case 351:t.code=351;break;case"STOP_RELAY_REFUSED":case 390:t.code=390;break;case"MALFORMED_MESSAGE":case 400:t.code=400}return t},u.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.type=t.enums===String?"HOP":1,r.srcPeer=null,r.dstPeer=null,r.code=t.enums===String?"SUCCESS":100),null!=e.type&&e.hasOwnProperty("type")&&(r.type=t.enums===String?c.CircuitRelay.Type[e.type]:e.type),null!=e.srcPeer&&e.hasOwnProperty("srcPeer")&&(r.srcPeer=c.CircuitRelay.Peer.toObject(e.srcPeer,t)),null!=e.dstPeer&&e.hasOwnProperty("dstPeer")&&(r.dstPeer=c.CircuitRelay.Peer.toObject(e.dstPeer,t)),null!=e.code&&e.hasOwnProperty("code")&&(r.code=t.enums===String?c.CircuitRelay.Status[e.code]:e.code),r},u.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},u.Status=(n={},(r=Object.create(n))[n[100]="SUCCESS"]=100,r[n[220]="HOP_SRC_ADDR_TOO_LONG"]=220,r[n[221]="HOP_DST_ADDR_TOO_LONG"]=221,r[n[250]="HOP_SRC_MULTIADDR_INVALID"]=250,r[n[251]="HOP_DST_MULTIADDR_INVALID"]=251,r[n[260]="HOP_NO_CONN_TO_DST"]=260,r[n[261]="HOP_CANT_DIAL_DST"]=261,r[n[262]="HOP_CANT_OPEN_DST_STREAM"]=262,r[n[270]="HOP_CANT_SPEAK_RELAY"]=270,r[n[280]="HOP_CANT_RELAY_TO_SELF"]=280,r[n[320]="STOP_SRC_ADDR_TOO_LONG"]=320,r[n[321]="STOP_DST_ADDR_TOO_LONG"]=321,r[n[350]="STOP_SRC_MULTIADDR_INVALID"]=350,r[n[351]="STOP_DST_MULTIADDR_INVALID"]=351,r[n[390]="STOP_RELAY_REFUSED"]=390,r[n[400]="MALFORMED_MESSAGE"]=400,r),u.Type=(n={},(r=Object.create(n))[n[1]="HOP"]=1,r[n[2]="STOP"]=2,r[n[3]="STATUS"]=3,r[n[4]="CAN_HOP"]=4,r),u.Peer=(h.prototype.id=a.newBuffer([]),h.prototype.addrs=a.emptyArray,h.encode=function(e,t){if((t=t||o.create()).uint32(10).bytes(e.id),null!=e.addrs&&e.addrs.length)for(var r=0;r<e.addrs.length;++r)t.uint32(18).bytes(e.addrs[r]);return t},h.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new c.CircuitRelay.Peer;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.id=e.bytes();break;case 2:n.addrs&&n.addrs.length||(n.addrs=[]),n.addrs.push(e.bytes());break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("id"))throw a.ProtocolError("missing required 'id'",{instance:n});return n},h.fromObject=function(e){if(e instanceof c.CircuitRelay.Peer)return e;var t=new c.CircuitRelay.Peer;if(null!=e.id&&("string"==typeof e.id?a.base64.decode(e.id,t.id=a.newBuffer(a.base64.length(e.id)),0):e.id.length&&(t.id=e.id)),e.addrs){if(!Array.isArray(e.addrs))throw TypeError(".CircuitRelay.Peer.addrs: array expected");t.addrs=[];for(var r=0;r<e.addrs.length;++r)"string"==typeof e.addrs[r]?a.base64.decode(e.addrs[r],t.addrs[r]=a.newBuffer(a.base64.length(e.addrs[r])),0):e.addrs[r].length&&(t.addrs[r]=e.addrs[r])}return t},h.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.addrs=[]),t.defaults&&(t.bytes===String?r.id="":(r.id=[],t.bytes!==Array&&(r.id=a.newBuffer(r.id)))),null!=e.id&&e.hasOwnProperty("id")&&(r.id=t.bytes===String?a.base64.encode(e.id,0,e.id.length):t.bytes===Array?Array.prototype.slice.call(e.id):e.id),e.addrs&&e.addrs.length){r.addrs=[];for(var n=0;n<e.addrs.length;++n)r.addrs[n]=t.bytes===String?a.base64.encode(e.addrs[n],0,e.addrs[n].length):t.bytes===Array?Array.prototype.slice.call(e.addrs[n]):e.addrs[n]}return r},h.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},h),u),e.exports=c},91491:(e,t,r)=>{"use strict";const n=r(87175),l=Object.assign(n("libp2p:circuit"),{error:n("libp2p:circuit:err")}),d=r(26550),i=r(29175),f=r(46584)["Multiaddr"],p=r(88785),y=r(79123)["CircuitRelay"],g=r(23416)["codes"],m=r(15091),s=r(49284)["relay"],o=r(64538),{handleCanHop:a,handleHop:c,hop:b}=r(71466),u=r(10655)["handleStop"],h=r(72866),v=Symbol.for("@libp2p/js-libp2p-circuit/circuit");class w{constructor({libp2p:e,upgrader:t}){this._dialer=e.dialer,this._registrar=e.registrar,this._connectionManager=e.connectionManager,this._upgrader=t,this._options=e._config.relay,this._libp2p=e,this.peerId=e.peerId,this._registrar.handle(s,this._onProtocol.bind(this))}async _onProtocol({connection:t,stream:r}){const n=new h({stream:r}),i=await n.read();if(i){const s=this;let e;switch(i.type){case y.Type.CAN_HOP:l("received CAN_HOP request from %s",t.remotePeer.toB58String()),await a({circuit:s,connection:t,streamHandler:n});break;case y.Type.HOP:l("received HOP request from %s",t.remotePeer.toB58String()),e=await c({connection:t,request:i,streamHandler:n,circuit:s});break;case y.Type.STOP:l("received STOP request from %s",t.remotePeer.toB58String()),e=await u({connection:t,request:i,streamHandler:n});break;default:l("Request of type %s not supported",i.type)}if(e){const t=new f(i.dstPeer.addrs[0]),o=new f(i.srcPeer.addrs[0]),n=m({stream:e,remoteAddr:t,localAddr:o}),s=i.type===y.Type.HOP?"relay":"inbound";l("new %s connection %s",s,n.remoteAddr);r=await this._upgrader.upgradeInbound(n);l("%s connection %s upgraded",s,n.remoteAddr),this.handler&&this.handler(r)}}}async dial(e,t){const r=e.toString().split("/p2p-circuit"),n=new f(r[0]),i=new f(r[r.length-1]),s=n.getPeerId(),o=i.getPeerId();if(!s||!o){const e="Circuit relay dial failed as addresses did not have peer id";throw l.error(e),d(new Error(e),g.ERR_RELAYED_DIAL)}const a=p.createFromB58String(s),c=p.createFromB58String(o);let u=!1,h=this._connectionManager.get(a);h||(h=await this._dialer.connectToPeer(n,t),u=!0);try{const t=await b({connection:h,request:{type:y.Type.HOP,srcPeer:{id:this.peerId.toBytes(),addrs:this._libp2p.multiaddrs.map(e=>e.bytes)},dstPeer:{id:c.toBytes(),addrs:[new f(i).bytes]}}}),r=n.encapsulate("/p2p-circuit/p2p/"+this.peerId.toB58String()),d=m({stream:t,remoteAddr:e,localAddr:r});return l("new outbound connection %s",d.remoteAddr),this._upgrader.upgradeOutbound(d)}catch(e){throw l.error("Circuit relay dial failed",e),u&&await h.close(),e}}createListener(e,t){return"function"==typeof e&&(t=e,e={}),this.handler=t,o(this._libp2p)}filter(e){return(e=Array.isArray(e)?e:[e]).filter(e=>i.Circuit.matches(e))}get[Symbol.toStringTag](){return"Circuit"}static isTransport(e){return Boolean(e&&e[v])}}e.exports=w},32497:(e,t,r)=>{"use strict";const n=r(81362)["CID"],i=r(56155)["sha256"];e.exports.namespaceToCid=async e=>{e=(new TextEncoder).encode(e),e=await i.digest(e);return n.createV0(e)}},36195:(e,t,r)=>{"use strict";const n=r(70942),i=r(39004)["dnsaddrResolver"],s=r(3524),o=r(78508)["AGENT_VERSION"],a=r(33053),c=r(53737)["publicAddressesFirst"],u=r(6984)["FaultTolerance"],h={addresses:{listen:[],announce:[],noAnnounce:[],announceFilter:e=>e},connectionManager:{minConnections:25},transportManager:{faultTolerance:u.FATAL_ALL},dialer:{maxParallelDials:s.MAX_PARALLEL_DIALS,maxDialsPerPeer:s.MAX_PER_PEER_DIALS,dialTimeout:s.DIAL_TIMEOUT,resolvers:{dnsaddr:i},addressSorter:c},host:{agentVersion:o},metrics:{enabled:!1},peerStore:{persistence:!1,threshold:5},peerRouting:{refreshManager:{enabled:!0,interval:6e5,bootDelay:1e4}},config:{protocolPrefix:"ipfs",dht:{enabled:!1,kBucketSize:20,randomWalk:{enabled:!1,queriesPerPeriod:1,interval:3e5,timeout:1e4}},nat:{enabled:!0,ttl:7200,keepAlive:!0,gateway:null,externalIp:null,pmp:{enabled:!1}},peerDiscovery:{autoDial:!0},pubsub:{enabled:!0},relay:{enabled:!0,advertise:{bootDelay:a.ADVERTISE_BOOT_DELAY,enabled:!1,ttl:a.ADVERTISE_TTL},hop:{enabled:!1,active:!1},autoRelay:{enabled:!1,maxListeners:2}},transport:{}}};e.exports.validate=e=>{e=n(h,e);if(e.modules.transport.length<1)throw new Error("'options.modules.transport' must contain at least 1 transport");return e}},7376:(e,t,r)=>{"use strict";const n=r(87175),i=Object.assign(n("libp2p:connection-manager"),{error:n("libp2p:connection-manager:err")}),s=r(26550),o=r(70942),a=r(84593),c=r(82916),u=r(17187)["EventEmitter"],h=r(88785),{codes:{ERR_INVALID_PARAMETERS:l}}=r(23416),d={maxConnections:1/0,minConnections:0,maxData:1/0,maxSentData:1/0,maxReceivedData:1/0,maxEventLoopDelay:1/0,pollInterval:2e3,autoDialInterval:1e4,movingAverageInterval:6e4,defaultPeerValue:1};e.exports=class extends u{constructor(e,t={}){if(super(),this._libp2p=e,this._peerId=e.peerId.toB58String(),this._options=o.call({ignoreUndefined:!0},d,t),this._options.maxConnections<this._options.minConnections)throw s(new Error("Connection Manager maxConnections must be greater than minConnections"),l);i("options: %j",this._options),this._peerValues=new Map,this.connections=new Map,this._started=!1,this._timer=null,this._autoDialTimeout=null,this._checkMetrics=this._checkMetrics.bind(this),this._autoDial=this._autoDial.bind(this),this._latencyMonitor=new a({latencyCheckIntervalMs:this._options.pollInterval,dataEmitIntervalMs:this._options.pollInterval})}get size(){return Array.from(this.connections.values()).reduce((e,t)=>e+t.length,0)}start(){this._libp2p.metrics&&(this._timer=this._timer||c(this._checkMetrics,this._options.pollInterval)),this._latencyMonitor.start(),this._onLatencyMeasure=this._onLatencyMeasure.bind(this),this._latencyMonitor.on("data",this._onLatencyMeasure),this._started=!0,i("started"),this._options.autoDial&&this._autoDial()}async stop(){this._autoDialTimeout&&this._autoDialTimeout.clear(),this._timer&&this._timer.clear(),this._latencyMonitor.removeListener("data",this._onLatencyMeasure),this._latencyMonitor.stop(),this._started=!1,await this._close(),i("stopped")}async _close(){const e=[];for(const t of this.connections.values())for(const r of t)e.push(r.close());await Promise.all(e),this.connections.clear()}setPeerValue(e,t){if(t<0||1<t)throw new Error("value should be a number between 0 and 1");this._peerValues.set(e.toB58String(),t)}_checkMetrics(){if(this._libp2p.metrics){const t=this._libp2p.metrics.global.movingAverages,r=t.dataReceived[this._options.movingAverageInterval].movingAverage();this._checkMaxLimit("maxReceivedData",r);var e=t.dataSent[this._options.movingAverageInterval].movingAverage();this._checkMaxLimit("maxSentData",e);e=r+e;this._checkMaxLimit("maxData",e),i("metrics update",e),this._timer=c(this._checkMetrics,this._options.pollInterval)}}onConnect(e){const t=e.remotePeer,r=t.toB58String(),n=this.connections.get(r);this.emit("peer:connect",e),n?n.push(e):this.connections.set(r,[e]),this._libp2p.peerStore.keyBook.set(t,t.pubKey),this._peerValues.has(r)||this._peerValues.set(r,this._options.defaultPeerValue),this._checkMaxLimit("maxConnections",this.size)}onDisconnect(t){var e=t.remotePeer.toB58String();let r=this.connections.get(e);r&&1<r.length?(r=r.filter(e=>e.id!==t.id),this.connections.set(e,r)):r&&(this.connections.delete(e),this._peerValues.delete(t.remotePeer.toB58String()),this.emit("peer:disconnect",t))}get(e){e=this.getAll(e);return e.length?e[0]:null}getAll(e){if(!h.isPeerId(e))throw s(new Error("peerId must be an instance of peer-id"),l);const t=e.toB58String(),r=this.connections.get(t);return r?r.filter(e=>"open"===e.stat.status):[]}_onLatencyMeasure(e){this._checkMaxLimit("maxEventLoopDelay",e.avgMs)}_checkMaxLimit(e,t){var r=this._options[e];i("checking limit of %s. current value: %d of %d",e,t,r),r<t&&(i("%s: limit exceeded: %s, %d",this._peerId,e,t),this._maybeDisconnectOne())}async _autoDial(){var t=this._options.minConnections;if(this.size>=t)this._autoDialTimeout=c(this._autoDial,this._options.autoDialInterval);else{const r=Array.from(this._libp2p.peerStore.peers.values()).sort((e,t)=>t.protocols&&t.protocols.length&&(!e.protocols||!e.protocols.length)||t.id.pubKey&&!e.id.pubKey?1:-1);for(let e=0;e<r.length&&this.size<t;e++)if(!this.get(r[e].id)){i("connecting to a peerStore stored peer %s",r[e].id.toB58String());try{if(await this._libp2p.dialer.connectToPeer(r[e].id),!this._started)return}catch(t){i.error("could not connect to peerStore stored peer",t)}}this._autoDialTimeout=c(this._autoDial,this._options.autoDialInterval)}}_maybeDisconnectOne(){if(this._options.minConnections<this.connections.size){var e=Array.from(new Map([...this._peerValues.entries()].sort((e,t)=>e[1]-t[1])));i("%s: sorted peer values: %j",this._peerId,e);e=e[0];if(e){var t=e[0];i("%s: lowest value peer is %s",this._peerId,t),i("%s: closing a connection to %j",this._peerId,t);for(const r of this.connections.values())if(r[0].remotePeer.toB58String()===t){r[0].close();break}}}}}},84593:(e,t,r)=>{"use strict";const n=r(17187)["EventEmitter"],i=r(7527),s=r(87175)("latency-monitor:LatencyMonitor");e.exports=class extends n{constructor({latencyCheckIntervalMs:e,dataEmitIntervalMs:t,asyncTestFn:r,latencyRandomPercentage:n}={}){super();var i=this;i.latencyCheckIntervalMs=e||500,i.latencyRandomPercentage=n||10,i._latecyCheckMultiply=i.latencyRandomPercentage/100*2*i.latencyCheckIntervalMs,i._latecyCheckSubtract=i._latecyCheckMultiply/2,i.dataEmitIntervalMs=null===t||0===t?void 0:t||5e3,s("latencyCheckIntervalMs: %s dataEmitIntervalMs: %s",i.latencyCheckIntervalMs,i.dataEmitIntervalMs),i.dataEmitIntervalMs?s("Expecting ~%s events per summary",i.latencyCheckIntervalMs/i.dataEmitIntervalMs):s("Not emitting summaries"),i.asyncTestFn=r}start(){globalThis.process&&globalThis.process.hrtime?(s("Using process.hrtime for timing"),this.now=globalThis.process.hrtime,this.getDeltaMS=e=>{e=this.now(e);return 1e3*e[0]+e[1]/1e6}):"undefined"!=typeof window&&window.performance&&window.performance.now?(s("Using performance.now for timing"),this.now=window.performance.now.bind(window.performance),this.getDeltaMS=e=>Math.round(this.now()-e)):(s("Using Date.now for timing"),this.now=Date.now,this.getDeltaMS=e=>this.now()-e),this._latencyData=this._initLatencyData(),"undefined"!=typeof window&&(this._visibilityChangeEmitter=new i,this._visibilityChangeEmitter.on("visibilityChange",e=>{e?this._startTimers():(this._emitSummary(),this._stopTimers())})),this._visibilityChangeEmitter&&!this._visibilityChangeEmitter.isVisible()||this._startTimers()}stop(){this._stopTimers()}_startTimers(){this._checkLatencyID||(this._checkLatency(),this.dataEmitIntervalMs&&(this._emitIntervalID=setInterval(()=>this._emitSummary(),this.dataEmitIntervalMs),"function"==typeof this._emitIntervalID.unref&&this._emitIntervalID.unref()))}_stopTimers(){this._checkLatencyID&&(clearTimeout(this._checkLatencyID),this._checkLatencyID=void 0),this._emitIntervalID&&(clearInterval(this._emitIntervalID),this._emitIntervalID=void 0)}_emitSummary(){var e=this.getSummary();0<e.events&&this.emit("data",e)}getSummary(){var e={events:this._latencyData.events,minMs:this._latencyData.minMs,maxMs:this._latencyData.maxMs,avgMs:this._latencyData.events?this._latencyData.totalMs/this._latencyData.events:Number.POSITIVE_INFINITY,lengthMs:this.getDeltaMS(this._latencyData.startTime)};return this._latencyData=this._initLatencyData(),s("Summary: %O",e),e}_checkLatency(){const t=this,e=Math.random()*t._latecyCheckMultiply-t._latecyCheckSubtract,r={deltaOffset:Math.ceil(t.latencyCheckIntervalMs+e),startTime:t.now()},n=()=>{var e;this._checkLatencyID&&(e=t.getDeltaMS(r.startTime)-r.deltaOffset,t._checkLatency(),t._latencyData.events++,t._latencyData.minMs=Math.min(t._latencyData.minMs,e),t._latencyData.maxMs=Math.max(t._latencyData.maxMs,e),t._latencyData.totalMs+=e,s("MS: %s Data: %O",e,t._latencyData))};s("localData: %O",r),this._checkLatencyID=setTimeout(()=>{t.asyncTestFn?(r.deltaOffset=0,r.startTime=t.now(),t.asyncTestFn(n)):(--r.deltaOffset,n())},r.deltaOffset),"function"==typeof this._checkLatencyID.unref&&this._checkLatencyID.unref()}_initLatencyData(){return{startTime:this.now(),minMs:Number.POSITIVE_INFINITY,maxMs:Number.NEGATIVE_INFINITY,events:0,totalMs:0}}}},7527:(e,t,r)=>{"use strict";const n=r(17187)["EventEmitter"],i=r(87175)("latency-monitor:VisibilityChangeEmitter");e.exports=class extends n{constructor(){super(),"undefined"!=typeof document?(this._initializeVisibilityVarNames(),this._addVisibilityChangeListener()):i('This is not a browser, no "document" found. Stopping.')}_initializeVisibilityVarNames(){let e,t;void 0!==document.hidden?(e="hidden",t="visibilitychange"):void 0!==document.mozHidden?(e="mozHidden",t="mozvisibilitychange"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),this._hidden=e,this._visibilityChange=t}_addVisibilityChangeListener(){void 0===document.addEventListener||void 0===document[this._hidden]?i("Checking page visibility requires a browser that supports the Page Visibility API."):document.addEventListener(this._visibilityChange,this._handleVisibilityChange.bind(this),!1)}isVisible(){if(void 0!==this._hidden&&void 0!==document[this._hidden])return!document[this._hidden]}_handleVisibilityChange(){var e=!document[this._hidden];i(e?"Page Visible":"Page Hidden"),this.emit("visibilityChange",e)}}},3524:e=>{"use strict";e.exports={DIAL_TIMEOUT:3e4,MAX_PARALLEL_DIALS:100,MAX_PER_PEER_DIALS:4,MAX_ADDRS_TO_DIAL:25,METRICS:{computeThrottleMaxQueueSize:1e3,computeThrottleTimeout:2e3,movingAverageIntervals:[6e4,3e5,9e5],maxOldPeersRetention:50}}},57197:(e,t,r)=>{"use strict";const i=r(26550),{messages:s,codes:o}=r(23416),{storeAddresses:n,uniquePeers:a,requirePeers:c,maybeLimitSource:u}=r(63952),h=r(64593),l=r(74014),d=r(60618)["pipe"],f=r(64515)["DHTContentRouting"];e.exports=class{constructor(e){this.libp2p=e,this.routers=e._modules.contentRouting||[],this.dht=e._dht,this.dht&&e._config.dht.enabled&&this.routers.push(new f(this.dht))}async*findProviders(t,r={}){if(!this.routers.length)throw i(new Error("No content this.routers available"),"NO_ROUTERS_AVAILABLE");yield*d(l(...this.routers.map(e=>e.findProviders(t,r))),e=>n(e,this.libp2p.peerStore),e=>a(e),e=>u(e,r.maxNumProviders),e=>c(e))}async provide(t){if(!this.routers.length)throw i(new Error("No content routers available"),"NO_ROUTERS_AVAILABLE");await Promise.all(this.routers.map(e=>e.provide(t)))}async put(e,t,r){if(!this.libp2p.isStarted()||!this.dht.isStarted)throw i(new Error(s.NOT_STARTED_YET),o.DHT_NOT_STARTED);await h(this.dht.put(e,t,r))}async get(e,t){if(!this.libp2p.isStarted()||!this.dht.isStarted)throw i(new Error(s.NOT_STARTED_YET),o.DHT_NOT_STARTED);for await(const r of this.dht.get(e,t))if("VALUE"===r.name)return{from:r.peerId,val:r.value};throw i(new Error(s.NOT_FOUND),o.ERR_NOT_FOUND)}async*getMany(t,r,n){if(!this.libp2p.isStarted()||!this.dht.isStarted)throw i(new Error(s.NOT_STARTED_YET),o.DHT_NOT_STARTED);if(r){let e=0;for await(const i of this.dht.get(t,n))if("VALUE"===i.name&&(yield{from:i.peerId,val:i.value},e++,e===r))break;if(0===e)throw i(new Error(s.NOT_FOUND),o.ERR_NOT_FOUND)}}}},63952:(e,t,r)=>{"use strict";const n=r(26550),i=r(55565),s=r(32121),o=r(37939);e.exports={storeAddresses:function(e,t){return s(e,e=>(t.addressBook.add(e.id,e.multiaddrs),e))},uniquePeers:function(e){const t=new Set;return i(e,e=>!t.has(e.id.toString())&&(t.add(e.id.toString()),!0))},requirePeers:async function*(e,t=1){let r=0;for await(const t of e)r++,yield t;if(r<t)throw n(new Error("not found"),"NOT_FOUND")},maybeLimitSource:function(e,t){return t?o(e,t):e}}},64515:(e,t,r)=>{"use strict";const n=r(64593);e.exports={DHTContentRouting:class{constructor(e){this._dht=e}async provide(e){await n(this._dht.provide(e))}async*findProviders(e,t){for await(const r of this._dht.findProviders(e,t))"PROVIDER"===r.name&&(yield*r.providers)}}}},70937:(e,t,r)=>{"use strict";const n=r(26550),{messages:i,codes:s}=r(23416);e.exports={DHTPeerRouting:class{constructor(e){this._dht=e}async findPeer(e,t={}){for await(const r of this._dht.findPeer(e,t))if("FINAL_PEER"===r.name)return r.peer;throw n(new Error(i.NOT_FOUND),s.ERR_NOT_FOUND)}async*getClosestPeers(e,t={}){for await(const r of this._dht.getClosestPeers(e,t))"PEER_RESPONSE"===r.name&&(yield*r.closer)}}}},65639:(e,t,r)=>{"use strict";const n=r(26550),i=r(28599).default,h=r(32044)["anySignal"],l=r(35103),d=r(61750);e.exports=class{constructor({addrs:e,dialAction:t,dialer:r}){this.addrs=e,this.dialer=r,this.dialAction=t}async run(s={}){const o=this.dialer.getTokens(this.addrs.length);if(o.length<1)throw n(new Error("No dial tokens available"),"ERR_NO_DIAL_TOKENS");const a=new l;o.forEach(e=>a.push(e));const c=this.addrs.map(()=>new i);let u=0;try{return await d(this.addrs.map(async(e,t)=>{var r=await a.shift();let n;try{var i=c[t].signal;n=await this.dialAction(e,{...s,signal:s.signal?h([i,s.signal]):i}),c.splice(t,1)}finally{u++,this.addrs.length-u>=o.length?a.push(r):this.dialer.releaseToken(o.splice(o.indexOf(r),1)[0])}return n}))}finally{c.map(e=>e.abort()),o.forEach(e=>this.dialer.releaseToken(e))}}}},63849:(e,t,r)=>{"use strict";const n=r(87175),i=Object.assign(n("libp2p:dialer"),{error:n("libp2p:dialer:err")}),o=r(26550),c=r(46584)["Multiaddr"],a=r(10715),s=r(61623)["AbortError"],u=r(32044)["anySignal"],h=r(65639),l=r(53737)["publicAddressesFirst"],d=r(43079),f=r(23416)["codes"],{DIAL_TIMEOUT:p,MAX_PARALLEL_DIALS:y,MAX_PER_PEER_DIALS:g,MAX_ADDRS_TO_DIAL:m}=r(3524);e.exports=class{constructor({transportManager:e,peerStore:t,addressSorter:r=l,maxParallelDials:n=y,maxAddrsToDial:i=m,dialTimeout:s=p,maxDialsPerPeer:o=g,resolvers:a={}}){this.transportManager=e,this.peerStore=t,this.addressSorter=r,this.maxParallelDials=n,this.maxAddrsToDial=i,this.timeout=s,this.maxDialsPerPeer=o,this.tokens=[...new Array(n)].map((e,t)=>t),this._pendingDials=new Map,this._pendingDialTargets=new Map;for(const[e,t]of Object.entries(a))c.resolvers.set(e,t)}destroy(){for(const e of this._pendingDials.values())try{e.controller.abort()}catch(e){i.error(e)}this._pendingDials.clear();for(const t of this._pendingDialTargets.values())t.reject(new s("Dialer was destroyed"));this._pendingDialTargets.clear()}async connectToPeer(e,t={}){var r=await this._createCancellableDialTarget(e);if(!r.addrs.length)throw o(new Error("The dial request has no valid addresses"),f.ERR_NO_VALID_ADDRESSES);const n=this._pendingDials.get(r.id)||this._createPendingDial(r,t);try{const e=await n.promise;return i("dial succeeded to %s",r.id),e}catch(e){throw n.controller.signal.aborted&&(e.code=f.ERR_TIMEOUT),i.error(e),e}finally{n.destroy()}}async _createCancellableDialTarget(e){const r=""+(parseInt(String(1e9*Math.random()),10).toString()+Date.now()),t=new Promise((e,t)=>{this._pendingDialTargets.set(r,{resolve:e,reject:t})}),n=await Promise.race([this._createDialTarget(e),t]);return this._pendingDialTargets.delete(r),n}async _createDialTarget(t){const{id:e,multiaddrs:r}=d(t);r&&this.peerStore.addressBook.add(e,r);let n=this.peerStore.addressBook.getMultiaddrsForPeer(e,this.addressSorter)||[];c.isMultiaddr(t)&&(n=n.filter(e=>!t.equals(e)),n.unshift(t));const i=[];for(const t of n)(await this._resolve(t)).forEach(e=>i.push(e));var s=i.filter(e=>this.transportManager.transportForMultiaddr(e));if(s.length>this.maxAddrsToDial)throw this.peerStore.delete(e),o(new Error("dial with more addresses than allowed"),f.ERR_TOO_MANY_ADDRESSES);return{id:e.toB58String(),addrs:s}}_createPendingDial(e,t={}){const r=new h({addrs:e.addrs,dialAction:(e,t)=>{if(t.signal.aborted)throw o(new Error("already aborted"),f.ERR_ALREADY_ABORTED);return this.transportManager.dial(e,t)},dialer:this}),n=new a(this.timeout),i=[n.signal];t.signal&&i.push(t.signal);var s=u(i),s={dialRequest:r,controller:n,promise:r.run({...t,signal:s}),destroy:()=>{n.clear(),this._pendingDials.delete(e.id)}};return this._pendingDials.set(e.id,s),s}getTokens(e){var t=Math.min(e,this.maxDialsPerPeer,this.tokens.length),r=this.tokens.splice(0,t);return i("%d tokens request, returning %d, %d remaining",e,t,this.tokens.length),r}releaseToken(e){-1<this.tokens.indexOf(e)||(i("token %d released",e),this.tokens.push(e))}async _resolve(e){if(!e.protoNames().includes("dnsaddr"))return[e];const t=await this._resolveRecord(e);return(await Promise.all(t.map(e=>this._resolve(e)))).flat().reduce((e,t)=>(e.find(e=>e.equals(t))||e.push(t),e),[])}async _resolveRecord(t){try{return await(t=new c(t.toString())).resolve()}catch(e){return i.error(`multiaddr ${t} could not be resolved`),[]}}}},23416:(e,t)=>{"use strict";t.messages={NOT_STARTED_YET:"The libp2p node is not started yet",DHT_DISABLED:"DHT is not available",CONN_ENCRYPTION_REQUIRED:"At least one connection encryption module is required",NOT_FOUND:"Not found"},t.codes={DHT_DISABLED:"ERR_DHT_DISABLED",PUBSUB_NOT_STARTED:"ERR_PUBSUB_NOT_STARTED",DHT_NOT_STARTED:"ERR_DHT_NOT_STARTED",CONN_ENCRYPTION_REQUIRED:"ERR_CONN_ENCRYPTION_REQUIRED",ERR_INVALID_PROTOCOLS_FOR_STREAM:"ERR_INVALID_PROTOCOLS_FOR_STREAM",ERR_CONNECTION_ENDED:"ERR_CONNECTION_ENDED",ERR_CONNECTION_FAILED:"ERR_CONNECTION_FAILED",ERR_NODE_NOT_STARTED:"ERR_NODE_NOT_STARTED",ERR_ALREADY_ABORTED:"ERR_ALREADY_ABORTED",ERR_TOO_MANY_ADDRESSES:"ERR_TOO_MANY_ADDRESSES",ERR_NO_VALID_ADDRESSES:"ERR_NO_VALID_ADDRESSES",ERR_RELAYED_DIAL:"ERR_RELAYED_DIAL",ERR_DIALED_SELF:"ERR_DIALED_SELF",ERR_DISCOVERED_SELF:"ERR_DISCOVERED_SELF",ERR_DUPLICATE_TRANSPORT:"ERR_DUPLICATE_TRANSPORT",ERR_ENCRYPTION_FAILED:"ERR_ENCRYPTION_FAILED",ERR_HOP_REQUEST_FAILED:"ERR_HOP_REQUEST_FAILED",ERR_INVALID_KEY:"ERR_INVALID_KEY",ERR_INVALID_MESSAGE:"ERR_INVALID_MESSAGE",ERR_INVALID_PARAMETERS:"ERR_INVALID_PARAMETERS",ERR_INVALID_PEER:"ERR_INVALID_PEER",ERR_MUXER_UNAVAILABLE:"ERR_MUXER_UNAVAILABLE",ERR_NOT_FOUND:"ERR_NOT_FOUND",ERR_TIMEOUT:"ERR_TIMEOUT",ERR_TRANSPORT_UNAVAILABLE:"ERR_TRANSPORT_UNAVAILABLE",ERR_TRANSPORT_DIAL_FAILED:"ERR_TRANSPORT_DIAL_FAILED",ERR_UNSUPPORTED_PROTOCOL:"ERR_UNSUPPORTED_PROTOCOL",ERR_INVALID_MULTIADDR:"ERR_INVALID_MULTIADDR",ERR_SIGNATURE_NOT_VALID:"ERR_SIGNATURE_NOT_VALID"}},43079:(e,t,r)=>{"use strict";const n=r(88785),i=r(46584)["Multiaddr"],s=r(26550),o=r(23416)["codes"];e.exports=function(e){let t;if("string"==typeof e&&(e=new i(e)),i.isMultiaddr(e)){var r=(t=e).getPeerId();if(!r)throw s(new Error(e+" does not have a valid peer type"),o.ERR_INVALID_MULTIADDR);try{e=n.createFromB58String(r)}catch(t){throw s(new Error(e+" is not a valid peer type"),o.ERR_INVALID_MULTIADDR)}}return{id:e,multiaddrs:t?[t]:void 0}}},78508:(e,t,r)=>{"use strict";r=r(28362).version;e.exports.PROTOCOL_VERSION="ipfs/0.1.0",e.exports.AGENT_VERSION="js-libp2p/"+r,e.exports.MULTICODEC_IDENTIFY="/ipfs/id/1.0.0",e.exports.MULTICODEC_IDENTIFY_PUSH="/ipfs/id/push/1.0.0",e.exports.IDENTIFY_PROTOCOL_VERSION="0.1.0",e.exports.MULTICODEC_IDENTIFY_PROTOCOL_NAME="id",e.exports.MULTICODEC_IDENTIFY_PUSH_PROTOCOL_NAME="id/push",e.exports.MULTICODEC_IDENTIFY_PROTOCOL_VERSION="1.0.0",e.exports.MULTICODEC_IDENTIFY_PUSH_PROTOCOL_VERSION="1.0.0"},26078:(e,t,r)=>{"use strict";const n=r(87175),u=Object.assign(n("libp2p:identify"),{error:n("libp2p:identify:err")}),h=r(26550),l=r(48963),d=r(60618)["pipe"],{collect:f,take:p,consume:s}=r(38386),y=r(52217)["fromString"],g=r(88785),m=r(46584)["Multiaddr"],b=r(96653)["toBuffer"],v=r(29966),w=r(31244),_=r(61131),{MULTICODEC_IDENTIFY:i,MULTICODEC_IDENTIFY_PUSH:o,IDENTIFY_PROTOCOL_VERSION:a,MULTICODEC_IDENTIFY_PROTOCOL_NAME:c,MULTICODEC_IDENTIFY_PUSH_PROTOCOL_NAME:E,MULTICODEC_IDENTIFY_PROTOCOL_VERSION:S,MULTICODEC_IDENTIFY_PUSH_PROTOCOL_VERSION:C}=r(78508),A=r(23416)["codes"];class I{static getProtocolStr(e){return{identifyProtocolStr:`/${e._config.protocolPrefix}/${c}/`+S,identifyPushProtocolStr:`/${e._config.protocolPrefix}/${E}/`+C}}constructor({libp2p:e}){this._libp2p=e,this.peerStore=e.peerStore,this.addressManager=e.addressManager,this.connectionManager=e.connectionManager,this.peerId=e.peerId,this.handleMessage=this.handleMessage.bind(this);var t=I.getProtocolStr(e);this.identifyProtocolStr=t.identifyProtocolStr,this.identifyPushProtocolStr=t.identifyPushProtocolStr,this._host={protocolVersion:e._config.protocolPrefix+"/"+a,...e._options.host},this.peerStore.metadataBook.set(this.peerId,"AgentVersion",y(this._host.agentVersion)),this.peerStore.metadataBook.set(this.peerId,"ProtocolVersion",y(this._host.protocolVersion)),this.connectionManager.on("peer:connect",e=>{this.identify(e).catch(u.error)}),this.peerStore.on("change:multiaddrs",({peerId:e})=>{e.toString()===this.peerId.toString()&&this.pushToPeerStore()}),this.peerStore.on("change:protocols",({peerId:e})=>{e.toString()===this.peerId.toString()&&this.pushToPeerStore()})}async push(e){const t=await this.peerStore.addressBook.getRawEnvelope(this.peerId),r=this._libp2p.multiaddrs.map(e=>e.bytes),n=this.peerStore.protoBook.get(this.peerId)||[],i=e.map(async e=>{try{const u=(await e.newStream(this.identifyPushProtocolStr))["stream"];await d([v.Identify.encode({listenAddrs:r,signedPeerRecord:t,protocols:n}).finish()],l.encode(),u,s)}catch(e){u.error("could not push identify update to peer",e)}});return Promise.all(i)}pushToPeerStore(){if(this._libp2p.isStarted()){const t=[];let e;for(const r of this.peerStore.peers.values())r.protocols.includes(this.identifyPushProtocolStr)&&(e=this.connectionManager.get(r.id))&&t.push(e);this.push(t)}}async identify(e){var t=(await e.newStream(this.identifyProtocolStr))["stream"],[t]=await d([],t,l.decode(),p(1),b,f);if(!t)throw h(new Error("No data could be retrieved"),A.ERR_CONNECTION_ENDED);let r;try{r=v.Identify.decode(t)}catch(e){throw h(e,A.ERR_INVALID_MESSAGE)}const{publicKey:n,listenAddrs:i,protocols:s,observedAddr:o,signedPeerRecord:a}=r,c=await g.createFromPubKey(n);if(e.remotePeer.toB58String()!==c.toB58String())throw h(new Error("identified peer does not match the expected peer"),A.ERR_INVALID_PEER);t=I.getCleanMultiaddr(o);try{const e=await w.openAndCertify(a,_.DOMAIN);if(this.peerStore.addressBook.consumePeerRecord(e))return this.peerStore.protoBook.set(c,s),this.peerStore.metadataBook.set(c,"AgentVersion",y(r.agentVersion)),void this.peerStore.metadataBook.set(c,"ProtocolVersion",y(r.protocolVersion))}catch(e){u("received invalid envelope, discard it and fallback to listenAddrs is available",e)}try{this.peerStore.addressBook.set(c,i.map(e=>new m(e)))}catch(e){u.error("received invalid addrs",e)}this.peerStore.protoBook.set(c,s),this.peerStore.metadataBook.set(c,"AgentVersion",y(r.agentVersion)),this.peerStore.metadataBook.set(c,"ProtocolVersion",y(r.protocolVersion)),u("received observed address of %s",t)}handleMessage({connection:e,stream:t,protocol:r}){switch(r){case this.identifyProtocolStr:return this._handleIdentify({connection:e,stream:t});case this.identifyPushProtocolStr:return this._handlePush({connection:e,stream:t});default:u.error("cannot handle unknown protocol %s",r)}}async _handleIdentify({connection:e,stream:t}){let r=new Uint8Array(0);this.peerId.pubKey&&(r=this.peerId.pubKey.bytes);var n=await this.peerStore.addressBook.getRawEnvelope(this.peerId),i=this.peerStore.protoBook.get(this.peerId)||[],i=v.Identify.encode({protocolVersion:this._host.protocolVersion,agentVersion:this._host.agentVersion,publicKey:r,listenAddrs:this._libp2p.multiaddrs.map(e=>e.bytes),signedPeerRecord:n,observedAddr:e.remoteAddr.bytes,protocols:i}).finish();try{await d([i],l.encode(),t,s)}catch(e){u.error("could not respond to identify request",e)}}async _handlePush({connection:e,stream:t}){let r;try{const[e]=await d([],t,l.decode(),p(1),b,f);r=v.Identify.decode(e)}catch(e){return u.error("received invalid message",e)}t=e.remotePeer;try{const e=await w.openAndCertify(r.signedPeerRecord,_.DOMAIN);if(this.peerStore.addressBook.consumePeerRecord(e))return void this.peerStore.protoBook.set(t,r.protocols)}catch(e){u("received invalid envelope, discard it and fallback to listenAddrs is available",e)}try{this.peerStore.addressBook.set(t,r.listenAddrs.map(e=>new m(e)))}catch(e){u.error("received invalid addrs",e)}this.peerStore.protoBook.set(t,r.protocols)}static getCleanMultiaddr(e){if(e&&0<e.length)try{return new m(e)}catch(e){return null}return null}}I.multicodecs={IDENTIFY:i,IDENTIFY_PUSH:o},I.Messsage=v,e.exports=I},29966:(e,t,r)=>{"use strict";var n=r(62100),s=n.Reader,i=n.Writer,o=n.util,a=n.roots["libp2p-identify"]||(n.roots["libp2p-identify"]={});function c(e){if(this.listenAddrs=[],this.protocols=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}a.Identify=(c.prototype.protocolVersion="",c.prototype.agentVersion="",c.prototype.publicKey=o.newBuffer([]),c.prototype.listenAddrs=o.emptyArray,c.prototype.observedAddr=o.newBuffer([]),c.prototype.protocols=o.emptyArray,c.prototype.signedPeerRecord=o.newBuffer([]),c.encode=function(e,t){if(t=t||i.create(),null!=e.publicKey&&Object.hasOwnProperty.call(e,"publicKey")&&t.uint32(10).bytes(e.publicKey),null!=e.listenAddrs&&e.listenAddrs.length)for(var r=0;r<e.listenAddrs.length;++r)t.uint32(18).bytes(e.listenAddrs[r]);if(null!=e.protocols&&e.protocols.length)for(r=0;r<e.protocols.length;++r)t.uint32(26).string(e.protocols[r]);return null!=e.observedAddr&&Object.hasOwnProperty.call(e,"observedAddr")&&t.uint32(34).bytes(e.observedAddr),null!=e.protocolVersion&&Object.hasOwnProperty.call(e,"protocolVersion")&&t.uint32(42).string(e.protocolVersion),null!=e.agentVersion&&Object.hasOwnProperty.call(e,"agentVersion")&&t.uint32(50).string(e.agentVersion),null!=e.signedPeerRecord&&Object.hasOwnProperty.call(e,"signedPeerRecord")&&t.uint32(66).bytes(e.signedPeerRecord),t},c.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.Identify;e.pos<r;){var i=e.uint32();switch(i>>>3){case 5:n.protocolVersion=e.string();break;case 6:n.agentVersion=e.string();break;case 1:n.publicKey=e.bytes();break;case 2:n.listenAddrs&&n.listenAddrs.length||(n.listenAddrs=[]),n.listenAddrs.push(e.bytes());break;case 4:n.observedAddr=e.bytes();break;case 3:n.protocols&&n.protocols.length||(n.protocols=[]),n.protocols.push(e.string());break;case 8:n.signedPeerRecord=e.bytes();break;default:e.skipType(7&i)}}return n},c.fromObject=function(e){if(e instanceof a.Identify)return e;var t=new a.Identify;if(null!=e.protocolVersion&&(t.protocolVersion=String(e.protocolVersion)),null!=e.agentVersion&&(t.agentVersion=String(e.agentVersion)),null!=e.publicKey&&("string"==typeof e.publicKey?o.base64.decode(e.publicKey,t.publicKey=o.newBuffer(o.base64.length(e.publicKey)),0):e.publicKey.length&&(t.publicKey=e.publicKey)),e.listenAddrs){if(!Array.isArray(e.listenAddrs))throw TypeError(".Identify.listenAddrs: array expected");t.listenAddrs=[];for(var r=0;r<e.listenAddrs.length;++r)"string"==typeof e.listenAddrs[r]?o.base64.decode(e.listenAddrs[r],t.listenAddrs[r]=o.newBuffer(o.base64.length(e.listenAddrs[r])),0):e.listenAddrs[r].length&&(t.listenAddrs[r]=e.listenAddrs[r])}if(null!=e.observedAddr&&("string"==typeof e.observedAddr?o.base64.decode(e.observedAddr,t.observedAddr=o.newBuffer(o.base64.length(e.observedAddr)),0):e.observedAddr.length&&(t.observedAddr=e.observedAddr)),e.protocols){if(!Array.isArray(e.protocols))throw TypeError(".Identify.protocols: array expected");for(t.protocols=[],r=0;r<e.protocols.length;++r)t.protocols[r]=String(e.protocols[r])}return null!=e.signedPeerRecord&&("string"==typeof e.signedPeerRecord?o.base64.decode(e.signedPeerRecord,t.signedPeerRecord=o.newBuffer(o.base64.length(e.signedPeerRecord)),0):e.signedPeerRecord.length&&(t.signedPeerRecord=e.signedPeerRecord)),t},c.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.listenAddrs=[],r.protocols=[]),t.defaults&&(t.bytes===String?r.publicKey="":(r.publicKey=[],t.bytes!==Array&&(r.publicKey=o.newBuffer(r.publicKey))),t.bytes===String?r.observedAddr="":(r.observedAddr=[],t.bytes!==Array&&(r.observedAddr=o.newBuffer(r.observedAddr))),r.protocolVersion="",r.agentVersion="",t.bytes===String?r.signedPeerRecord="":(r.signedPeerRecord=[],t.bytes!==Array&&(r.signedPeerRecord=o.newBuffer(r.signedPeerRecord)))),null!=e.publicKey&&e.hasOwnProperty("publicKey")&&(r.publicKey=t.bytes===String?o.base64.encode(e.publicKey,0,e.publicKey.length):t.bytes===Array?Array.prototype.slice.call(e.publicKey):e.publicKey),e.listenAddrs&&e.listenAddrs.length){r.listenAddrs=[];for(var n=0;n<e.listenAddrs.length;++n)r.listenAddrs[n]=t.bytes===String?o.base64.encode(e.listenAddrs[n],0,e.listenAddrs[n].length):t.bytes===Array?Array.prototype.slice.call(e.listenAddrs[n]):e.listenAddrs[n]}if(e.protocols&&e.protocols.length)for(r.protocols=[],n=0;n<e.protocols.length;++n)r.protocols[n]=e.protocols[n];return null!=e.observedAddr&&e.hasOwnProperty("observedAddr")&&(r.observedAddr=t.bytes===String?o.base64.encode(e.observedAddr,0,e.observedAddr.length):t.bytes===Array?Array.prototype.slice.call(e.observedAddr):e.observedAddr),null!=e.protocolVersion&&e.hasOwnProperty("protocolVersion")&&(r.protocolVersion=e.protocolVersion),null!=e.agentVersion&&e.hasOwnProperty("agentVersion")&&(r.agentVersion=e.agentVersion),null!=e.signedPeerRecord&&e.hasOwnProperty("signedPeerRecord")&&(r.signedPeerRecord=t.bytes===String?o.base64.encode(e.signedPeerRecord,0,e.signedPeerRecord.length):t.bytes===Array?Array.prototype.slice.call(e.signedPeerRecord):e.signedPeerRecord),r},c.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},c),e.exports=a},51613:(e,t,r)=>{"use strict";const n=r(87175),i=Object.assign(n("libp2p"),{error:n("libp2p:err")}),s=r(17187)["EventEmitter"],o=r(26550),a=r(88785),c=r(46584)["Multiaddr"],u=r(51203),h=r(57197),l=r(43079),d=r(36195)["validate"],{codes:f,messages:p}=r(23416),y=r(14942),g=r(7376),m=r(91491),b=r(2715),v=r(63849),w=r(40298),_=r(31175),E=r(6984),S=r(21003),C=r(4323),A=r(65993),I=r(78112),T=r(28861),R=r(75466),P=r(26078),k=r(64205),O=r(1001)["updateSelfPeerRecord"];class M extends s{static async create(e){if(e.peerId)return new M(e);var t=await a.create();return e.peerId=t,new M(e)}constructor(e){if(super(),this._options=d(e),this.peerId=this._options.peerId,this.datastore=this._options.datastore,this.peerStore=this.datastore&&this._options.peerStore.persistence?new I({peerId:this.peerId,datastore:this.datastore,...this._options.peerStore}):new C({peerId:this.peerId}),this.addresses=this._options.addresses,this.addressManager=new y(this.peerId,this._options.addresses),this.addressManager.on("change:addresses",()=>{O(this).catch(e=>{i.error("Error updating self peer record",e)})}),this._modules=this._options.modules,this._config=this._options.config,this._transport=[],this._discovery=new Map,this.connectionManager=new g(this,{autoDial:this._config.peerDiscovery.autoDial,...this._options.connectionManager}),this._options.metrics.enabled&&(this.metrics=new _({...this._options.metrics,connectionManager:this.connectionManager})),this._options.keychain&&this._options.keychain.datastore){i("creating keychain");const e=w.generateOptions();this.keychain=new w(this._options.keychain.datastore,{...e,...this._options.keychain}),i("keychain constructed")}if(this.upgrader=new S({localPeer:this.peerId,metrics:this.metrics,onConnection:e=>this.connectionManager.onConnect(e),onConnectionEnd:e=>this.connectionManager.onDisconnect(e)}),this.transportManager=new E({libp2p:this,upgrader:this.upgrader,faultTolerance:this._options.transportManager.faultTolerance}),this.natManager=new k({peerId:this.peerId,addressManager:this.addressManager,transportManager:this.transportManager,...this._options.config.nat}),this.registrar=new T({peerStore:this.peerStore,connectionManager:this.connectionManager}),this.handle=this.handle.bind(this),this.registrar.handle=this.handle,!this._modules.connEncryption||!this._modules.connEncryption.length)throw o(new Error(p.CONN_ENCRYPTION_REQUIRED),f.CONN_ENCRYPTION_REQUIRED);if(this._modules.connEncryption.forEach(e=>{this.upgrader.cryptos.set(e.protocol,e)}),this.dialer=new v({transportManager:this.transportManager,peerStore:this.peerStore,...this._options.dialer}),this._modules.transport.forEach(e=>{var t=e.prototype[Symbol.toStringTag],r=this._config.transport[t];this.transportManager.add(t,e,r)}),this._config.relay.enabled&&(this.transportManager.add(m.prototype[Symbol.toStringTag],m),this.relay=new b(this)),this._modules.streamMuxer&&(this._modules.streamMuxer.forEach(e=>{this.upgrader.muxers.set(e.multicodec,e)}),this.identifyService=new P({libp2p:this}),this.handle(Object.values(P.getProtocolStr(this)),this.identifyService.handleMessage)),this._modules.connProtector)this.upgrader.protector=this._modules.connProtector;else if(void 0!==globalThis.process&&globalThis.process.env&&globalThis.process.env.LIBP2P_FORCE_PNET)throw new Error("Private network is enforced, but no protector was provided");if(this._modules.dht){const e=this._modules.dht;this._dht=e.create({libp2p:this,...this._config.dht})}if(this._modules.pubsub){const e=this._modules.pubsub;this.pubsub=A(e,this,this._config.pubsub)}this.peerRouting=new u(this),this.contentRouting=new h(this),R.mount(this),this._onDiscoveryPeer=this._onDiscoveryPeer.bind(this)}emit(e,...t){return"error"!==e||this._events.error?super.emit(e,...t):(i.error(t),!1)}async start(){i("libp2p is starting");try{await this._onStarting(),await this._onDidStart(),i("libp2p has started")}catch(e){throw this.emit("error",e),i.error("An error occurred starting libp2p",e),await this.stop(),e}}async stop(){i("libp2p is stopping");try{this._isStarted=!1,this.relay&&this.relay.stop(),this.peerRouting.stop();for(const e of this._discovery.values())e.removeListener("peer",this._onDiscoveryPeer);await Promise.all(Array.from(this._discovery.values(),e=>e.stop())),this._discovery=new Map,await this.peerStore.stop(),await this.connectionManager.stop(),await Promise.all([this.pubsub&&this.pubsub.stop(),this._dht&&this._dht.stop(),this.metrics&&this.metrics.stop()]),await this.natManager.stop(),await this.transportManager.close(),R.unmount(this),this.dialer.destroy()}catch(e){e&&(i.error(e),this.emit("error",e))}i("libp2p has stopped")}async loadKeychain(){if(this.keychain)try{await this.keychain.findKeyByName("self")}catch(e){await this.keychain.importPeer("self",this.peerId)}}isStarted(){return this._isStarted}get connections(){return this.connectionManager.connections}dial(e,t){return this._dial(e,t)}async dialProtocol(e,t,r){if(!t||!t.length)throw o(new Error("no protocols were provided to open a stream"),f.ERR_INVALID_PROTOCOLS_FOR_STREAM);return(await this._dial(e,r)).newStream(t)}async _dial(e,t){const{id:r,multiaddrs:n}=l(e);if(r.equals(this.peerId))throw o(new Error("Cannot dial self"),f.ERR_DIALED_SELF);let i=this.connectionManager.get(r);return i?n&&this.peerStore.addressBook.add(r,n):i=await this.dialer.connectToPeer(e,t),i}get multiaddrs(){let e=this.addressManager.getAnnounceAddrs().map(e=>e.toString());e.length||(e=this.transportManager.getAddrs().map(e=>e.toString())),e=e.concat(this.addressManager.getObservedAddrs().map(e=>e.toString()));const t=this._options.addresses.announceFilter,r=new Set(e);return t(Array.from(r).map(e=>new c(e)))}async hangUp(e){const t=l(e)["id"],r=this.connectionManager.connections.get(t.toB58String());r&&await Promise.all(r.map(e=>e.close()))}ping(e){var{id:t,multiaddrs:e}=l(e);return R(this,e?e[0]:t)}handle(e,t){(e=Array.isArray(e)?e:[e]).forEach(e=>{this.upgrader.protocols.set(e,t)}),this.peerStore.protoBook.add(this.peerId,e)}unhandle(e){(e=Array.isArray(e)?e:[e]).forEach(e=>{this.upgrader.protocols.delete(e)}),this.peerStore.protoBook.remove(this.peerId,e)}async _onStarting(){var e=this.addressManager.getListenAddrs();await this.transportManager.listen(e),this.natManager.start(),await this.peerStore.start(),this._config.pubsub.enabled&&this.pubsub&&this.pubsub.start(),this._config.dht.enabled&&(this._dht&&await this._dht.start(),this._dht.on("peer",this._onDiscoveryPeer)),this.metrics&&this.metrics.start()}async _onDidStart(){this._isStarted=!0,this.peerStore.on("peer",e=>{this.emit("peer:discovery",e),this._maybeConnect(e)});for(const e of this.peerStore.peers.values())this.emit("peer:discovery",e.id);this.connectionManager.start(),await this._setupPeerDiscovery(),this.relay&&this.relay.start(),this.peerRouting.start()}_onDiscoveryPeer(e){e.id.toB58String()!==this.peerId.toB58String()?(e.multiaddrs&&this.peerStore.addressBook.add(e.id,e.multiaddrs),e.protocols&&this.peerStore.protoBook.set(e.id,e.protocols)):i.error(new Error(f.ERR_DISCOVERED_SELF))}async _maybeConnect(t){if(!0===this._config.peerDiscovery.autoDial&&!this.connectionManager.get(t)&&(this._options.connectionManager.minConnections||0)>this.connectionManager.size){i("connecting to discovered peer %s",t.toB58String());try{await this.dialer.connectToPeer(t)}catch(e){i.error(`could not connect to discovered peer ${t.toB58String()} with `+e)}}}async _setupPeerDiscovery(){var e=t=>{let r={enabled:!0};if(t.tag&&this._config.peerDiscovery&&this._config.peerDiscovery[t.tag]&&(r={...r,...this._config.peerDiscovery[t.tag]}),r.enabled&&!this._discovery.has(t.tag)){let e;e="function"==typeof t?new t(Object.assign({},r,{peerId:this.peerId,libp2p:this})):t,e.on("peer",this._onDiscoveryPeer),this._discovery.set(t.tag,e)}};for(const t of this._modules.peerDiscovery||[])e(t);for(const r of this.transportManager.getTransports())r.discovery&&e(r.discovery);await Promise.all(Array.from(this._discovery.values(),e=>e.start()))}}e.exports=M},89138:(e,t,r)=>{"use strict";r(79437),r(97450);const c=r(3832),{certificateForKey:u,findAsync:o}=r(48913),h=r(26550),l=r(52217)["fromString"],a=r(92263)["toString"],d=new WeakMap;e.exports=class{constructor(e,t){if(!e)throw h(new Error("keychain is required"),"ERR_KEYCHAIN_REQUIRED");this.keychain=e,d.set(this,{dek:t})}async encrypt(e,t){if(!(t instanceof Uint8Array))throw h(new Error("Plain data must be a Uint8Array"),"ERR_INVALID_PARAMS");const r=await this.keychain.findKeyByName(e),n=await this.keychain._getPrivateKey(e),i=d.get(this).dek,s=c.pki.decryptRsaPrivateKey(n,i),o=await u(r,s),a=c.pkcs7.createEnvelopedData();a.addRecipient(o),a.content=c.util.createBuffer(t),a.encrypt();t=c.asn1.toDer(a.toAsn1()).getBytes();return l(t,"ascii")}async decrypt(e){if(!(e instanceof Uint8Array))throw h(new Error("CMS data is required"),"ERR_INVALID_PARAMS");let t;try{const r=c.util.createBuffer(a(e,"ascii")),n=c.asn1.fromDer(r);t=c.pkcs7.messageFromAsn1(n)}catch(e){throw h(new Error("Invalid CMS: "+e.message),"ERR_INVALID_CMS")}const r=t.recipients.filter(e=>e.issuer.find(e=>"O"===e.shortName&&"ipfs"===e.value)).filter(e=>e.issuer.find(e=>"CN"===e.shortName)).map(e=>({recipient:e,keyId:e.issuer.find(e=>"CN"===e.shortName).value})),n=await o(r,async e=>{try{if(await this.keychain.findKeyById(e.keyId))return!0}catch(e){return!1}return!1});if(!n){const e=r.map(e=>e.keyId);throw h(new Error("Decryption needs one of the key(s): "+e.join(", ")),"ERR_MISSING_KEYS",{missingKeys:e})}var i=await this.keychain.findKeyById(n.keyId);if(!i)throw h(new Error("No key available to decrypto"),"ERR_NO_KEY");var s=await this.keychain._getPrivateKey(i.name),i=d.get(this).dek,i=c.pki.decryptRsaPrivateKey(s,i);return t.decrypt(n.recipient,i),l(t.content.getBytes(),"ascii")}}},40298:(e,t,r)=>{"use strict";const n=r(87175),c=Object.assign(n("libp2p:keychain"),{error:n("libp2p:keychain:err")}),i=r(50202),s=r(70942),u=r(49928),o=r(79239)["Key"],a=r(89138),h=r(26550),l=r(92263)["toString"],d=r(52217)["fromString"];r(63219);const f=new WeakMap,p={dek:{keyLength:64,iterationCount:1e4,salt:"you should override this value with a crypto secure random number",hash:"sha2-512"}};function y(e){return e&&"string"==typeof e&&e===i(e.trim())}async function g(e){const t=800*Math.random()+200;throw await new Promise(e=>setTimeout(e,t)),e}function m(e){return new o("/pkcs8/"+e)}function b(e){return new o("/info/"+e)}e.exports=class{constructor(e,t){if(!e)throw new Error("store is required");if(this.store=e,this.opts=s(p,t),this.opts.pass&&this.opts.pass.length<20)throw new Error("pass must be least 20 characters");if(this.opts.dek.keyLength<14)throw new Error("dek.keyLength must be least 14 bytes");if(this.opts.dek.salt.length<16)throw new Error("dek.saltLength must be least 16 bytes");if(this.opts.dek.iterationCount<1e3)throw new Error("dek.iterationCount must be least 1000");t=this.opts.pass?u.pbkdf2(this.opts.pass,this.opts.dek.salt,this.opts.dek.iterationCount,this.opts.dek.keyLength,this.opts.dek.hash):"";f.set(this,{dek:t})}get cms(){return new a(this,f.get(this).dek)}static generateOptions(){const e=Object.assign({},p),t=3*Math.ceil(16/3);return e.dek.salt=l(u.randomBytes(t),"base64"),e}static get options(){return p}async createKey(e,t,r=2048){if(!y(e)||"self"===e)return g(h(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));if("string"!=typeof t)return g(h(new Error(`Invalid key type '${t}'`),"ERR_INVALID_KEY_TYPE"));var n=m(e);if(await this.store.has(n))return g(h(new Error(`Key '${e}' already exists`),"ERR_KEY_ALREADY_EXISTS"));if("rsa"===t.toLowerCase()&&(!Number.isSafeInteger(r)||r<2048))return g(h(new Error("Invalid RSA key size "+r),"ERR_INVALID_KEY_SIZE"));let i;try{const s=await u.keys.generateKeyPair(t,r),o=await s.id(),a=f.get(this).dek,h=await s.export(a);i={name:e,id:o};const c=this.store.batch();c.put(n,d(h)),c.put(b(e),d(JSON.stringify(i))),await c.commit()}catch(e){return g(e)}return i}async listKeys(){const e={prefix:"/info/"},t=[];for await(const r of this.store.query(e))t.push(JSON.parse(l(r.value)));return t}async findKeyById(t){try{return(await this.listKeys()).find(e=>e.id===t)}catch(t){return g(t)}}async findKeyByName(e){if(!y(e))return g(h(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));var t=b(e);try{const e=await this.store.get(t);return JSON.parse(l(e))}catch(t){return g(h(new Error(`Key '${e}' does not exist. `+t.message),"ERR_KEY_NOT_FOUND"))}}async removeKey(e){if(!y(e)||"self"===e)return g(h(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));const t=m(e),r=await this.findKeyByName(e),n=this.store.batch();return n.delete(t),n.delete(b(e)),await n.commit(),r}async renameKey(e,t){if(!y(e)||"self"===e)return g(h(new Error(`Invalid old key name '${e}'`),"ERR_OLD_KEY_NAME_INVALID"));if(!y(t)||"self"===t)return g(h(new Error(`Invalid new key name '${t}'`),"ERR_NEW_KEY_NAME_INVALID"));var r=m(e),n=m(t),i=b(e),s=b(t);if(await this.store.has(n))return g(h(new Error(`Key '${t}' already exists`),"ERR_KEY_ALREADY_EXISTS"));try{const e=await this.store.get(r),o=await this.store.get(i),a=JSON.parse(l(o));a.name=t;const c=this.store.batch();return c.put(n,e),c.put(s,d(JSON.stringify(a))),c.delete(r),c.delete(i),await c.commit(),a}catch(e){return g(e)}}async exportKey(e,t){if(!y(e))return g(h(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));if(!t)return g(h(new Error("Password is required"),"ERR_PASSWORD_REQUIRED"));var r=m(e);try{const e=await this.store.get(r),n=l(e),i=f.get(this).dek;return(await u.keys.import(n,i)).export(t)}catch(e){return g(e)}}async importKey(e,t,r){if(!y(e)||"self"===e)return g(h(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));if(!t)return g(h(new Error("PEM encoded key is required"),"ERR_PEM_REQUIRED"));var n=m(e);if(await this.store.has(n))return g(h(new Error(`Key '${e}' already exists`),"ERR_KEY_ALREADY_EXISTS"));let i,s;try{i=await u.keys.import(t,r)}catch(e){return g(h(new Error("Cannot read the key, most likely the password is wrong"),"ERR_CANNOT_READ_KEY"))}try{s=await i.id();const e=f.get(this).dek;t=await i.export(e)}catch(e){return g(e)}const o={name:e,id:s},a=this.store.batch();return a.put(n,d(t)),a.put(b(e),d(JSON.stringify(o))),await a.commit(),o}async importPeer(e,t){if(!y(e))return g(h(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));if(!t||!t.privKey)return g(h(new Error("Peer.privKey is required"),"ERR_MISSING_PRIVATE_KEY"));const r=t.privKey,n=m(e);if(await this.store.has(n))return g(h(new Error(`Key '${e}' already exists`),"ERR_KEY_ALREADY_EXISTS"));try{const t=await r.id(),i=f.get(this).dek,s=await r.export(i),o={name:e,id:t},a=this.store.batch();return a.put(n,d(s)),a.put(b(e),d(JSON.stringify(o))),await a.commit(),o}catch(e){return g(e)}}async _getPrivateKey(t){if(!y(t))return g(h(new Error(`Invalid key name '${t}'`),"ERR_INVALID_KEY_NAME"));try{var e=m(t),r=await this.store.get(e);return l(r)}catch(e){return g(h(new Error(`Key '${t}' does not exist. `+e.message),"ERR_KEY_NOT_FOUND"))}}async rotateKeychainPass(e,t){if("string"!=typeof e)return g(h(new Error(`Invalid old pass type '${typeof e}'`),"ERR_INVALID_OLD_PASS_TYPE"));if("string"!=typeof t)return g(h(new Error(`Invalid new pass type '${typeof t}'`),"ERR_INVALID_NEW_PASS_TYPE"));if(t.length<20)return g(h(new Error("Invalid pass length "+t.length),"ERR_INVALID_PASS_LENGTH"));c("recreating keychain");var r=f.get(this).dek;const n=(this.opts.pass=t)?u.pbkdf2(t,this.opts.dek.salt,this.opts.dek.iterationCount,this.opts.dek.keyLength,this.opts.dek.hash):"";f.set(this,{dek:n});const i=await this.listKeys();for(const e of i){const t=await this.store.get(m(e.name)),c=l(t),i=await u.keys.import(c,r),s=n.toString(),o=await i.export(s),a=this.store.batch(),h={name:e.name,id:e.id};a.put(m(e.name),d(o)),a.put(b(e.name),d(JSON.stringify(h))),await a.commit()}c("keychain reconstructed")}}},48913:(e,t,r)=>{"use strict";r(25414);const i=r(3832).pki;e.exports={certificateForKey:(e,t)=>{const r=i.setRsaPublicKey(t.n,t.e),n=i.createCertificate();n.publicKey=r,n.serialNumber="01",n.validity.notBefore=new Date,n.validity.notAfter=new Date,n.validity.notAfter.setFullYear(n.validity.notBefore.getFullYear()+10);e=[{name:"organizationName",value:"ipfs"},{shortName:"OU",value:"keystore"},{name:"commonName",value:e.id}];return n.setSubject(e),n.setIssuer(e),n.setExtensions([{name:"basicConstraints",cA:!0},{name:"keyUsage",keyCertSign:!0,digitalSignature:!0,nonRepudiation:!0,keyEncipherment:!0,dataEncipherment:!0},{name:"extKeyUsage",serverAuth:!0,clientAuth:!0,codeSigning:!0,emailProtection:!0,timeStamping:!0},{name:"nsCertType",client:!0,server:!0,email:!0,objsign:!0,sslCA:!0,emailCA:!0,objCA:!0}]),n.sign(t),n},findAsync:async function(e,t){t=e.map(t);return e[(await Promise.all(t)).findIndex(e=>e)]}}},31175:(e,t,r)=>{"use strict";const n=r(70942),o=r(60618)["pipe"],a=r(38386)["tap"],i=r(87787),s=r(3524)["METRICS"],c=r(61094),u=["dataReceived","dataSent"],h={in:"dataReceived",out:"dataSent"};class l{constructor(e){this._options=n(s,e),this._globalStats=new c(u,this._options),this._peerStats=new Map,this._protocolStats=new Map,this._oldPeers=i(this._options.maxOldPeersRetention),this._running=!1,this._onMessage=this._onMessage.bind(this),this._connectionManager=e.connectionManager,this._connectionManager.on("peer:disconnect",e=>{this.onPeerDisconnected(e.remotePeer)})}start(){this._running=!0}stop(){this._running=!1,this._globalStats.stop();for(const e of this._peerStats.values())e.stop();for(const t of this._protocolStats.values())t.stop()}get global(){return this._globalStats}get peers(){return Array.from(this._peerStats.keys())}forPeer(e){e=e.toB58String();return this._peerStats.get(e)||this._oldPeers.get(e)}get protocols(){return Array.from(this._protocolStats.keys())}forProtocol(e){return this._protocolStats.get(e)}onPeerDisconnected(e){const t=e.toB58String(),r=this._peerStats.get(t);r&&(r.stop(),this._peerStats.delete(t),this._oldPeers.set(t,r))}_onMessage({remotePeer:t,protocol:r,direction:n,dataLength:i}){if(this._running){n=h[n];let e=this.forPeer(t);if(e||(e=new c(u,this._options),this._peerStats.set(t.toB58String(),e)),e.push(n,i),this._globalStats.push(n,i),r){let e=this.forProtocol(r);e||(e=new c(u,this._options),this._protocolStats.set(r,e)),e.push(n,i)}}}updatePlaceholder(t,r){if(this._running){var n=this.forPeer(t),i=r.toB58String(),r=this.forPeer(r);let e=n;r&&(e=l.mergeStats(r,e),this._oldPeers.delete(i)),this._peerStats.delete(t.toB58String()),this._peerStats.set(i,e),e.start()}}trackStream({stream:e,remotePeer:t,protocol:r}){const n=this,i=e.source;e.source=a(e=>n._onMessage({remotePeer:t,protocol:r,direction:"in",dataLength:e.length}))(i);const s=e.sink;return e.sink=e=>o(e,a(e=>n._onMessage({remotePeer:t,protocol:r,direction:"out",dataLength:e.length})),s),e}static mergeStats(e,t){return e.stop(),t.stop(),e._queue=[...e._queue,...t._queue],e}}e.exports=l},87787:(e,t,r)=>{"use strict";const n=r(70248);e.exports=e=>{const t=n(e);return t.delete=t.remove,t}},61094:(e,t,r)=>{"use strict";const n=r(17187)["EventEmitter"],s=r(44431)["BigNumber"],a=r(63573),i=r(82916);e.exports=class extends n{constructor(t,r){super(),this._options=r,this._queue=[],this._stats={dataReceived:s(0),dataSent:s(0)},this._frequencyLastTime=Date.now(),this._frequencyAccumulators={},this._movingAverages={},this._update=this._update.bind(this);var n=this._options.movingAverageIntervals;for(let e=0;e<t.length;e++){var i=t[e];this._stats[i]=s(0),this._movingAverages[i]={};for(let e=0;e<n.length;e++){const r=n[e];(this._movingAverages[i][r]=a(r)).push(this._frequencyLastTime,0)}}}start(){this._queue.length&&this._resetComputeTimeout()}stop(){this._timeout&&(this._timeout.clear(),this._timeout=null)}get snapshot(){return Object.assign({},this._stats)}get movingAverages(){return Object.assign({},this._movingAverages)}toJSON(){const e=this.snapshot,t=this.movingAverages,r={dataReceived:e.dataReceived.toString(),dataSent:e.dataSent.toString(),movingAverages:{}},n=Object.keys(t);for(const e of n){r.movingAverages[e]={};for(const n of Object.keys(t[e]))r.movingAverages[e][n]=t[e][n].movingAverage()}return r}push(e,t){this._queue.push([e,t,Date.now()]),this._resetComputeTimeout()}_resetComputeTimeout(){this._timeout=i(this._update,this._nextTimeout())}_nextTimeout(){var e=this._queue.length/this._options.computeThrottleMaxQueueSize;return Math.max(this._options.computeThrottleTimeout*(1-e),0)}_update(){if(this._timeout=null,this._queue.length){let e;for(e of this._queue)this._applyOp(e);this._queue=[],this._updateFrequency(e[2]),this.emit("update",this._stats)}}_updateFrequency(t){const r=t-this._frequencyLastTime;Object.keys(this._stats).forEach(e=>{this._updateFrequencyFor(e,r,t)}),this._frequencyLastTime=t}_updateFrequencyFor(e,r,n){var t=this._frequencyAccumulators[e]||0;this._frequencyAccumulators[e]=0;var i=t/(r||1)*1e3;let s=this._movingAverages[e];s=s||(this._movingAverages[e]={});var o=this._options.movingAverageIntervals;for(let t=0;t<o.length;t++){const r=o[t];let e=s[r];e=e||(s[r]=a(r)),e.push(n,i)}}_applyOp(e){var t=e[0],e=e[1];if("number"!=typeof e)throw new Error("invalid increment number: "+e);let r;r=Object.prototype.hasOwnProperty.call(this._stats,t)?this._stats[t]:this._stats[t]=s(0),this._stats[t]=r.plus(e),this._frequencyAccumulators[t]||(this._frequencyAccumulators[t]=0),this._frequencyAccumulators[t]+=e}}},64205:(e,t,r)=>{"use strict";const i=r(57600),n=r(87175),s=r(76021)["promisify"],u=r(46584)["Multiaddr"],h=Object.assign(n("libp2p:nat"),{error:n("libp2p:nat:err")}),o=r(97916)["isBrowser"],a=r(42693),l=r(290),c=r(28362),d=r(26550),{codes:{ERR_INVALID_PARAMETERS:f}}=r(23416),p=r(23830);e.exports=class{constructor({peerId:e,addressManager:t,transportManager:r,...n}){if(this._peerId=e,this._addressManager=t,this._transportManager=r,this._enabled=n.enabled,this._externalIp=n.externalIp,this._options={description:n.description||`${c.name}@${c.version} `+this._peerId,ttl:n.ttl||7200,autoUpdate:n.keepAlive||!0,gateway:n.gateway,enablePMP:Boolean(n.pmp&&n.pmp.enabled)},this._options.ttl<7200)throw d(new Error("NatManager ttl should be at least 7200 seconds"),f)}start(){!o&&this._enabled&&this._start().catch(e=>{h.error(e)})}async _start(){const e=this._transportManager.getAddrs();for(const n of e){const{family:e,host:i,port:s,transport:o}=n.toOptions();if(n.isThinWaistAddress()&&"tcp"===o&&(!p(n)&&4===e)){const a=this._getClient(),c=this._externalIp||await a.externalIp();if(l(c))throw new Error(c+" is private - please set config.nat.externalIp to an externally routable IP or ensure you are not behind a double NAT");t=(t=1024,r=65535,Math.floor(Math.random()*(r-t+1)+t));h(`opening uPnP connection from ${c}:${t} to ${i}:`+s),await a.map({publicPort:t,privatePort:s,protocol:o.toUpperCase()}),this._addressManager.addObservedAddr(u.fromNodeAddress({family:4,address:c,port:t},o))}}var t,r}_getClient(){if(this._client)return this._client;const e=new i(this._options),t=s(e.map.bind(e)),r=s(e.destroy.bind(e)),n=s(e.externalIp.bind(e));return this._client={map:(...e)=>a(()=>t(...e),{onFailedAttempt:h.error,unref:!0}),destroy:(...e)=>a(()=>r(...e),{onFailedAttempt:h.error,unref:!0}),externalIp:(...e)=>a(()=>n(...e),{onFailedAttempt:h.error,unref:!0})},this._client}async stop(){if(!o&&this._client)try{await this._client.destroy(),this._client=null}catch(e){h.error(e)}}}},51203:(e,t,r)=>{"use strict";const n=r(87175),i=Object.assign(n("libp2p:peer-routing"),{error:n("libp2p:peer-routing:err")}),s=r(26550),{storeAddresses:o,uniquePeers:a,requirePeers:c}=r(63952),u=r(74014),h=r(60618)["pipe"],l=r(72262),d=r(64593),f=r(55565),{setDelayedInterval:p,clearDelayedInterval:y}=r(27695),g=r(70937)["DHTPeerRouting"];e.exports=class{constructor(e){this._peerId=e.peerId,this._peerStore=e.peerStore,this._routers=e._modules.peerRouting||[],e._dht&&e._config.dht.enabled&&this._routers.push(new g(e._dht)),this._refreshManagerOptions=e._options.peerRouting.refreshManager,this._findClosestPeersTask=this._findClosestPeersTask.bind(this)}start(){this._routers.length&&!this._timeoutId&&this._refreshManagerOptions.enabled&&(this._timeoutId=p(this._findClosestPeersTask,this._refreshManagerOptions.interval,this._refreshManagerOptions.bootDelay))}async _findClosestPeersTask(){try{await d(this.getClosestPeers(this._peerId.id))}catch(e){i.error(e)}}stop(){y(this._timeoutId)}async findPeer(t,r){if(!this._routers.length)throw s(new Error("No peer routers available"),"NO_ROUTERS_AVAILABLE");if(t.toB58String()===this._peerId.toB58String())throw s(new Error("Should not try to find self"),"ERR_FIND_SELF");var e=await h(u(...this._routers.map(e=>[e.findPeer(t,r)])),e=>f(e,Boolean),e=>o(e,this._peerStore),e=>l(e));if(e)return e;throw s(new Error("not found"),"NOT_FOUND")}async*getClosestPeers(t,r={timeout:3e4}){if(!this._routers.length)throw s(new Error("No peer routers available"),"NO_ROUTERS_AVAILABLE");yield*h(u(...this._routers.map(e=>e.getClosestPeers(t,r))),e=>o(e,this._peerStore),e=>a(e),e=>c(e))}}},3721:(e,t,r)=>{"use strict";const n=r(87175),o=Object.assign(n("libp2p:peer-store:address-book"),{error:n("libp2p:peer-store:address-book:err")}),s=r(26550),i=r(46584)["Multiaddr"],a=r(88785),c=r(94903),u=r(61131),{codes:{ERR_INVALID_PARAMETERS:h}}=r(23416),l=r(31244);e.exports=class extends c{constructor(e){super({peerStore:e,eventName:"change:multiaddrs",eventProperty:"multiaddrs",eventTransformer:e=>e.addresses?e.addresses.map(e=>e.multiaddr):[]}),this.data=new Map}consumePeerRecord(e){let t;try{t=u.createFromProtobuf(e.payload)}catch(e){return o.error("invalid peer record received"),!1}if(!t.peerId.equals(e.peerId))return o("signing key does not match PeerId in the PeerRecord"),!1;if(!t.multiaddrs||!t.multiaddrs.length)return!1;const r=t.peerId,n=r.toB58String(),i=(this.data.get(n)||{record:void 0}).record;if(i&&i.seqNumber>=t.seqNumber)return!1;var s=this._toAddresses(t.multiaddrs,!0);return this._setData(r,{addresses:s,record:{raw:e.marshal(),seqNumber:t.seqNumber}}),o("stored provided peer record for "+n),!0}getRawEnvelope(e){e=this.data.get(e.toB58String());if(e&&e.record&&e.record.raw)return e.record.raw}getPeerRecord(e){e=this.getRawEnvelope(e);if(e)return l.createFromProtobuf(e)}set(e,t){if(!a.isPeerId(e))throw o.error("peerId must be an instance of peer-id to store data"),s(new Error("peerId must be an instance of peer-id"),h);const r=this._toAddresses(t);if(!r.length)return this;const n=e.toB58String(),i=this.data.get(n);return i&&i.addresses&&i.addresses.length===r.length&&i.addresses.filter(t=>r.some(e=>t.multiaddr.equals(e.multiaddr))).length===i.addresses.length?o("the addresses provided to store are equal to the already stored for "+n):(this._setData(e,{addresses:r,record:i&&i.record}),o("stored provided multiaddrs for "+n),i||this._ps.emit("peer",e)),this}add(e,t){if(!a.isPeerId(e))throw o.error("peerId must be an instance of peer-id to store data"),s(new Error("peerId must be an instance of peer-id"),h);const r=this._toAddresses(t),n=e.toB58String();if(!r.length)return this;const i=this.data.get(n);return i&&i.addresses&&(i.addresses.forEach(t=>{r.find(e=>e.multiaddr.equals(t.multiaddr))||r.push(t)}),i.addresses.length===r.length)?o("the addresses provided to store are already stored for "+n):(this._setData(e,{addresses:r,record:i&&i.record}),o("added provided multiaddrs for "+n),i&&i.addresses||this._ps.emit("peer",e)),this}get(e){if(!a.isPeerId(e))throw s(new Error("peerId must be an instance of peer-id"),h);e=this.data.get(e.toB58String());return e&&e.addresses?[...e.addresses]:void 0}_toAddresses(e,r=!1){if(!e)throw o.error("multiaddrs must be provided to store data"),s(new Error("multiaddrs must be provided"),h);const n=[];return e.forEach(t=>{if(!i.isMultiaddr(t))throw o.error(`multiaddr ${t} must be an instance of multiaddr`),s(new Error(`multiaddr ${t} must be an instance of multiaddr`),h);n.find(e=>e.multiaddr.equals(t))||n.push({multiaddr:t,isCertified:r})}),n}getMultiaddrsForPeer(n,e=e=>e){if(!a.isPeerId(n))throw s(new Error("peerId must be an instance of peer-id"),h);var t=this.data.get(n.toB58String());if(t&&t.addresses)return e(t.addresses||[]).map(e=>{const t=e.multiaddr,r=t.getPeerId();return r&&r===n.toB58String()?t:t.encapsulate("/p2p/"+n.toB58String())})}}},94903:(e,t,r)=>{"use strict";const n=r(26550),i=r(88785),{codes:{ERR_INVALID_PARAMETERS:s}}=r(23416);e.exports=class{constructor({peerStore:e,eventName:t,eventProperty:r,eventTransformer:n=e=>e}){this._ps=e,this.eventName=t,this.eventProperty=r,this.eventTransformer=n,this.data=new Map}set(e,t){throw n(new Error("set must be implemented by the subclass"),"ERR_NOT_IMPLEMENTED")}_setData(e,t,{emit:r=!0}={}){var n=e.toB58String();this.data.set(n,t),r&&this._emit(e,t)}_emit(e,t){this._ps.emit(this.eventName,{peerId:e,[this.eventProperty]:this.eventTransformer(t)})}get(e){if(!i.isPeerId(e))throw n(new Error("peerId must be an instance of peer-id"),s);e=this.data.get(e.toB58String());return e?[...e]:void 0}delete(e){if(!i.isPeerId(e))throw n(new Error("peerId must be an instance of peer-id"),s);return!!this.data.delete(e.toB58String())&&(this._emit(e,[]),!0)}}},4323:(e,t,r)=>{"use strict";const s=r(26550),n=r(17187)["EventEmitter"],o=r(88785),i=r(3721),a=r(61062),c=r(3350),u=r(51979),{codes:{ERR_INVALID_PARAMETERS:h}}=r(23416);e.exports=class extends n{constructor({peerId:e}){super(),this._peerId=e,this.addressBook=new i(this),this.keyBook=new a(this),this.metadataBook=new c(this),this.protoBook=new u(this)}start(){}stop(){}get peers(){const e=new Set([...this.addressBook.data.keys(),...this.keyBook.data.keys(),...this.protoBook.data.keys(),...this.metadataBook.data.keys()]);this._peerId&&e.delete(this._peerId.toB58String());const t=new Map;return e.forEach(e=>{t.set(e,this.get(o.createFromB58String(e)))}),t}delete(e){var t=this.addressBook.delete(e),r=this.keyBook.delete(e),n=this.protoBook.delete(e),e=this.metadataBook.delete(e);return t||r||n||e}get(e){if(!o.isPeerId(e))throw s(new Error("peerId must be an instance of peer-id"),h);var t=this.keyBook.data.get(e.toB58String()),r=this.addressBook.get(e),n=this.metadataBook.get(e),i=this.protoBook.get(e);if(t||r||n||i)return{id:t||e,addresses:r||[],protocols:i||[],metadata:n}}}},61062:(e,t,r)=>{"use strict";const n=r(87175),i=Object.assign(n("libp2p:peer-store:key-book"),{error:n("libp2p:peer-store:key-book:err")}),s=r(26550),o=r(88785),a=r(94903),{codes:{ERR_INVALID_PARAMETERS:c}}=r(23416);e.exports=class extends a{constructor(e){super({peerStore:e,eventName:"change:pubkey",eventProperty:"pubkey",eventTransformer:e=>e.pubKey}),this.data=new Map}set(e,t){if(!o.isPeerId(e))throw i.error("peerId must be an instance of peer-id to store data"),s(new Error("peerId must be an instance of peer-id"),c);var r=e.toB58String();return!this.data.get(r)&&t&&(e.pubKey=t,this._setData(e,e),i("stored provided public key for "+r)),this}get(e){if(!o.isPeerId(e))throw s(new Error("peerId must be an instance of peer-id"),c);e=this.data.get(e.toB58String());return e?e.pubKey:void 0}}},3350:(e,t,r)=>{"use strict";const n=r(87175),a=Object.assign(n("libp2p:peer-store:proto-book"),{error:n("libp2p:peer-store:proto-book:err")}),i=r(26550),c=r(19588)["equals"],s=r(88785),o=r(94903),{codes:{ERR_INVALID_PARAMETERS:u}}=r(23416);e.exports=class extends o{constructor(e){super({peerStore:e,eventName:"change:metadata",eventProperty:"metadata"}),this.data=new Map}set(e,t,r){if(!s.isPeerId(e))throw a.error("peerId must be an instance of peer-id to store data"),i(new Error("peerId must be an instance of peer-id"),u);if("string"!=typeof t||!(r instanceof Uint8Array))throw a.error("valid key and value must be provided to store data"),i(new Error("valid key and value must be provided"),u);return this._setValue(e,t,r),this}_setValue(e,t,r,{emit:n=!0}={}){const i=e.toB58String(),s=this.data.get(i)||new Map,o=s.get(t);o&&c(r,o)?a(`the metadata provided to store is equal to the already stored for ${i} on `+t):(s.set(t,r),this.data.set(i,s),n&&this._emit(e,t))}get(e){if(!s.isPeerId(e))throw i(new Error("peerId must be an instance of peer-id"),u);return this.data.get(e.toB58String())}getValue(e,t){if(!s.isPeerId(e))throw i(new Error("peerId must be an instance of peer-id"),u);const r=this.data.get(e.toB58String());return r&&r.get(t)}delete(e){if(!s.isPeerId(e))throw i(new Error("peerId must be an instance of peer-id"),u);return!!this.data.delete(e.toB58String())&&(this._emit(e),!0)}deleteValue(e,t){if(!s.isPeerId(e))throw i(new Error("peerId must be an instance of peer-id"),u);const r=this.data.get(e.toB58String());return!(!r||!r.delete(t)||(this._emit(e,t),0))}}},5922:e=>{"use strict";e.exports.NAMESPACE_COMMON="/peers/",e.exports.NAMESPACE_ADDRESS="/peers/addrs/",e.exports.NAMESPACE_KEYS="/peers/keys/",e.exports.NAMESPACE_METADATA="/peers/metadata/",e.exports.NAMESPACE_PROTOCOL="/peers/protos/"},78112:(e,t,r)=>{"use strict";const n=r(87175),s=Object.assign(n("libp2p:persistent-peer-store"),{error:n("libp2p:persistent-peer-store:err")}),o=r(79239)["Key"],a=r(46584)["Multiaddr"],c=r(88785),u=r(22817)["base32"],i=r(4323),{NAMESPACE_ADDRESS:h,NAMESPACE_COMMON:l,NAMESPACE_KEYS:d,NAMESPACE_METADATA:f,NAMESPACE_PROTOCOL:p}=r(5922),y=r(7448)["Addresses"],g=r(82299)["Protocols"];e.exports=class extends i{constructor({peerId:e,datastore:t,threshold:r=5}){super({peerId:e}),this._datastore=t,this._dirtyPeers=new Set,this._dirtyMetadata=new Map,this.threshold=r,this._addDirtyPeer=this._addDirtyPeer.bind(this)}async start(){s("PeerStore is starting"),this.on("change:protocols",this._addDirtyPeer),this.on("change:multiaddrs",this._addDirtyPeer),this.on("change:pubkey",this._addDirtyPeerKey),this.on("change:metadata",this._addDirtyPeerMetadata);for await(const e of this._datastore.query({prefix:l}))await this._processDatastoreEntry(e);s("PeerStore started")}async stop(){s("PeerStore is stopping"),this.removeAllListeners(),await this._commitData(),s("PeerStore stopped")}_addDirtyPeer({peerId:e}){e=e.toB58String();s("add dirty peer",e),this._dirtyPeers.add(e),this._dirtyPeers.size>=this.threshold&&this._commitData().catch(e=>{s.error("error committing data",e)})}_addDirtyPeerKey({peerId:e}){e.hasInlinePublicKey()||(e=e.toB58String(),s("add dirty peer key",e),this._dirtyPeers.add(e),this._dirtyPeers.size>=this.threshold&&this._commitData().catch(e=>{s.error("error committing data",e)}))}_addDirtyPeerMetadata({peerId:e,metadata:t}){e=e.toB58String();s("add dirty metadata peer",e),this._dirtyPeers.add(e);const r=this._dirtyMetadata.get(e)||new Set;r.add(t),this._dirtyMetadata.set(e,r),this._dirtyPeers.size>=this.threshold&&this._commitData().catch(e=>{s.error("error committing data",e)})}async _commitData(){const e=Array.from(this._dirtyPeers);if(e.length){this._dirtyPeers.clear(),s("create batch commit");const t=this._datastore.batch();for(const r of e){const e=this.keyBook.data.get(r)||c.createFromB58String(r);this._batchAddressBook(e,t),e.hasInlinePublicKey()||this._batchKeyBook(e,t),this._batchMetadataBook(e,t),this._batchProtoBook(e,t)}await t.commit(),s("batch committed")}}_batchAddressBook(e,t){const r=e.toString(),n=new o(""+h+r),i=this.addressBook.data.get(e.toB58String());try{if(!i)return void t.delete(n);const e=y.encode({addrs:i.addresses.map(e=>({multiaddr:e.multiaddr.bytes,isCertified:e.isCertified})),certifiedRecord:i.record?{seq:i.record.seqNumber,raw:i.record.raw}:void 0}).finish();t.put(n,e)}catch(e){s.error(e)}}_batchKeyBook(e,t){const r=e.toString(),n=new o(""+d+r);try{if(!e.pubKey)return void t.delete(n);const r=e.marshalPubKey();t.put(n,r)}catch(e){s.error(e)}}_batchMetadataBook(r,n){const i=r.toString(),e=this._dirtyMetadata.get(r.toB58String())||[];try{e.forEach(e=>{var t=new o(""+f+i+"/"+e),e=this.metadataBook.getValue(r,e);e?n.put(t,e):n.delete(t)})}catch(r){s.error(r)}}_batchProtoBook(e,t){var r=e.toString(),n=new o(""+p+r),r=this.protoBook.get(e);try{if(!r)return void t.delete(n);const e=g.encode({protocols:r}).finish();t.put(n,e)}catch(e){s.error(e)}}async _processDatastoreEntry({key:t,value:r}){try{var n=t.toString().split("/"),i=c.createFromBytes(u.decode(n[3]));let e;switch(n[2]){case"addrs":e=y.decode(r),this.addressBook._setData(i,{addresses:e.addrs.map(e=>({multiaddr:new a(e.multiaddr),isCertified:Boolean(e.isCertified)})),record:e.certifiedRecord?{raw:e.certifiedRecord.raw,seqNumber:e.certifiedRecord.seq}:void 0},{emit:!1});break;case"keys":e=await c.createFromPubKey(r),this.keyBook._setData(e,e,{emit:!1});break;case"metadata":this.metadataBook._setValue(i,n[4],r,{emit:!1});break;case"protos":e=g.decode(r),this.protoBook._setData(i,new Set(e.protocols),{emit:!1});break;default:s("invalid data persisted for: ",t.toString())}}catch(t){s.error(t)}}}},7448:(e,t,r)=>{"use strict";var n=r(62100),s=n.Reader,i=n.Writer,o=n.util,a=n.roots["libp2p-address-book"]||(n.roots["libp2p-address-book"]={});function c(e){if(this.addrs=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function u(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function h(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}a.Addresses=(c.prototype.addrs=o.emptyArray,c.prototype.certifiedRecord=null,c.encode=function(e,t){if(t=t||i.create(),null!=e.addrs&&e.addrs.length)for(var r=0;r<e.addrs.length;++r)a.Addresses.Address.encode(e.addrs[r],t.uint32(10).fork()).ldelim();return null!=e.certifiedRecord&&Object.hasOwnProperty.call(e,"certifiedRecord")&&a.Addresses.CertifiedRecord.encode(e.certifiedRecord,t.uint32(18).fork()).ldelim(),t},c.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.Addresses;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.addrs&&n.addrs.length||(n.addrs=[]),n.addrs.push(a.Addresses.Address.decode(e,e.uint32()));break;case 2:n.certifiedRecord=a.Addresses.CertifiedRecord.decode(e,e.uint32());break;default:e.skipType(7&i)}}return n},c.fromObject=function(e){if(e instanceof a.Addresses)return e;var t=new a.Addresses;if(e.addrs){if(!Array.isArray(e.addrs))throw TypeError(".Addresses.addrs: array expected");t.addrs=[];for(var r=0;r<e.addrs.length;++r){if("object"!=typeof e.addrs[r])throw TypeError(".Addresses.addrs: object expected");t.addrs[r]=a.Addresses.Address.fromObject(e.addrs[r])}}if(null!=e.certifiedRecord){if("object"!=typeof e.certifiedRecord)throw TypeError(".Addresses.certifiedRecord: object expected");t.certifiedRecord=a.Addresses.CertifiedRecord.fromObject(e.certifiedRecord)}return t},c.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.addrs=[]),t.defaults&&(r.certifiedRecord=null),e.addrs&&e.addrs.length){r.addrs=[];for(var n=0;n<e.addrs.length;++n)r.addrs[n]=a.Addresses.Address.toObject(e.addrs[n],t)}return null!=e.certifiedRecord&&e.hasOwnProperty("certifiedRecord")&&(r.certifiedRecord=a.Addresses.CertifiedRecord.toObject(e.certifiedRecord,t)),r},c.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},c.Address=(h.prototype.multiaddr=o.newBuffer([]),h.prototype.isCertified=!1,h.encode=function(e,t){return t=t||i.create(),null!=e.multiaddr&&Object.hasOwnProperty.call(e,"multiaddr")&&t.uint32(10).bytes(e.multiaddr),null!=e.isCertified&&Object.hasOwnProperty.call(e,"isCertified")&&t.uint32(16).bool(e.isCertified),t},h.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.Addresses.Address;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.multiaddr=e.bytes();break;case 2:n.isCertified=e.bool();break;default:e.skipType(7&i)}}return n},h.fromObject=function(e){if(e instanceof a.Addresses.Address)return e;var t=new a.Addresses.Address;return null!=e.multiaddr&&("string"==typeof e.multiaddr?o.base64.decode(e.multiaddr,t.multiaddr=o.newBuffer(o.base64.length(e.multiaddr)),0):e.multiaddr.length&&(t.multiaddr=e.multiaddr)),null!=e.isCertified&&(t.isCertified=Boolean(e.isCertified)),t},h.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(t.bytes===String?r.multiaddr="":(r.multiaddr=[],t.bytes!==Array&&(r.multiaddr=o.newBuffer(r.multiaddr))),r.isCertified=!1),null!=e.multiaddr&&e.hasOwnProperty("multiaddr")&&(r.multiaddr=t.bytes===String?o.base64.encode(e.multiaddr,0,e.multiaddr.length):t.bytes===Array?Array.prototype.slice.call(e.multiaddr):e.multiaddr),null!=e.isCertified&&e.hasOwnProperty("isCertified")&&(r.isCertified=e.isCertified),r},h.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},h),c.CertifiedRecord=(u.prototype.seq=o.Long?o.Long.fromBits(0,0,!0):0,u.prototype.raw=o.newBuffer([]),u.encode=function(e,t){return t=t||i.create(),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.raw&&Object.hasOwnProperty.call(e,"raw")&&t.uint32(18).bytes(e.raw),t},u.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.Addresses.CertifiedRecord;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.seq=e.uint64();break;case 2:n.raw=e.bytes();break;default:e.skipType(7&i)}}return n},u.fromObject=function(e){if(e instanceof a.Addresses.CertifiedRecord)return e;var t=new a.Addresses.CertifiedRecord;return null!=e.seq&&(o.Long?(t.seq=o.Long.fromValue(e.seq)).unsigned=!0:"string"==typeof e.seq?t.seq=parseInt(e.seq,10):"number"==typeof e.seq?t.seq=e.seq:"object"==typeof e.seq&&(t.seq=new o.LongBits(e.seq.low>>>0,e.seq.high>>>0).toNumber(!0))),null!=e.raw&&("string"==typeof e.raw?o.base64.decode(e.raw,t.raw=o.newBuffer(o.base64.length(e.raw)),0):e.raw.length&&(t.raw=e.raw)),t},u.toObject=function(e,t){var r,n={};return(t=t||{}).defaults&&(o.Long?(r=new o.Long(0,0,!0),n.seq=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.seq=t.longs===String?"0":0,t.bytes===String?n.raw="":(n.raw=[],t.bytes!==Array&&(n.raw=o.newBuffer(n.raw)))),null!=e.seq&&e.hasOwnProperty("seq")&&("number"==typeof e.seq?n.seq=t.longs===String?String(e.seq):e.seq:n.seq=t.longs===String?o.Long.prototype.toString.call(e.seq):t.longs===Number?new o.LongBits(e.seq.low>>>0,e.seq.high>>>0).toNumber(!0):e.seq),null!=e.raw&&e.hasOwnProperty("raw")&&(n.raw=t.bytes===String?o.base64.encode(e.raw,0,e.raw.length):t.bytes===Array?Array.prototype.slice.call(e.raw):e.raw),n},u.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},u),c),e.exports=a},82299:(e,t,r)=>{"use strict";var n=r(62100),s=n.Reader,i=n.Writer,r=n.util,o=n.roots["libp2p-proto-book"]||(n.roots["libp2p-proto-book"]={});function a(e){if(this.protocols=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}o.Protocols=(a.prototype.protocols=r.emptyArray,a.encode=function(e,t){if(t=t||i.create(),null!=e.protocols&&e.protocols.length)for(var r=0;r<e.protocols.length;++r)t.uint32(10).string(e.protocols[r]);return t},a.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.Protocols;e.pos<r;){var i=e.uint32();i>>>3==1?(n.protocols&&n.protocols.length||(n.protocols=[]),n.protocols.push(e.string())):e.skipType(7&i)}return n},a.fromObject=function(e){if(e instanceof o.Protocols)return e;var t=new o.Protocols;if(e.protocols){if(!Array.isArray(e.protocols))throw TypeError(".Protocols.protocols: array expected");t.protocols=[];for(var r=0;r<e.protocols.length;++r)t.protocols[r]=String(e.protocols[r])}return t},a.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.protocols=[]),e.protocols&&e.protocols.length){r.protocols=[];for(var n=0;n<e.protocols.length;++n)r.protocols[n]=e.protocols[n]}return r},a.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},a),e.exports=o},51979:(e,t,r)=>{"use strict";const n=r(87175),s=Object.assign(n("libp2p:peer-store:proto-book"),{error:n("libp2p:peer-store:proto-book:err")}),o=r(26550),a=r(88785),i=r(94903),{codes:{ERR_INVALID_PARAMETERS:c}}=r(23416);e.exports=class extends i{constructor(e){super({peerStore:e,eventName:"change:protocols",eventProperty:"protocols",eventTransformer:e=>Array.from(e)}),this.data=new Map}set(e,t){if(!a.isPeerId(e))throw s.error("peerId must be an instance of peer-id to store data"),o(new Error("peerId must be an instance of peer-id"),c);if(!t)throw s.error("protocols must be provided to store data"),o(new Error("protocols must be provided"),c);var r,n=e.toB58String(),i=this.data.get(n),t=new Set(t);return i&&(r=t,i.size===r.size&&[...i].every(e=>r.has(e)))?s("the protocols provided to store are equal to the already stored for "+n):(this._setData(e,t),s("stored provided protocols for "+n)),this}add(e,t){if(!a.isPeerId(e))throw s.error("peerId must be an instance of peer-id to store data"),o(new Error("peerId must be an instance of peer-id"),c);if(!t)throw s.error("protocols must be provided to store data"),o(new Error("protocols must be provided"),c);var r=e.toB58String(),n=this.data.get(r)||new Set,t=new Set([...n,...t]);return n.size===t.size?s("the protocols provided to store are already stored for "+r):(this._setData(e,t),s("added provided protocols for "+r)),this}remove(e,t){if(!a.isPeerId(e))throw s.error("peerId must be an instance of peer-id to store data"),o(new Error("peerId must be an instance of peer-id"),c);if(!t)throw s.error("protocols must be provided to store data"),o(new Error("protocols must be provided"),c);var r=e.toB58String(),n=this.data.get(r);if(n){const o=new Set([...n].filter(e=>!t.includes(e)));if(n.size===o.size)return this;this._setData(e,o),s("removed provided protocols for "+r)}return this}}},77667:e=>{"use strict";e.exports={PROTOCOL:"/ipfs/ping/1.0.0",PING_LENGTH:32,PROTOCOL_VERSION:"1.0.0",PROTOCOL_NAME:"ping"}},75466:(e,t,r)=>{"use strict";const n=r(87175),u=Object.assign(n("libp2p:ping"),{error:n("libp2p:ping:err")}),h=r(26550),l=r(49928),d=r(60618)["pipe"],f=r(96653)["toBuffer"],{collect:p,take:y}=r(38386),g=r(19588)["equals"],{PROTOCOL_NAME:m,PING_LENGTH:b,PROTOCOL_VERSION:v}=r(77667);(t=e.exports=async function(e,t){var r=`/${e._config.protocolPrefix}/${m}/`+v;u("dialing %s to %s",r,t.toB58String?t.toB58String():t);const n=await e.dial(t),i=(await n.newStream(r))["stream"],s=Date.now(),o=l.randomBytes(b),[a]=await d([o],i,e=>y(1,e),f,p),c=Date.now();if(!g(o,a))throw h(new Error("Received wrong ping ack"),"ERR_WRONG_PING_ACK");return c-s}).mount=function(e){e.handle(`/${e._config.protocolPrefix}/${m}/`+v,({stream:e})=>d(e,e))},t.unmount=function(e){e.unhandle(`/${e._config.protocolPrefix}/${m}/`+v)}},65993:e=>{"use strict";e.exports=function(e,t,r){const n=new e(t,r);return n._subscribeAdapter=n.subscribe,n._unsubscribeAdapter=n.unsubscribe,n.subscribe=function(e,t){t&&n.on(e,t),n._subscribeAdapter(e)},n.unsubscribe=function(e,t){t?n.removeListener(e,t):n.removeAllListeners(e),0===n.listenerCount(e)&&n._unsubscribeAdapter(e)},n}},60709:(e,t,r)=>{"use strict";var n=r(62100),s=n.Reader,i=n.Writer,o=n.util,a=n.roots["libp2p-envelope"]||(n.roots["libp2p-envelope"]={});function c(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}a.Envelope=(c.prototype.publicKey=o.newBuffer([]),c.prototype.payloadType=o.newBuffer([]),c.prototype.payload=o.newBuffer([]),c.prototype.signature=o.newBuffer([]),c.encode=function(e,t){return t=t||i.create(),null!=e.publicKey&&Object.hasOwnProperty.call(e,"publicKey")&&t.uint32(10).bytes(e.publicKey),null!=e.payloadType&&Object.hasOwnProperty.call(e,"payloadType")&&t.uint32(18).bytes(e.payloadType),null!=e.payload&&Object.hasOwnProperty.call(e,"payload")&&t.uint32(26).bytes(e.payload),null!=e.signature&&Object.hasOwnProperty.call(e,"signature")&&t.uint32(42).bytes(e.signature),t},c.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.Envelope;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.publicKey=e.bytes();break;case 2:n.payloadType=e.bytes();break;case 3:n.payload=e.bytes();break;case 5:n.signature=e.bytes();break;default:e.skipType(7&i)}}return n},c.fromObject=function(e){if(e instanceof a.Envelope)return e;var t=new a.Envelope;return null!=e.publicKey&&("string"==typeof e.publicKey?o.base64.decode(e.publicKey,t.publicKey=o.newBuffer(o.base64.length(e.publicKey)),0):e.publicKey.length&&(t.publicKey=e.publicKey)),null!=e.payloadType&&("string"==typeof e.payloadType?o.base64.decode(e.payloadType,t.payloadType=o.newBuffer(o.base64.length(e.payloadType)),0):e.payloadType.length&&(t.payloadType=e.payloadType)),null!=e.payload&&("string"==typeof e.payload?o.base64.decode(e.payload,t.payload=o.newBuffer(o.base64.length(e.payload)),0):e.payload.length&&(t.payload=e.payload)),null!=e.signature&&("string"==typeof e.signature?o.base64.decode(e.signature,t.signature=o.newBuffer(o.base64.length(e.signature)),0):e.signature.length&&(t.signature=e.signature)),t},c.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(t.bytes===String?r.publicKey="":(r.publicKey=[],t.bytes!==Array&&(r.publicKey=o.newBuffer(r.publicKey))),t.bytes===String?r.payloadType="":(r.payloadType=[],t.bytes!==Array&&(r.payloadType=o.newBuffer(r.payloadType))),t.bytes===String?r.payload="":(r.payload=[],t.bytes!==Array&&(r.payload=o.newBuffer(r.payload))),t.bytes===String?r.signature="":(r.signature=[],t.bytes!==Array&&(r.signature=o.newBuffer(r.signature)))),null!=e.publicKey&&e.hasOwnProperty("publicKey")&&(r.publicKey=t.bytes===String?o.base64.encode(e.publicKey,0,e.publicKey.length):t.bytes===Array?Array.prototype.slice.call(e.publicKey):e.publicKey),null!=e.payloadType&&e.hasOwnProperty("payloadType")&&(r.payloadType=t.bytes===String?o.base64.encode(e.payloadType,0,e.payloadType.length):t.bytes===Array?Array.prototype.slice.call(e.payloadType):e.payloadType),null!=e.payload&&e.hasOwnProperty("payload")&&(r.payload=t.bytes===String?o.base64.encode(e.payload,0,e.payload.length):t.bytes===Array?Array.prototype.slice.call(e.payload):e.payload),null!=e.signature&&e.hasOwnProperty("signature")&&(r.signature=t.bytes===String?o.base64.encode(e.signature,0,e.signature.length):t.bytes===Array?Array.prototype.slice.call(e.signature):e.signature),r},c.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},c),e.exports=a},31244:(e,t,r)=>{"use strict";const n=r(26550),o=r(20605)["concat"],a=r(52217)["fromString"],i=r(92826),s=r(88785),c=r(94676),u=r(19588)["equals"],h=r(23416)["codes"],l=r(60709)["Envelope"];class d{constructor({peerId:e,payloadType:t,payload:r,signature:n}){this.peerId=e,this.payloadType=t,this.payload=r,this.signature=n,this._marshal=void 0}marshal(){if(this._marshal)return this._marshal;var e=i.marshalPublicKey(this.peerId.pubKey);return this._marshal=l.encode({publicKey:e,payloadType:this.payloadType,payload:this.payload,signature:this.signature}).finish(),this._marshal}equals(e){return u(this.peerId.pubKey.bytes,e.peerId.pubKey.bytes)&&u(this.payloadType,e.payloadType)&&u(this.payload,e.payload)&&u(this.signature,e.signature)}validate(e){e=f(e,this.payloadType,this.payload);return this.peerId.pubKey.verify(e,this.signature)}}const f=(e,t,r)=>{var n=a(e),i=c.encode(n.byteLength),s=c.encode(t.length),e=c.encode(r.length);return o([new Uint8Array(i),n,new Uint8Array(s),t,new Uint8Array(e),r])};d.createFromProtobuf=async e=>{var t=l.decode(e),e=await s.createFromPubKey(t.publicKey);return new d({peerId:e,payloadType:t.payloadType,payload:t.payload,signature:t.signature})},d.seal=async(e,t)=>{var r=e.domain,n=e.codec,e=e.marshal(),r=f(r,n,e),r=await t.privKey.sign(r);return new d({peerId:t,payloadType:n,payload:e,signature:r})},d.openAndCertify=async(e,t)=>{const r=await d.createFromProtobuf(e);if(!await r.validate(t))throw n(new Error("envelope signature is not valid for the given domain"),h.ERR_SIGNATURE_NOT_VALID);return r},e.exports=d},77854:e=>{"use strict";var t=Uint8Array.from([3,1]);e.exports={ENVELOPE_DOMAIN_PEER_RECORD:"libp2p-peer-record",ENVELOPE_PAYLOAD_TYPE_PEER_RECORD:t}},61131:(e,t,r)=>{"use strict";const s=r(46584)["Multiaddr"],o=r(88785),n=r(52942),a=r(81183)["PeerRecord"],{ENVELOPE_DOMAIN_PEER_RECORD:i,ENVELOPE_PAYLOAD_TYPE_PEER_RECORD:c}=r(77854);class u{constructor({peerId:e,multiaddrs:t=[],seqNumber:r=Date.now()}){this.domain=i,this.codec=c,this.peerId=e,this.multiaddrs=t,this.seqNumber=r,this._marshal=void 0}marshal(){return this._marshal||(this._marshal=a.encode({peerId:this.peerId.toBytes(),seq:this.seqNumber,addresses:this.multiaddrs.map(e=>({multiaddr:e.bytes}))}).finish()),this._marshal}equals(e){return e instanceof u&&!!this.peerId.equals(e.peerId)&&this.seqNumber===e.seqNumber&&!!n(this.multiaddrs,e.multiaddrs)}}u.createFromProtobuf=e=>{const t=a.decode(e),r=o.createFromBytes(t.peerId),n=(t.addresses||[]).map(e=>new s(e.multiaddr)),i=Number(t.seq);return new u({peerId:r,multiaddrs:n,seqNumber:i})},u.DOMAIN=i,e.exports=u},81183:(e,t,r)=>{"use strict";var n=r(62100),s=n.Reader,i=n.Writer,o=n.util,a=n.roots["libp2p-peer-record"]||(n.roots["libp2p-peer-record"]={});function c(e){if(this.addresses=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function u(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}a.PeerRecord=(c.prototype.peerId=o.newBuffer([]),c.prototype.seq=o.Long?o.Long.fromBits(0,0,!0):0,c.prototype.addresses=o.emptyArray,c.encode=function(e,t){if(t=t||i.create(),null!=e.peerId&&Object.hasOwnProperty.call(e,"peerId")&&t.uint32(10).bytes(e.peerId),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint64(e.seq),null!=e.addresses&&e.addresses.length)for(var r=0;r<e.addresses.length;++r)a.PeerRecord.AddressInfo.encode(e.addresses[r],t.uint32(26).fork()).ldelim();return t},c.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.PeerRecord;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.peerId=e.bytes();break;case 2:n.seq=e.uint64();break;case 3:n.addresses&&n.addresses.length||(n.addresses=[]),n.addresses.push(a.PeerRecord.AddressInfo.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return n},c.fromObject=function(e){if(e instanceof a.PeerRecord)return e;var t=new a.PeerRecord;if(null!=e.peerId&&("string"==typeof e.peerId?o.base64.decode(e.peerId,t.peerId=o.newBuffer(o.base64.length(e.peerId)),0):e.peerId.length&&(t.peerId=e.peerId)),null!=e.seq&&(o.Long?(t.seq=o.Long.fromValue(e.seq)).unsigned=!0:"string"==typeof e.seq?t.seq=parseInt(e.seq,10):"number"==typeof e.seq?t.seq=e.seq:"object"==typeof e.seq&&(t.seq=new o.LongBits(e.seq.low>>>0,e.seq.high>>>0).toNumber(!0))),e.addresses){if(!Array.isArray(e.addresses))throw TypeError(".PeerRecord.addresses: array expected");t.addresses=[];for(var r=0;r<e.addresses.length;++r){if("object"!=typeof e.addresses[r])throw TypeError(".PeerRecord.addresses: object expected");t.addresses[r]=a.PeerRecord.AddressInfo.fromObject(e.addresses[r])}}return t},c.toObject=function(e,t){var r,n={};if(((t=t||{}).arrays||t.defaults)&&(n.addresses=[]),t.defaults&&(t.bytes===String?n.peerId="":(n.peerId=[],t.bytes!==Array&&(n.peerId=o.newBuffer(n.peerId))),o.Long?(r=new o.Long(0,0,!0),n.seq=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.seq=t.longs===String?"0":0),null!=e.peerId&&e.hasOwnProperty("peerId")&&(n.peerId=t.bytes===String?o.base64.encode(e.peerId,0,e.peerId.length):t.bytes===Array?Array.prototype.slice.call(e.peerId):e.peerId),null!=e.seq&&e.hasOwnProperty("seq")&&("number"==typeof e.seq?n.seq=t.longs===String?String(e.seq):e.seq:n.seq=t.longs===String?o.Long.prototype.toString.call(e.seq):t.longs===Number?new o.LongBits(e.seq.low>>>0,e.seq.high>>>0).toNumber(!0):e.seq),e.addresses&&e.addresses.length){n.addresses=[];for(var i=0;i<e.addresses.length;++i)n.addresses[i]=a.PeerRecord.AddressInfo.toObject(e.addresses[i],t)}return n},c.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},c.AddressInfo=(u.prototype.multiaddr=o.newBuffer([]),u.encode=function(e,t){return t=t||i.create(),null!=e.multiaddr&&Object.hasOwnProperty.call(e,"multiaddr")&&t.uint32(10).bytes(e.multiaddr),t},u.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.PeerRecord.AddressInfo;e.pos<r;){var i=e.uint32();i>>>3==1?n.multiaddr=e.bytes():e.skipType(7&i)}return n},u.fromObject=function(e){if(e instanceof a.PeerRecord.AddressInfo)return e;var t=new a.PeerRecord.AddressInfo;return null!=e.multiaddr&&("string"==typeof e.multiaddr?o.base64.decode(e.multiaddr,t.multiaddr=o.newBuffer(o.base64.length(e.multiaddr)),0):e.multiaddr.length&&(t.multiaddr=e.multiaddr)),t},u.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(t.bytes===String?r.multiaddr="":(r.multiaddr=[],t.bytes!==Array&&(r.multiaddr=o.newBuffer(r.multiaddr)))),null!=e.multiaddr&&e.hasOwnProperty("multiaddr")&&(r.multiaddr=t.bytes===String?o.base64.encode(e.multiaddr,0,e.multiaddr.length):t.bytes===Array?Array.prototype.slice.call(e.multiaddr):e.multiaddr),r},u.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},u),c),e.exports=a},1001:(e,t,r)=>{"use strict";const n=r(31244),i=r(61131);e.exports.updateSelfPeerRecord=async function(e){var t=new i({peerId:e.peerId,multiaddrs:e.multiaddrs}),t=await n.seal(t,e.peerId);e.peerStore.addressBook.consumePeerRecord(t)}},28861:(e,t,r)=>{"use strict";const n=r(87175),i=Object.assign(n("libp2p:registrar"),{error:n("libp2p:registrar:err")}),s=r(26550),{codes:{ERR_INVALID_PARAMETERS:o}}=r(23416),a=r(7609);e.exports=class{constructor({peerStore:e,connectionManager:t}){this.peerStore=e,this.connectionManager=t,this.topologies=new Map,this._handle=void 0,this._onDisconnect=this._onDisconnect.bind(this),this.connectionManager.on("peer:disconnect",this._onDisconnect)}get handle(){return this._handle}set handle(e){this._handle=e}getConnection(e){return this.connectionManager.get(e)}register(e){if(!a.isTopology(e))throw i.error("topology must be an instance of interfaces/topology"),s(new Error("topology must be an instance of interfaces/topology"),o);var t=(1e9*Math.random()).toString(36)+Date.now();return this.topologies.set(t,e),e.registrar=this,t}unregister(e){return this.topologies.delete(e)}_onDisconnect(e){for(var[,t]of this.topologies)t.disconnect(e.remotePeer)}}},6984:(e,t,r)=>{"use strict";const n=r(87175),o=Object.assign(n("libp2p:transports"),{error:n("libp2p:transports:err")}),a=r(13296),c=r(23416)["codes"],u=r(26550),h=r(1001)["updateSelfPeerRecord"];class i{constructor({libp2p:e,upgrader:t,faultTolerance:r=l.FATAL_ALL}){this.libp2p=e,this.upgrader=t,this._transports=new Map,this._listeners=new Map,this._listenerOptions=new Map,this.faultTolerance=r}add(e,t,r={}){if(o("adding %s",e),!e)throw u(new Error(`Transport must have a valid key, was given '${e}'`),c.ERR_INVALID_KEY);if(this._transports.has(e))throw u(new Error("There is already a transport with this key"),c.ERR_DUPLICATE_TRANSPORT);t=new t({...r,libp2p:this.libp2p,upgrader:this.upgrader});this._transports.set(e,t),this._listenerOptions.set(e,r.listenerOptions||{}),this._listeners.has(e)||this._listeners.set(e,[])}async close(){const e=[];for(var[t,r]of this._listeners)for(o("closing listeners for %s",t);r.length;){const n=r.pop();n.removeAllListeners("listening"),n.removeAllListeners("close"),e.push(n.close())}await Promise.all(e),o("all listeners closed");for(const e of this._listeners.keys())this._listeners.set(e,[])}async dial(e,t){const r=this.transportForMultiaddr(e);if(!r)throw u(new Error("No transport available for address "+String(e)),c.ERR_TRANSPORT_UNAVAILABLE);try{return await r.dial(e,t)}catch(e){throw e.code||(e.code=c.ERR_TRANSPORT_DIAL_FAILED),e}}getAddrs(){let e=[];for(const t of this._listeners.values())for(const r of t)e=[...e,...r.getAddrs()];return e}getTransports(){return this._transports.values()}transportForMultiaddr(e){for(const t of this._transports.values())if(t.filter([e]).length)return t;return null}async listen(e){if(e&&0!==e.length){const n=[];for(var[t,r]of this._transports.entries()){const i=r.filter(e),s=[];for(const e of i){o("creating listener for %s on %s",t,e);const n=r.createListener(this._listenerOptions.get(t));this._listeners.get(t).push(n),n.on("listening",()=>h(this.libp2p)),n.on("close",()=>h(this.libp2p)),s.push(n.listen(e))}if(0!==s.length){if(!(await a(s)).find(e=>!0===e.isFulfilled)&&this.faultTolerance!==l.NO_FATAL)throw u(new Error(`Transport (${t}) could not listen on any available address`),c.ERR_NO_VALID_ADDRESSES)}else n.push(t)}if(n.length===this._transports.size){const e=`no valid addresses were provided for transports [${n}]`;if(this.faultTolerance===l.FATAL_ALL)throw u(new Error(e),c.ERR_NO_VALID_ADDRESSES);o("libp2p in dial mode only: "+e)}}else o("no addresses were provided for listening, this node is dial only")}async remove(e){if(o("removing %s",e),this._listeners.has(e))for(const t of this._listeners.get(e))t.removeAllListeners("listening"),t.removeAllListeners("close"),await t.close();this._transports.delete(e),this._listeners.delete(e)}async removeAll(){const e=[];for(const t of this._transports.keys())e.push(this.remove(t));await Promise.all(e)}}const l={FATAL_ALL:0,NO_FATAL:1};i.FaultTolerance=l,e.exports=i},21003:(e,t,r)=>{"use strict";const n=r(87175),l=Object.assign(n("libp2p:upgrader"),{error:n("libp2p:upgrader:err")}),d=r(26550),f=r(8738),p=r(15458)["Connection"],y=r(88785),g=r(60618)["pipe"],m=r(99633),b=r(23416)["codes"];e.exports=class{constructor({localPeer:e,metrics:t,cryptos:r=new Map,muxers:n=new Map,onConnectionEnd:i=()=>{},onConnection:s=()=>{}}){this.localPeer=e,this.metrics=t,this.cryptos=r,this.muxers=n,this.protector=null,this.protocols=new Map,this.onConnection=s,this.onConnectionEnd=i}async upgradeInbound(e){let t,r,n,i,s,o,a;if(this.metrics){({setTarget:o,proxy:a}=m());const t=(1e9*Math.random()).toString(36)+Date.now();o({toB58String:()=>t}),e=this.metrics.trackStream({stream:e,remotePeer:a})}l("Starting the inbound connection upgrade");let c=e;this.protector&&(c=await this.protector.protect(e));try{({conn:t,remotePeer:r,protocol:s}=await this._encryptInbound(this.localPeer,c,this.cryptos)),this.muxers.size?{stream:n,Muxer:i}=await this._multiplexInbound(t,this.muxers):n=t}catch(t){throw l.error("Failed to upgrade inbound connection",t),await e.close(t),t}return this.metrics&&(this.metrics.updatePlaceholder(a,r),o(r)),l("Successfully upgraded inbound connection"),this._createConnection({cryptoProtocol:s,direction:"inbound",maConn:e,upgradedConn:n,Muxer:i,remotePeer:r})}async upgradeOutbound(e){const t=e.remoteAddr.getPeerId();if(!t)throw d(new Error("outbound connection must have a peer id"),b.ERR_INVALID_MULTIADDR);var r=y.createFromB58String(t);let n,i,s,o,a,c,u;if(this.metrics){({setTarget:c,proxy:u}=m());const t=(1e9*Math.random()).toString(36)+Date.now();c({toB58String:()=>t}),e=this.metrics.trackStream({stream:e,remotePeer:u})}l("Starting the outbound connection upgrade");let h=e;this.protector&&(h=await this.protector.protect(e));try{({conn:n,remotePeer:i,protocol:o}=await this._encryptOutbound(this.localPeer,h,r,this.cryptos)),this.muxers.size?{stream:s,Muxer:a}=await this._multiplexOutbound(n,this.muxers):s=n}catch(t){throw l.error("Failed to upgrade outbound connection",t),await e.close(t),t}return this.metrics&&(this.metrics.updatePlaceholder(u,i),c(i)),l("Successfully upgraded outbound connection"),this._createConnection({cryptoProtocol:o,direction:"outbound",maConn:e,upgradedConn:s,Muxer:a,remotePeer:i})}_createConnection({cryptoProtocol:e,direction:i,maConn:t,upgradedConn:r,Muxer:n,remotePeer:s}){let o,a,c;n&&(o=new n({onStream:async e=>{if(c){const n=new f.Listener(e);try{var{stream:t,protocol:r}=await n.handle(Array.from(this.protocols.keys()));l("%s: incoming stream opened on %s",i,r),this.metrics&&this.metrics.trackStream({stream:t,remotePeer:s,protocol:r}),c.addStream(e,{protocol:r}),this._onStream({connection:c,stream:{...e,...t},protocol:r})}catch(e){l.error(e)}}},onStreamEnd:e=>{c.removeStream(e.id)}}),a=async e=>{l("%s: starting new stream on %s",i,e);const t=o.newStream(),r=new f.Dialer(t);try{const{stream:i,protocol:l}=await r.select(e);return this.metrics&&this.metrics.trackStream({stream:i,remotePeer:s,protocol:l}),{stream:{...t,...i},protocol:l}}catch(e){throw l.error("could not create new stream",e),d(e,b.ERR_UNSUPPORTED_PROTOCOL)}},g(r,o,r).catch(l.error));const u=t.timeline;t.timeline=new Proxy(u,{set:(...e)=>(c&&"close"===e[1]&&e[2]&&!u.close&&(async()=>{try{"open"===c.stat.status&&await c.close()}catch(e){l.error(e)}finally{this.onConnectionEnd(c)}})(),Reflect.set(...e))}),t.timeline.upgraded=Date.now();const h=()=>{throw d(new Error("connection is not multiplexed"),"ERR_CONNECTION_NOT_MULTIPLEXED")};return c=new p({localAddr:t.localAddr,remoteAddr:t.remoteAddr,localPeer:this.localPeer,remotePeer:s,stat:{direction:i,timeline:t.timeline,multiplexer:n&&n.multicodec,encryption:e},newStream:a||h,getStreams:()=>o?o.streams:h(),close:async()=>{await t.close(),o&&o.streams.map(e=>e.abort())}}),this.onConnection(c),c}_onStream({connection:e,stream:t,protocol:r}){this.protocols.get(r)({connection:e,stream:t,protocol:r})}async _encryptInbound(e,t,r){const n=new f.Listener(t),i=Array.from(r.keys());l("handling inbound crypto protocol selection",i);try{const{stream:t,protocol:d}=await n.handle(i),f=r.get(d);if(l("encrypting inbound connection..."),!f)throw new Error("no crypto module found for "+d);return{...await f.secureInbound(e,t),protocol:d}}catch(e){throw d(e,b.ERR_ENCRYPTION_FAILED)}}async _encryptOutbound(e,t,r,n){const i=new f.Dialer(t),s=Array.from(n.keys());l("selecting outbound crypto protocol",s);try{const{stream:t,protocol:d}=await i.select(s),f=n.get(d);if(l("encrypting outbound connection to %j",r),!f)throw new Error("no crypto module found for "+d);return{...await f.secureOutbound(e,t,r),protocol:d}}catch(e){throw d(e,b.ERR_ENCRYPTION_FAILED)}}async _multiplexOutbound(e,t){const r=new f.Dialer(e),n=Array.from(t.keys());l("outbound selecting muxer %s",n);try{const{stream:e,protocol:d}=await r.select(n);return l("%s selected as muxer protocol",d),{stream:e,Muxer:t.get(d)}}catch(e){throw d(e,b.ERR_MUXER_UNAVAILABLE)}}async _multiplexInbound(e,t){const r=new f.Listener(e),n=Array.from(t.keys());l("inbound handling muxers %s",n);try{const{stream:e,protocol:l}=await r.handle(n);return{stream:e,Muxer:t.get(l)}}catch(e){throw d(e,b.ERR_MUXER_UNAVAILABLE)}}}},93096:(e,t,r)=>{function b(){return u.Date.now()}var v="Expected a function",n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,c="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,r="object"==typeof self&&self&&self.Object===Object&&self,u=c||r||Function("return this")(),h=Object.prototype.toString,w=Math.max,_=Math.min;function E(e){var t=typeof e;return e&&("object"==t||"function"==t)}function S(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==h.call(t))return NaN;var t;if("string"!=typeof(e=E(e)?E(r="function"==typeof e.valueOf?e.valueOf():e)?r+"":r:e))return 0===e?e:+e;e=e.replace(n,"");var r=s.test(e);return r||o.test(e)?a(e.slice(2),r?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new TypeError(v);return E(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),function(n,r,e){var i,s,o,a,c,u,h=0,l=!1,d=!1,t=!0;if("function"!=typeof n)throw new TypeError(v);function f(e){var t=i,r=s;return i=s=void 0,h=e,a=n.apply(r,t)}function p(e){var t=e-u;return void 0===u||r<=t||t<0||d&&o<=e-h}function y(){var e,t=b();if(p(t))return g(t);c=setTimeout(y,(e=r-(t-u),d?_(e,o-(t-h)):e))}function g(e){return c=void 0,t&&i?f(e):(i=s=void 0,a)}function m(){var e=b(),t=p(e);if(i=arguments,s=this,u=e,t){if(void 0===c)return h=t=u,c=setTimeout(y,r),l?f(t):a;if(d)return c=setTimeout(y,r),f(u)}return void 0===c&&(c=setTimeout(y,r)),a}return r=S(r)||0,E(e)&&(l=!!e.leading,o=(d="maxWait"in e)?w(S(e.maxWait)||0,r):o,t="trailing"in e?!!e.trailing:t),m.cancel=function(){void 0!==c&&clearTimeout(c),i=u=s=c=void(h=0)},m.flush=function(){return void 0===c?a:g(b())},m}(e,t,{leading:n,maxWait:t,trailing:i})}},29175:(e,t,r)=>{"use strict";const i=r(46584)["Multiaddr"],n=k("dns4"),s=k("dns6"),o=k("dnsaddr"),a=P(k("dns"),o,n,s),c=P(k("ip4"),k("ip6")),u=P(R(c,k("tcp")),R(a,k("tcp"))),h=R(c,k("udp")),l=R(h,k("utp")),d=R(h,k("quic")),f=P(R(u,k("ws")),R(a,k("ws"))),p=P(R(u,k("wss")),R(a,k("wss"))),y=P(R(u,k("http")),R(c,k("http")),R(a,k("http"))),g=P(R(u,k("https")),R(c,k("https")),R(a,k("https"))),m=P(R(f,k("p2p-webrtc-star"),k("p2p")),R(p,k("p2p-webrtc-star"),k("p2p")),R(f,k("p2p-webrtc-star")),R(p,k("p2p-webrtc-star"))),b=P(R(f,k("p2p-websocket-star"),k("p2p")),R(p,k("p2p-websocket-star"),k("p2p")),R(f,k("p2p-websocket-star")),R(p,k("p2p-websocket-star"))),v=P(R(y,k("p2p-webrtc-direct"),k("p2p")),R(g,k("p2p-webrtc-direct"),k("p2p")),R(y,k("p2p-webrtc-direct")),R(g,k("p2p-webrtc-direct"))),w=P(f,p,y,g,m,v,u,l,d,a),_=P(R(w,k("p2p-stardust"),k("p2p")),R(w,k("p2p-stardust"))),E=P(R(w,k("p2p")),m,v,k("p2p")),S=P(R(E,k("p2p-circuit"),E),R(E,k("p2p-circuit")),R(k("p2p-circuit"),E),R(w,k("p2p-circuit")),R(k("p2p-circuit"),w),k("p2p-circuit")),C=()=>P(R(S,C),S),A=C(),I=P(R(A,E,A),R(E,A),R(A,E),A,E);function T(t){return function(e){if(!i.isMultiaddr(e))try{e=new i(e)}catch(e){return!1}e=t(e.protoNames());return null!==e&&(!0===e||!1===e?e:0===e.length)}}function R(...e){function t(t){if(t.length<e.length)return null;let r=t;return e.some(e=>(r=("function"==typeof e?e():e).partialMatch(t),Array.isArray(r)&&(t=r),null===r)),r}return{toString:function(){return"{ "+e.join(" ")+" }"},input:e,matches:T(t),partialMatch:t}}function P(...e){function t(t){let r=null;return e.some(e=>{e=("function"==typeof e?e():e).partialMatch(t);return!!e&&(r=e,!0)}),r}return{toString:function(){return"{ "+e.join(" ")+" }"},input:e,matches:T(t),partialMatch:t}}function k(e){const n=e;return{toString:function(){return n},matches:function(e){let t;if("string"==typeof e||e instanceof Uint8Array)try{t=new i(e)}catch(e){return!1}else t=e;var r=t.protoNames();return 1===r.length&&r[0]===n},partialMatch:function(e){return 0!==e.length&&e[0]===n?e.slice(1):null}}}e.exports={DNS:a,DNS4:n,DNS6:s,DNSADDR:o,IP:c,TCP:u,UDP:h,QUIC:d,UTP:l,HTTP:y,HTTPS:g,WebSockets:f,WebSocketsSecure:p,WebSocketStar:b,WebRTCStar:m,WebRTCDirect:v,Reliable:w,Stardust:_,Circuit:A,P2P:I,IPFS:I}},70942:function(e,t,r){"use strict";const i=r(49727),a=Object.prototype["hasOwnProperty"],s=Object["propertyIsEnumerable"],c=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0}),o=this,u={concatArrays:!1,ignoreUndefined:!1},h=e=>{const t=[];for(const r in e)a.call(e,r)&&t.push(r);if(Object.getOwnPropertySymbols)for(const n of Object.getOwnPropertySymbols(e))s.call(e,n)&&t.push(n);return t};function l(e){return Array.isArray(e)?function(t){const r=t.slice(0,0);return h(t).forEach(e=>{c(r,e,l(t[e]))}),r}(e):i(e)?function(t){const r=null===Object.getPrototypeOf(t)?Object.create(null):{};return h(t).forEach(e=>{c(r,e,l(t[e]))}),r}(e):e}const d=(t,r,e,n)=>(e.forEach(e=>{void 0===r[e]&&n.ignoreUndefined||(e in t&&t[e]!==Object.getPrototypeOf(t)?c(t,e,f(t[e],r[e],n)):c(t,e,l(r[e])))}),t);function f(e,t,r){return r.concatArrays&&Array.isArray(e)&&Array.isArray(t)?((n,e,i)=>{let s=n.slice(0,0),o=0;return[n,e].forEach(t=>{const r=[];for(let e=0;e<t.length;e++)a.call(t,e)&&(r.push(String(e)),c(s,o++,t===n?t[e]:l(t[e])));s=d(s,t,h(t).filter(e=>!r.includes(e)),i)}),s})(e,t,r):i(t)&&i(e)?d(e,t,h(t),r):l(t)}e.exports=function(...e){var t=f(l(u),this!==o&&this||{},u);let r={_:{}};for(const n of e)if(void 0!==n){if(!i(n))throw new TypeError("`"+n+"` is not an Option Object");r=f(r,{_:n},t)}return r._}},49727:e=>{"use strict";e.exports=e=>{if("[object Object]"!==Object.prototype.toString.call(e))return!1;e=Object.getPrototypeOf(e);return null===e||e===Object.prototype}},79746:e=>{function t(e,t){if(!e)throw new Error(t||"Assertion failed")}(e.exports=t).equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},34504:(e,t)=>{"use strict";function n(e){return 1===e.length?"0"+e:e}function r(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),s=i>>8,i=255&i;s?r.push(s,i):r.push(i)}return r},t.zero2=n,t.toHex=r,t.encode=function(e,t){return"hex"===t?r(e):e}},57824:e=>{function i(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}e.exports=function(r,e){e=e||{};var t,n=typeof r;if("string"==n&&0<r.length)return function(e){if(!(100<(e=String(r)).length)){e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(e){var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"days":case"day":case"d":return 864e5*t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}(r);if("number"==n&&!1===isNaN(r))return e.long?i(t=r,864e5,"day")||i(t,36e5,"hour")||i(t,6e4,"minute")||i(t,1e3,"second")||t+" ms":864e5<=(t=r)?Math.round(t/864e5)+"d":36e5<=t?Math.round(t/36e5)+"h":6e4<=t?Math.round(t/6e4)+"m":1e3<=t?Math.round(t/1e3)+"s":t+"ms";throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))}},95700:(e,t,r)=>{const n=r(46584)["Multiaddr"],i=(e,t)=>t,o={ip4:i,ip6:(e,t,r,n)=>1===n.length&&"ip6"===n[0].protocol?t:`[${t}]`,tcp:(r,n,e,i,s)=>i.some(e=>["http","https","ws","wss"].includes(e.protocol))?r+":"+n:(()=>{if(s&&!1===s.assumeHttp)return`tcp://${r}:`+n;let e="tcp",t=":"+n;return"tcp"===i[i.length-1].protocol&&(e="443"===n?"https":"http",t="443"===n||"80"===n?"":t),e+"://"+r+t})(),udp:(e,t)=>`udp://${e}:`+t,dnsaddr:i,dns4:i,dns6:i,ipfs:(e,t)=>e+"/ipfs/"+t,p2p:(e,t)=>e+"/p2p/"+t,http:e=>"http://"+e,https:e=>"https://"+e,ws:e=>"ws://"+e,wss:e=>"wss://"+e,"p2p-websocket-star":e=>e+"/p2p-websocket-star","p2p-webrtc-star":e=>e+"/p2p-webrtc-star","p2p-webrtc-direct":e=>e+"/p2p-webrtc-direct"};e.exports=(e,s)=>{const t=new n(e),r=e.toString().split("/").slice(1);return t.tuples().map(e=>({protocol:r.shift(),content:e[1]?r.shift():null})).reduce((e,t,r,n)=>{const i=o[t.protocol];if(!i)throw new Error("Unsupported protocol "+t.protocol);return i(e,t.content,r,n,s)},"")}},30986:e=>{"use strict";function i(e,t){for(const r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}e.exports=function(e,t,r){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");r=r||{},"object"==typeof t&&(r=t,t=""),t&&(r.code=t);try{return i(e,r)}catch(t){r.message=e.message,r.stack=e.stack;var n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(e)),i(new n,r)}}},18190:(e,t,r)=>{"use strict";const n=r(99918),a=r(89768),c=r(94676),i=r(20605)["concat"],u=r(92263)["toString"];function s(t){const r=[],n=t.split("/").slice(1);if(1===n.length&&""===n[0])return[];for(let e=0;e<n.length;e++){var i=n[e],s=a(i);if(0!==s.size){if(e++,e>=n.length)throw v("invalid address: "+t);if(s.path){r.push([i,b(n.slice(e).join("/"))]);break}r.push([i,n[e]])}else r.push([i])}return r}function o(e){const r=[];return e.map(e=>{var t=w(e);return r.push(t.name),1<e.length&&r.push(e[1]),null}),b(r.join("/"))}function h(e){return e.map(e=>{var t=w(e=!Array.isArray(e)?[e]:e);return 1<e.length?[t.code,n.toBytes(t.code,e[1])]:[t.code]})}function l(e){return e.map(e=>{var t=w(e);return e[1]?[t.code,n.toString(t.code,e[1])]:[t.code]})}function d(e){return g(i(e.map(e=>{var t=w(e);let r=Uint8Array.from(c.encode(t.code));return 1<e.length&&(r=i([r,e[1]])),r})))}function f(e,t){return 0<e.size?e.size/8:0===e.size?0:c.decode(t)+c.decode.bytes}function p(e){const t=[];let r=0;for(;r<e.length;){var n=c.decode(e,r),i=c.decode.bytes,s=f(a(n),e.slice(r+i));if(0!==s){var o=e.slice(r+i,r+i+s);if(r+=s+i,r>e.length)throw v("Invalid address Uint8Array: "+u(e,"base16"));t.push([n,o])}else t.push([n]),r+=i}return t}function y(e){return d(h(s(e=b(e))))}function g(e){var t=m(e);if(t)throw t;return Uint8Array.from(e)}function m(e){try{p(e)}catch(e){return e}}function b(e){return"/"+e.trim().split("/").filter(e=>e).join("/")}function v(e){return new Error("Error parsing address: "+e)}function w(e){return a(e[0])}e.exports={stringToStringTuples:s,stringTuplesToString:o,tuplesToStringTuples:l,stringTuplesToTuples:h,bytesToTuples:p,tuplesToBytes:d,bytesToString:function(e){return o(l(p(e)))},stringToBytes:y,fromString:y,fromBytes:g,validateBytes:m,isValidBytes:function(e){return void 0===m(e)},cleanPath:b,ParseError:v,protoFromTuple:w,sizeForAddr:f}},99918:(e,t,r)=>{"use strict";const i=r(33692),s=r(89768),o=r(81362)["CID"],a=r(22817)["base32"],c=r(99086)["base58btc"],u=r(28924),h=r(94676),l=r(92263)["toString"],d=r(52217)["fromString"],f=r(20605)["concat"];function n(e,t){return t instanceof Uint8Array?n.toString(e,t):n.toBytes(e,t)}function p(e){var t=new ArrayBuffer(2);return new DataView(t).setUint16(0,e),new Uint8Array(t)}function y(e){return new DataView(e.buffer).getUint16(e.byteOffset)}(e.exports=n).toString=function(e,t){switch(s(e).code){case 4:case 41:return function(e){e=i.toString(e);if(!e||!i.isIP(e))throw new Error("invalid ip address");return e}(t);case 6:case 273:case 33:case 132:return y(t).toString();case 53:case 54:case 55:case 56:case 400:case 777:return function(e){var t=h.decode(e);if((e=e.slice(h.decode.bytes)).length!==t)throw new Error("inconsistent lengths");return l(e)}(t);case 421:return function(e){var t=h.decode(e),e=e.slice(h.decode.bytes);if(e.length!==t)throw new Error("inconsistent lengths");return l(e,"base58btc")}(t);case 444:case 445:return n=(r=t).slice(0,r.length-2),r=r.slice(r.length-2),l(n,"base32")+":"+y(r);default:return l(t,"base16")}var r,n},n.toBytes=function(e,r){switch(s(e).code){case 4:case 41:return function(e){if(!i.isIP(e))throw new Error("invalid ip address");return i.toBytes(e)}(r);case 6:case 273:case 33:case 132:return p(parseInt(r,10));case 53:case 54:case 55:case 56:case 400:case 777:return t=r,n=d(t),t=Uint8Array.from(h.encode(n.length)),f([t,n],t.length+n.length);case 421:return n=("Q"===(t=r)[0]||"1"===t[0]?u.decode(c.decode("z"+t)):o.parse(t).multihash).bytes,t=Uint8Array.from(h.encode(n.length)),f([t,n],t.length+n.length);case 444:return function(){var e=r.split(":");if(2!==e.length)throw new Error("failed to parse onion addr: "+e+" does not contain a port number");if(16!==e[0].length)throw new Error("failed to parse onion addr: "+e[0]+" not a Tor onion address.");var t=a.decode("b"+e[0]),e=parseInt(e[1],10);if(e<1||65536<e)throw new Error("Port number is not in range(1, 65536)");e=p(e);return f([t,e],t.length+e.length)}();case 445:return function(){var e=r.split(":");if(2!==e.length)throw new Error("failed to parse onion addr: "+e+" does not contain a port number");if(56!==e[0].length)throw new Error("failed to parse onion addr: "+e[0]+" not a Tor onion3 address.");var t=a.decode("b"+e[0]),e=parseInt(e[1],10);if(e<1||65536<e)throw new Error("Port number is not in range(1, 65536)");e=p(e);return f([t,e],t.length+e.length)}();default:return d(r,"base16")}var t,n}},46584:(e,t,r)=>{"use strict";const o=r(18190),a=r(89768),c=r(94676),n=r(81362)["CID"],i=r(99086)["base58btc"],s=r(30986),u=Symbol.for("nodejs.util.inspect.custom"),h=r(92263)["toString"],l=r(19588)["equals"],d=new Map,f=Symbol.for("@multiformats/js-multiaddr/multiaddr");class p{constructor(e){if(null==e&&(e=""),Object.defineProperty(this,f,{value:!0}),e instanceof Uint8Array)this.bytes=o.fromBytes(e);else if("string"==typeof e){if(0<e.length&&"/"!==e.charAt(0))throw new Error(`multiaddr "${e}" must start with a "/"`);this.bytes=o.fromString(e)}else{if(!p.isMultiaddr(e))throw new Error("addr must be a string, Buffer, or another Multiaddr");this.bytes=o.fromBytes(e.bytes)}}toString(){return o.bytesToString(this.bytes)}toJSON(){return this.toString()}toOptions(){const e={},t=this.toString().split("/");return e.family="ip4"===t[1]?4:6,e.host=t[2],e.transport=t[3],e.port=parseInt(t[4]),e}protos(){return this.protoCodes().map(e=>Object.assign({},a(e)))}protoCodes(){const e=[],t=this.bytes;let r=0;for(;r<t.length;){var n=c.decode(t,r),i=c.decode.bytes,s=a(n);r+=o.sizeForAddr(s,t.slice(r+i))+i,e.push(n)}return e}protoNames(){return this.protos().map(e=>e.name)}tuples(){return o.bytesToTuples(this.bytes)}stringTuples(){var e=o.bytesToTuples(this.bytes);return o.tuplesToStringTuples(e)}encapsulate(e){return e=new p(e),new p(this.toString()+e.toString())}decapsulate(e){const t=e.toString(),r=this.toString(),n=r.lastIndexOf(t);if(n<0)throw new Error("Address "+this+" does not contain subaddress: "+e);return new p(r.slice(0,n))}decapsulateCode(t){const r=this.tuples();for(let e=r.length-1;0<=e;e--)if(r[e][0]===t)return new p(o.tuplesToBytes(r.slice(0,e)));return this}getPeerId(){try{const t=this.stringTuples().filter(e=>e[0]===a.names.ipfs.code),r=t.pop();if(r&&r[1]){var e=r[1];return"Q"===e[0]||"1"===e[0]?h(i.decode("z"+e),"base58btc"):h(n.parse(e).multihash.bytes,"base58btc")}return null}catch(e){return null}}getPath(){let t=null;try{t=this.stringTuples().filter(e=>!!a(e[0]).path)[0][1],t=t||null}catch(e){t=null}return t}equals(e){return l(this.bytes,e.bytes)}async resolve(){var e=this.protos().find(e=>e.resolvable);if(!e)return[this];const t=d.get(e.name);if(!t)throw s(new Error("no available resolver for "+e.name),"ERR_NO_AVAILABLE_RESOLVER");return(await t(this)).map(e=>new p(e))}nodeAddress(){var e=this.protoCodes(),t=this.protoNames(),r=this.toString().split("/").slice(1);if(r.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(4!==e[0]&&41!==e[0]&&54!==e[0]&&55!==e[0])throw new Error(`no protocol with name: "'${t[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if("tcp"!==r[2]&&"udp"!==r[2])throw new Error(`no protocol with name: "'${t[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:41===e[0]||55===e[0]?6:4,address:r[1],port:parseInt(r[3])}}isThinWaistAddress(e){e=(e||this).protos();return!(2!==e.length||4!==e[0].code&&41!==e[0].code||6!==e[1].code&&273!==e[1].code)}static fromNodeAddress(e,t){if(!e)throw new Error("requires node address object");if(!t)throw new Error("requires transport protocol");let r;switch(e.family){case 4:r="ip4";break;case 6:r="ip6";break;default:throw Error(`Invalid addr family. Got '${e.family}' instead of 4 or 6`)}return new p("/"+[r,e.address,t,e.port].join("/"))}static isName(e){return!!p.isMultiaddr(e)&&e.protos().some(e=>e.resolvable)}static isMultiaddr(e){return e instanceof p||Boolean(e&&e[f])}[u](){return"<Multiaddr "+h(this.bytes,"base16")+" - "+o.bytesToString(this.bytes)+">"}inspect(){return"<Multiaddr "+h(this.bytes,"base16")+" - "+o.bytesToString(this.bytes)+">"}}p.protocols=a,p.resolvers=d,e.exports={Multiaddr:p,multiaddr:function(e){return new p(e)},protocols:a,resolvers:d}},33692:(e,t,r)=>{"use strict";function o(e,r,n){let i;if(n=~~n,c(e))i=r||new Uint8Array(n+4),e.split(/\./g).map(function(e){i[n++]=255&parseInt(e,10)});else if(u(e)){const s=e.split(":",8);let t;for(t=0;t<s.length;t++){let e;c(s[t])&&(e=o(s[t]),s[t]=a(e.slice(0,2),"base16")),e&&++t<8&&s.splice(t,0,a(e.slice(2,4),"base16"))}if(""===s[0])for(;s.length<8;)s.unshift("0");else if(""===s[s.length-1])for(;s.length<8;)s.push("0");else if(s.length<8){for(t=0;t<s.length&&""!==s[t];t++);const e=[t,"1"];for(t=9-s.length;0<t;t--)e.push("0");s.splice.apply(s,e)}for(i=r||new Uint8Array(n+16),t=0;t<s.length;t++){const e=parseInt(s[t],16);i[n++]=e>>8&255,i[n++]=255&e}}if(!i)throw Error("Invalid ip address: "+e);return i}const n=r(5003),a=r(92263)["toString"],i=n,c=n.v4,u=n.v6;e.exports={isIP:i,isV4:c,isV6:u,toBytes:o,toString:function(t,r,n){r=~~r,n=n||t.length-r;const i=[];let e;const s=new DataView(t.buffer);if(4===n){for(let e=0;e<n;e++)i.push(t[r+e]);e=i.join(".")}else if(16===n){for(let e=0;e<n;e+=2)i.push(s.getUint16(r+e).toString(16));e=i.join(":"),e=e.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),e=e.replace(/:{3,4}/,"::")}return e}}},89768:e=>{"use strict";function t(e){if("number"==typeof e){if(t.codes[e])return t.codes[e];throw new Error("no protocol with code: "+e)}if("string"!=typeof e)throw new Error("invalid protocol id type: "+e);if(t.names[e])return t.names[e];throw new Error("no protocol with name: "+e)}function r(e,t,r,n,i){return{code:e,size:t,name:r,resolvable:Boolean(n),path:Boolean(i)}}t.lengthPrefixedVarSize=-1,t.V=-1,t.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,-1,"ip6zone"],[53,-1,"dns","resolvable"],[54,-1,"dns4","resolvable"],[55,-1,"dns6","resolvable"],[56,-1,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,-1,"unix",!1,"path"],[421,-1,"ipfs"],[421,-1,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,-1,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,-1,"memory"]],t.names={},t.codes={},t.table.map(e=>{e=r.apply(null,e);return t.codes[e.code]=e,t.names[e.name]=e,null}),t.object=r,e.exports=t},56557:(e,t,r)=>{"use strict";r=r(926);e.exports=r},39004:(e,t,s)=>{"use strict";const r=s(89768),o=r("dnsaddr")["code"];e.exports={dnsaddrResolver:async function(e){const t=new(s(56557)),r=e.getPeerId(),[,n]=e.stringTuples().find(([e])=>e===o)||[];let i=(await t.resolveTxt("_dnsaddr."+n)).flat().map(e=>e.split("=")[1]);return r&&(i=i.filter(e=>e.includes(r))),i}}},67868:(t,r,e)=>{r.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");let t=0,r=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(t++,"%c"===e&&(r=t))}),e.splice(r,0,n)}},r.save=function(e){try{e?r.storage.setItem("debug",e):r.storage.removeItem("debug")}catch(e){}},r.load=function(){let e;try{e=r.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},r.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},r.storage=function(){try{return localStorage}catch(e){}}(),r.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],r.log=console.debug||console.log||(()=>{}),t.exports=e(69927)(r);const n=t.exports["formatters"];n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},69927:(e,t,n)=>{e.exports=function(t){function a(e){let r,t,n,i=null;function o(...i){if(o.enabled){const s=o,e=Number(new Date),t=e-(r||e);s.diff=t,s.prev=r,s.curr=e,r=e,i[0]=a.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");let n=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(e,t)=>{if("%%"===e)return"%";n++;const r=a.formatters[t];if("function"==typeof r){const a=i[n];e=r.call(s,a),i.splice(n,1),n--}return e}),a.formatArgs.call(s,i),(s.log||a.log).apply(s,i)}}return o.namespace=e,o.useColors=a.useColors(),o.color=a.selectColor(e),o.extend=s,o.destroy=a.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(t!==a.namespaces&&(t=a.namespaces,n=a.enabled(e)),n),set:e=>{i=e}}),"function"==typeof a.init&&a.init(o),o}function s(e,t){const r=a(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return((a.debug=a).default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},a.disable=function(){var e=[...a.names.map(r),...a.skips.map(r).map(e=>"-"+e)].join(",");return a.enable(""),e},a.enable=function(e){let t;a.save(e),a.namespaces=e,a.names=[],a.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length;for(t=0;t<n;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+e.substr(1)+"$")):a.names.push(new RegExp("^"+e+"$")))},a.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=a.skips.length;t<r;t++)if(a.skips[t].test(e))return!1;for(t=0,r=a.names.length;t<r;t++)if(a.names[t].test(e))return!0;return!1},a.humanize=n(93429),a.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(e=>{a[e]=t[e]}),a.names=[],a.skips=[],a.formatters={},a.selectColor=function(t){let r=0;for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return a.colors[Math.abs(r)%a.colors.length]},a.enable(a.load()),a}},32012:e=>{"use strict";function i(e,t){for(const r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}e.exports=function(e,t,r){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");r=r||{},"object"==typeof t&&(r=t,t=""),t&&(r.code=t);try{return i(e,r)}catch(t){r.message=e.message,r.stack=e.stack;var n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(e)),i(new n,r)}}},93429:e=>{function s(e,t,r,n){t=1.5*r<=t;return Math.round(e/r)+" "+n+(t?"s":"")}e.exports=function(r,e){e=e||{};var t,n,i=typeof r;if("string"==i&&0<r.length)return function(e){if(!(100<(e=String(r)).length)){e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(e){var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"weeks":case"week":case"w":return 6048e5*t;case"days":case"day":case"d":return 864e5*t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}(r);if("number"==i&&isFinite(r))return e.long?(n=r,864e5<=(t=Math.abs(n))?s(n,t,864e5,"day"):36e5<=t?s(n,t,36e5,"hour"):6e4<=t?s(n,t,6e4,"minute"):1e3<=t?s(n,t,1e3,"second"):n+" ms"):(t=r,864e5<=(n=Math.abs(t))?Math.round(t/864e5)+"d":36e5<=n?Math.round(t/36e5)+"h":6e4<=n?Math.round(t/6e4)+"m":1e3<=n?Math.round(t/1e3)+"s":t+"ms");throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))}},48506:(e,t)=>{"use strict";t.PROTOCOL_ID="/multistream/1.0.0"},43868:(e,t,r)=>{"use strict";const o=r(67868)("mss:handle"),a=r(9668),c=r(60878),u=r(52261),h=r(48506)["PROTOCOL_ID"];e.exports=async(e,t)=>{t=Array.isArray(t)?t:[t];const{writer:r,reader:n,rest:i,stream:s}=u(e);for(;;){const e=(await c.read(n)).toString();if(o('read "%s"',e),e!==h){if(t.includes(e))return c.write(r,e),o('respond with "%s" for "%s"',e,e),i(),{stream:s,protocol:e};"ls"!==e?(c.write(r,"na"),o('respond with "na" for "%s"',e)):(c.write(r,new a(t.map(e=>c.encode(e)))),o('respond with "%s" for %s',t,e))}else o('respond with "%s" for "%s"',h,e),c.write(r,h)}}},8738:(e,t,r)=>{"use strict";const n=r(27578),i=r(43868),s=r(77372),o=r(48506)["PROTOCOL_ID"];t.PROTOCOL_ID=o;class a{constructor(e){this._stream=e,this._shaken=!1}async _handshake(){var e;this._shaken||(e=(await n(this._stream,o))["stream"],this._stream=e,this._shaken=!0)}}t.Dialer=class extends a{select(e){return n(this._stream,e,this._shaken?null:o)}async ls(){await this._handshake();var{stream:e,protocols:t}=await s(this._stream);return this._stream=e,t}},t.Listener=class extends a{handle(e){return i(this._stream,e)}}},77372:(e,t,r)=>{"use strict";const c=r(53469),u=r(67868)("it-multistream-select:ls"),h=r(60878),l=r(52261),d=r(48963),f=r(60618);e.exports=async e=>{const{reader:t,writer:r,rest:n,stream:i}=l(e);u('write "ls"'),h.write(r,"ls"),n();const s=await h.read(t),o=c([s]),a=[];return await f(o,d.decode(),async e=>{for await(const t of e)a.push(t.shallowSlice(0,-1).toString())}),{stream:i,protocols:a}}},60878:(e,r,t)=>{"use strict";const n=t(9668),i=t(48963),s=t(60618),o=t(32012),a=t(52217)["fromString"],c=t(72262),u=a("\n");r.encode=e=>i.encode.single(new n([e,u])),r.write=(e,t)=>e.push(r.encode(t)),r.writeAll=(e,t)=>{e.push(t.reduce((e,t)=>e.append(r.encode(t)),new n))},r.read=async e=>{let t=1;const r={[Symbol.asyncIterator](){return this},next:()=>e.next(t)},n=await s(r,i.decode({onLength:e=>{t=e}}),c);if(n.get(n.length-1)!==u[0])throw o(new Error("missing newline"),"ERR_INVALID_MULTISTREAM_SELECT_MESSAGE");return n.shallowSlice(0,-1)}},27578:(e,t,r)=>{"use strict";const u=r(67868)("mss:select"),h=r(32012),l=r(60878),d=r(52261);e.exports=async(e,t,r)=>{t=Array.isArray(t)?[...t]:[t];const{reader:n,writer:i,rest:s,stream:o}=d(e),a=t.shift();r?(u('select: write ["%s", "%s"]',r,a),l.writeAll(i,[r,a])):(u('select: write "%s"',a),l.write(i,a));let c=(await l.read(n)).toString();if(u('select: read "%s"',c),c===r&&(c=(await l.read(n)).toString(),u('select: read "%s"',c)),c===a)return s(),{stream:o,protocol:a};for(const e of t){u('select: write "%s"',e),l.write(i,e);const t=(await l.read(n)).toString();if(u('select: read "%s" for "%s"',t,e),t===e)return s(),{stream:o,protocol:e}}throw s(),h(new Error("protocol selection failed"),"ERR_UNSUPPORTED_PROTOCOL")}},99633:e=>{"use strict";e.exports=function(e){var i=void 0,s=void 0;function t(e){if(!(e instanceof Object))throw new Error('Target "'+e+'" is not an object');s=e}function r(r){Object.keys(r).forEach(function(e){var t=r[e];if("function"!=typeof t)throw new Error('Trap "'+e+": "+t+'" is not a function');if(!Reflect[e])throw new Error('Trap "'+e+": "+t+'" is not a valid trap')}),i=r}t(function(){}),e&&t(e),r(Reflect);e=new Proxy({},{get:function(e,n){return function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return i[n].apply(null,[s].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(t.slice(1))))}}});return{setTarget:t,setHandler:r,getTarget:function(){return s},getHandler:function(){return i},proxy:new Proxy(s,e)}}},35353:(e,t,r)=>{"use strict";r=globalThis.AbortController&&globalThis.AbortSignal?globalThis:r(28599);e.exports.AbortSignal=r.AbortSignal,e.exports.AbortController=r.AbortController},30700:(e,t,r)=>{"use strict";globalThis.fetch&&globalThis.Headers&&globalThis.Request&&globalThis.Response?e.exports={default:globalThis.fetch,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response}:e.exports={default:r(83300).default,Headers:r(83300).Headers,Request:r(83300).Request,Response:r(83300).Response}},28951:function(e,r){!function(){var e,o,a,c,u,h,s,l;function t(e,t){var r,n,i;if("string"!=typeof e)throw new Error("Missing `net' parameter");if(t||(e=(i=e.split("/",2))[0],t=i[1]),"string"==typeof(t=t||32)&&-1<t.indexOf(".")){try{this.maskLong=s(t)}catch(e){throw new Error("Invalid mask: "+t)}for(r=n=32;0<=n;r=--n)if(this.maskLong===4294967295<<32-r>>>0){this.bitmask=r;break}}else{if(!t&&0!==t)throw new Error("Invalid mask: empty");this.bitmask=parseInt(t,10),(this.maskLong=0)<this.bitmask&&(this.maskLong=4294967295<<32-this.bitmask>>>0)}try{this.netLong=(s(e)&this.maskLong)>>>0}catch(t){throw new Error("Invalid net address: "+e)}if(!(this.bitmask<=32))throw new Error("Invalid mask for ip4: "+t);this.size=Math.pow(2,32-this.bitmask),this.base=l(this.netLong),this.mask=l(this.maskLong),this.hostmask=l(~this.maskLong),this.first=this.bitmask<=30?l(this.netLong+1):this.base,this.last=this.bitmask<=30?l(this.netLong+this.size-2):l(this.netLong+this.size-1),this.broadcast=this.bitmask<=30?l(this.netLong+this.size-1):void 0}l=function(e){return[(e&255<<24)>>>24,(e&255<<16)>>>16,(65280&e)>>>8,255&e].join(".")},s=function(e){for(var t,r,n,i=[],s=t=0;t<=3&&0!==e.length;s=++t){if(0<s){if("."!==e[0])throw new Error("Invalid IP");e=e.substring(1)}r=(n=o(e))[0],n=n[1],e=e.substring(n),i.push(r)}if(0!==e.length)throw new Error("Invalid IP");switch(i.length){case 1:if(4294967295<i[0])throw new Error("Invalid IP");return i[0]>>>0;case 2:if(255<i[0]||16777215<i[1])throw new Error("Invalid IP");return(i[0]<<24|i[1])>>>0;case 3:if(255<i[0]||255<i[1]||65535<i[2])throw new Error("Invalid IP");return(i[0]<<24|i[1]<<16|i[2])>>>0;case 4:if(255<i[0]||255<i[1]||255<i[2]||255<i[3])throw new Error("Invalid IP");return(i[0]<<24|i[1]<<16|i[2]<<8|i[3])>>>0;default:throw new Error("Invalid IP")}},c=(a=function(e){return e.charCodeAt(0)})("0"),h=a("a"),u=a("A"),o=function(e){var t,r=0,n=10,i="9",s=0;for(1<e.length&&"0"===e[s]&&("x"===e[s+1]||"X"===e[s+1]?(s+=2,n=16):"0"<=e[s+1]&&e[s+1]<="9"&&(s++,n=8,i="7")),t=s;s<e.length;){if("0"<=e[s]&&e[s]<=i)r=r*n+(a(e[s])-c)>>>0;else{if(16!==n)break;if("a"<=e[s]&&e[s]<="f")r=r*n+(10+a(e[s])-h)>>>0;else{if(!("A"<=e[s]&&e[s]<="F"))break;r=r*n+(10+a(e[s])-u)>>>0}}if(4294967295<r)throw new Error("too large");s++}if(s===t)throw new Error("empty octet");return[r,s]},t.prototype.contains=function(e){return(e="string"==typeof e&&(0<e.indexOf("/")||4!==e.split(".").length)?new t(e):e)instanceof t?this.contains(e.base)&&this.contains(e.broadcast||e.last):(s(e)&this.maskLong)>>>0==(this.netLong&this.maskLong)>>>0},t.prototype.next=function(e){return new t(l(this.netLong+this.size*(e=null==e?1:e)),this.mask)},t.prototype.forEach=function(e){for(var t=s(this.first),r=s(this.last),n=0;t<=r;)e(l(t),t,n),n++,t++},t.prototype.toString=function(){return this.base+"/"+this.bitmask},e=t,r.ip2long=s,r.long2ip=l,r.Netmask=e}.call(this)},53710:(r,h,e)=>{"use strict";r=e.nmd(r),Object.defineProperty(h,"__esModule",{value:!0}),h.utils=h.verify=h.sign=h.getPublicKey=h.SignResult=h.Signature=h.Point=h.ExtendedPoint=h.CURVE=void 0;const l={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,P:2n**255n-19n,n:2n**252n+27742317777372353535851937790883648493n,h:8n,Gx:15112221349535400772501151409588531511454012693041857206046113283949847762202n,Gy:46316835694926478169428394003475163141307993866256225615783033603165251855960n};h.CURVE=l;const u=19681161376707505956807079304988542015446066515923890162744021073123829784752n,c=25063068953384623474111414158702152701244531502492656460079210482610430750235n,d=54469307008909316920995813868745141605393597292927456921205312896311721017578n,f=1159843021668779879193775521855586647937357759715417654439879720876111806838n,p=40440834346308536858101042469323190826248399146238708352240133220865137265952n;class y{constructor(e,t,r,n){this.x=e,this.y=t,this.z=r,this.t=n}static fromAffine(e){if(!(e instanceof g))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(g.ZERO)?y.ZERO:new y(e.x,e.y,1n,S(e.x*e.y))}static toAffineBatch(e){const r=function(t,r=l.P){const n=t.length,i=new Array(n);let s=1n;for(let e=0;e<n;e++)0n!==t[e]&&(i[e]=s,s=S(s*t[e],r));s=a(s,r);for(let e=n-1;0<=e;e--){var o;0n!==t[e]&&(o=S(s*t[e],r),t[e]=S(s*i[e],r),s=o)}return t}(e.map(e=>e.z));return e.map((e,t)=>e.toAffine(r[t]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}static fromRistrettoHash(e){const t=E(e.slice(0,32)),r=this.calcElligatorRistrettoMap(t),n=E(e.slice(32,64)),i=this.calcElligatorRistrettoMap(n);return r.add(i)}static calcElligatorRistrettoMap(e){var t=l["d"],r=S(u*e*e),n=S((r+1n)*f);let i=-1n;t=S((i-t*r)*S(r+t));let{isValid:s,value:o}=A(n,t),a=S(o*e);w(a)||(a=S(-a)),s||(o=a),s||(i=r);n=S(i*(r-1n)*p-t),e=o*o,r=S((o+o)*t),t=S(n*c),n=S(1n-e),e=S(1n+e);return new y(S(r*e),S(n*t),S(t*e),S(r*n))}static fromRistrettoBytes(e){var{a:t,d:r}=l,n="ExtendedPoint.fromRistrettoBytes: Cannot convert bytes to Ristretto Point",i=E(e);if(!function(t,r){if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])return;return 1}}(v(i,32),e)||w(i))throw new Error(n);var s=S(i*i),o=S(1n+t*s),a=S(1n-t*s),e=S(o*o),s=S(a*a),r=S(t*r*e-s),{isValid:e,value:s}=I(S(r*s)),a=S(s*a),r=S(s*a*r);let c=S((i+i)*a);w(c)&&(c=S(-c));o=S(o*r),r=S(c*o);if(!e||w(r)||0n===o)throw new Error(n);return new y(c,o,1n,r)}toRistrettoBytes(){let{x:e,y:t,z:r,t:n}=this;var i=S((r+t)*(r-t)),s=S(e*t),o=I(S(i*s**2n))["value"],i=S(o*i),o=S(o*s),s=S(i*o*n);let a;a=w(n*s)?([e,t]=[S(t*u),S(e*u)],S(i*d)):o,w(e*s)&&(t=S(-t));let c=S((r-t)*a);return w(c)&&(c=S(-c)),v(c,32)}equals(e){var[t,r,n,e]=[this.t,e.t,this.z,e.z];return S(t*e)===S(r*n)}negate(){return new y(S(-this.x),this.y,this.z,S(-this.t))}double(){var e=this.x,t=this.y,r=this.z,n=l["a"],i=S(e**2n),s=S(t**2n),r=S(2n*r**2n),n=S(n*i),e=S((e+t)**2n-i-s),t=S(n+s),i=S(t-r),r=S(n-s),n=S(e*i),s=S(t*r),r=S(e*r),t=S(i*t);return new y(n,s,t,r)}add(e){var t=this.x,r=this.y,n=this.z,i=this.t,s=e.x,o=e.y,a=e.z,c=e.t,e=S((r-t)*(o+s)),o=S((r+t)*(o-s)),s=S(o-e);if(0n===s)return this.double();c=S(2n*n*c),i=S(2n*i*a),a=S(i+c),o=S(o+e),e=S(i-c),i=S(a*s),c=S(o*e),e=S(a*e),o=S(s*o);return new y(i,c,o,e)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){if(!s(e))throw new TypeError("Point#multiply: expected number or bigint");let t=S(BigInt(e),l.n);if(1n===t)return this;let r=y.ZERO,n=this;for(;0n<t;)1n&t&&(r=r.add(n)),n=n.double(),t>>=1n;return r}precomputeWindow(t){var r=256/t+1;let n=[],i=this,s=i;for(let e=0;e<r;e++){s=i,n.push(s);for(let e=1;e<2**(t-1);e++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(r,e){const n=(e=!e&&this.equals(y.BASE)?g.BASE:e)&&e._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=e&&t.get(e);i||(i=this.precomputeWindow(n),e&&1!==n&&(i=y.normalizeZ(i),t.set(e,i)));let s=y.ZERO,o=y.ZERO;var a=256/n+1,c=2**(n-1),u=BigInt(2**n-1),h=2**n,l=BigInt(n);for(let t=0;t<a;t++){const n=t*c;let e=Number(r&u);if(r>>=l,e>c&&(e-=h,r+=1n),0===e)o=o.add(t%2?i[n].negate():i[n]);else{const r=i[n+Math.abs(e)-1];s=s.add(e<0?r.negate():r)}}return[s,o]}multiply(e,t){if(!s(e))throw new TypeError("Point#multiply: expected number or bigint");e=S(BigInt(e),l.n);return y.normalizeZ(this.wNAF(e,t))[0]}toAffine(e=a(this.z)){var t=S(this.x*e),e=S(this.y*e);return new g(t,e)}}h.ExtendedPoint=y,y.BASE=new y(l.Gx,l.Gy,1n,S(l.Gx*l.Gy)),y.ZERO=new y(0n,1n,1n,0n);const t=new WeakMap;class g{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,t.delete(this)}static fromHex(e){const{d:t,P:r}=l,n=e instanceof Uint8Array?e:b(e);if(32!==n.length)throw new Error("Point.fromHex: expected 32 bytes");var i=n[31],s=-129&i,e=0!=(128&i),i=_(Uint8Array.from(Array.from(n.slice(0,31)).concat(s)));if(r<=i)throw new Error("Point.fromHex expects hex <= Fp");s=S(i*i);let{isValid:o,value:a}=A(S(s-1n),S(t*s+1n));if(!o)throw new Error("Point.fromHex: invalid y coordinate");return e!=(1n===(1n&a))&&(a=S(-a)),new g(a,i)}static async fromPrivateKey(e){e=await h.utils.sha512(k(e));return g.BASE.multiply(R(e))}toRawBytes(){const r=i(this.y),n=new Uint8Array(32);for(let e=r.length-2,t=0;t<32&&0<=e;e-=2,t++)n[t]=Number.parseInt(r[e]+r[e+1],16);var e=1n&this.x?128:0;return n[31]|=e,n}toHex(){return n(this.toRawBytes())}toX25519(){return S((1n+this.y)*a(1n-this.y))}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new g(S(-this.x),this.y)}add(e){return y.fromAffine(this).add(y.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return y.fromAffine(this).multiply(e,this).toAffine()}}h.Point=g,g.BASE=new g(l.Gx,l.Gy),g.ZERO=new g(0n,1n);class m{constructor(e,t){this.r=e,this.s=t}static fromHex(e){e=P(e);var t=g.fromHex(e.slice(0,32)),e=_(e.slice(32));if(!(0<e&&e<l.n))throw new Error("Signature.fromHex expects s <= CURVE.n");return new m(t,e)}toRawBytes(){const e=b(i(this.s)).reverse(),t=new Uint8Array(32);t.set(e);const r=new Uint8Array(64);return r.set(this.r.toRawBytes()),r.set(t,32),r}toHex(){return n(this.toRawBytes())}}function n(t){let r="";for(let e=0;e<t.length;e++)r+=t[e].toString(16).padStart(2,"0");return r}function b(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const r=new Uint8Array(t.length/2);for(let e=0;e<r.length;e++){var n=2*e;r[e]=Number.parseInt(t.slice(n,2+n),16)}return r}function i(e){e=e.toString(16);return 1&e.length?"0"+e:e}function v(e,t=32){return b(i(e).padStart(2*t,"0")).reverse()}function w(e){return 1n===(1n&S(e))}function s(e){return"bigint"==typeof e&&0n<e||"number"==typeof e&&0<e&&Number.isSafeInteger(e)}function _(t){let r=0n;for(let e=0;e<t.length;e++)r+=BigInt(t[e])<<8n*BigInt(e);return r}function E(e){return S(_(e)&2n**255n-1n)}function S(e,t=l.P){e%=t;return 0n<=e?e:t+e}function a(e,t=l.P){if(0n===e||t<=0n)throw new Error(`invert: expected positive integers, got n=${e} mod=`+t);let r=S(e,t),n=t,[i,s,o,a]=[0n,1n,1n,0n];for(;0n!==r;){const e=n/r,t=n%r,l=i-o*e,c=s-a*e;[n,r]=[r,t],[i,s]=[o,a],[o,a]=[l,c]}if(1n!==n)throw new Error("invert: does not exist");return S(i,t)}function C(e,t){var r=l["P"];let n=e;for(;0n<t--;)n*=n,n%=r;return n}function A(e,t){var r=S(t*t*t),n=S(r*r*t);let i=S(e*r*(o=e*n,a=l.P,r=C(s=o*o%a*o%a,2n)*s%a,n=C(r,1n)*o%a,s=C(n,5n)*n%a,r=C(s,10n)*s%a,n=C(r,20n)*r%a,r=C(n,40n)*n%a,n=C(r,80n)*r%a,r=C(n,80n)*r%a,s=C(r,10n)*s%a,C(s,2n)*o%a));var r=S(t*i*i),s=i,o=S(i*u),a=r===e,t=r===S(-e),e=r===S(-e*u);return a&&(i=s),(t||e)&&(i=o),w(i)&&(i=S(-i)),{isValid:a||t,value:i}}function I(e){return A(1n,e)}async function T(...e){e=function(...r){if(1===r.length)return r[0];const e=r.reduce((e,t)=>e+t.length,0),n=new Uint8Array(e);for(let e=0,t=0;e<r.length;e++){var i=r[e];n.set(i,t),t+=i.length}return n}(...e);return S(_(await h.utils.sha512(e)),l.n)}function R(e){const t=e.slice(0,32);return t[0]&=248,t[31]&=127,t[31]|=64,S(_(t),l.n)}function P(e){return e instanceof Uint8Array?e:b(e)}function k(e){let t;if("bigint"==typeof e||"number"==typeof e&&Number.isSafeInteger(e)){if(t=BigInt(e),t<0n||t>2n**256n)throw new Error("Expected 32 bytes of private key");e=t.toString(16).padStart(64,"0")}if("string"==typeof e){if(64!==e.length)throw new Error("Expected 32 bytes of private key");return b(e)}if(e instanceof Uint8Array){if(32!==e.length)throw new Error("Expected 32 bytes of private key");return e}throw new TypeError("Expected valid private key")}h.Signature=m,h.SignResult=m,h.getPublicKey=async function(e){const t=await g.fromPrivateKey(e);return"string"==typeof e?t.toHex():t.toRawBytes()},h.sign=async function(e,t){const r=await h.utils.sha512(k(t)),n=R(r),i=g.BASE.multiply(n),s=P(e),o=await T(r.slice(32),s);const a=g.BASE.multiply(o),c=S(o+await T(a.toRawBytes(),i.toRawBytes(),s)*n,l.n),u=new m(a,c);return"string"==typeof e?u.toHex():u.toRawBytes()},h.verify=async function(e,t,r){t=P(t),r instanceof g||(r=g.fromHex(r));t=await T((e=!(e instanceof m)?m.fromHex(e):e).r.toRawBytes(),r.toRawBytes(),t),r=y.fromAffine(r).multiplyUnsafe(t),t=y.BASE.multiply(e.s);return y.fromAffine(e.r).add(r).subtract(t).multiplyUnsafe(8n).equals(y.ZERO)},g.BASE._setWindowSize(8);const o=(()=>{const e="object"==typeof self&&"crypto"in self?self.crypto:void 0,t="function"==typeof r.require&&r.require.bind(r);return{node:t&&!e?t("crypto"):void 0,web:e}})();h.utils={TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],randomBytes:(e=32)=>{if(o.web)return o.web.getRandomValues(new Uint8Array(e));if(o.node){const t=o.node["randomBytes"];return new Uint8Array(t(e).buffer)}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>{let e=1024;for(;e--;){const e=h.utils.randomBytes(32),t=_(e);if(1n<t&&t<l.n)return e}throw new Error("Valid private key was not found in 1024 iterations. PRNG is broken")},sha512:async e=>{if(o.web){var t=await o.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(t)}if(o.node)return Uint8Array.from(o.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")},precompute(e=8,t=g.BASE){const r=t.equals(g.BASE)?t:new g(t.x,t.y);return r._setWindowSize(e),r.multiply(1n),r}}},1795:(e,f,t)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.utils=f.schnorr=f.verify=f.signSync=f.sign=f.getSharedSecret=f.recoverPublicKey=f.getPublicKey=f.SignResult=f.Signature=f.Point=f.CURVE=void 0;const p={a:0n,b:7n,P:2n**256n-2n**32n-977n,n:2n**256n-432420386565659656852420866394968145599n,h:1n,Gx:55066263022277343669578718895168534326250603453777594175500187360389116729240n,Gy:32670510020758816978083085130507043184471273380659243275938904335757337482424n,beta:0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501een};function l(e){var{a:t,b:r}=p;return T(e**3n+t*e+r)}f.CURVE=p;const d=0n===p.a;class y{constructor(e,t,r){this.x=e,this.y=t,this.z=r}static fromAffine(e){if(!(e instanceof m))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new y(e.x,e.y,1n)}static toAffineBatch(e){const r=function(t,r=p.P){const n=t.length,i=new Array(n);let s=1n;for(let e=0;e<n;e++)0n!==t[e]&&(i[e]=s,s=T(s*t[e],r));s=P(s,r);for(let e=n-1;0<=e;e--)if(0n!==t[e]){const n=T(s*t[e],r);t[e]=T(s*i[e],r),s=n}return t}(e.map(e=>e.z));return e.map((e,t)=>e.toAffine(r[t]))}static normalizeZ(e){return y.toAffineBatch(e).map(y.fromAffine)}equals(e){var t=e,r=T(this.z*this.z),n=T(this.z*r),i=T(t.z*t.z),e=T(t.z*i);return T(this.x*i)===T(r*t.x)&&T(this.y*e)===T(n*t.y)}negate(){return new y(this.x,T(-this.y),this.z)}double(){var e=this.x,t=this.y,r=this.z,n=T(e**2n),i=T(t**2n),s=T(i**2n),e=T(2n*(T(T((e+i)**2n))-n-s)),i=T(3n*n),n=T(i**2n),n=T(n-2n*e),s=T(i*(e-n)-8n*s),r=T(2n*t*r);return new y(n,s,r)}add(e){if(!(e instanceof y))throw new TypeError("JacobianPoint#add: expected JacobianPoint");var t=this.x,r=this.y,n=this.z,i=e.x,s=e.y,o=e.z;if(0n===i||0n===s)return this;if(0n===t||0n===r)return e;var a=T(n**2n),e=T(o**2n),t=T(t*e),i=T(i*a),r=T(r*o*e),e=T(T(s*n)*a),s=T(i-t),a=T(e-r);if(0n===s)return 0n===a?this.double():y.ZERO;i=T(s**2n),e=T(s*i),t=T(t*i),i=T(a**2n-e-2n*t),e=T(a*(t-i)-r*e),s=T(n*o*s);return new y(i,e,s)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){if(!I(e))throw new TypeError("Point#multiply: expected valid scalar");let r=T(BigInt(e),p.n);if(!d){let e=y.ZERO,t=this;for(;0n<r;)1n&r&&(e=e.add(t)),t=t.double(),r>>=1n;return e}let[t,n,i,s]=O(r),o=y.ZERO,a=y.ZERO,c=this;for(;0n<n||0n<s;)1n&n&&(o=o.add(c)),1n&s&&(a=a.add(c)),c=c.double(),n>>=1n,s>>=1n;return t&&(o=o.negate()),i&&(a=a.negate()),a=new y(T(a.x*p.beta),a.y,a.z),o.add(a)}precomputeWindow(t){var r=d?128/t+1:256/t+1;let n=[],i=this,s=i;for(let e=0;e<r;e++){s=i,n.push(s);for(let e=1;e<2**(t-1);e++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(r,e){const n=(e=!e&&this.equals(y.BASE)?m.BASE:e)&&e._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=e&&g.get(e);i||(i=this.precomputeWindow(n),e&&1!==n&&(i=y.normalizeZ(i),g.set(e,i)));let s=y.ZERO,o=y.ZERO;var a=d?128/n+1:256/n+1,c=2**(n-1),u=BigInt(2**n-1),h=2**n,l=BigInt(n);for(let t=0;t<a;t++){const n=t*c;let e=Number(r&u);if(r>>=l,e>c&&(e-=h,r+=1n),0===e)o=o.add(t%2?i[n].negate():i[n]);else{const r=i[n+Math.abs(e)-1];s=s.add(e<0?r.negate():r)}}return[s,o]}multiply(i,s){if(!I(i))throw new TypeError("Point#multiply: expected valid scalar");let o,a,c=T(BigInt(i),p.n);if(d){const[i,d,u,h]=O(c);let e,t,r,n;[e,r]=this.wNAF(d,s),[t,n]=this.wNAF(h,s),i&&(e=e.negate()),u&&(t=t.negate()),t=new y(T(t.x*p.beta),t.y,t.z),[o,a]=[e.add(t),r.add(n)]}else[o,a]=this.wNAF(c,s);return y.normalizeZ([o,a])[0]}toAffine(e=P(this.z)){var t=e**2n,r=T(this.x*t),e=T(this.y*t*e);return new m(r,e)}}y.BASE=new y(p.Gx,p.Gy,1n),y.ZERO=new y(0n,1n,0n);const g=new WeakMap;class m{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,g.delete(this)}static fromCompressedHex(e){var t,r,n,i,s,o=32===e.length,a=C(o?e:e.slice(1));let c=(t=l(a),u=p.P,i=R(n=(r=t*t*t%u)*r*t%u,3n)*n%u,s=R(i,3n)*n%u,t=R(s,2n)*r%u,i=R(t,11n)*t%u,s=R(i,22n)*i%u,t=R(s,44n)*s%u,t=R(t,88n)*t%u,s=R(t,44n)*s%u,n=R(s,3n)*n%u,i=R(n,23n)*i%u,u=R(i,6n)*r%u,R(u,2n));var u=1n===(1n&c);o?u&&(c=T(-c)):1==(1&e[0])!=u&&(c=T(-c));const h=new m(a,c);return h.assertValidity(),h}static fromUncompressedHex(e){const t=C(e.slice(1,33)),r=C(e.slice(33)),n=new m(t,r);return n.assertValidity(),n}static fromHex(e){var t=S(e),e=t[0];if(32===t.length||33===t.length&&(2===e||3===e))return this.fromCompressedHex(t);if(65===t.length&&4===e)return this.fromUncompressedHex(t);throw new Error("Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not "+t.length)}static fromPrivateKey(e){return m.BASE.multiply(B(e))}static fromSignature(e,t,r){var n=(e instanceof Uint8Array?C:_)(e),{r:e,s:t}=N(t);if(0!==r&&1!==r)throw new Error("Cannot recover signature: invalid yParity bit");const i=2+(1&r),s=m.fromHex("0"+i+h(e)),o=y.fromAffine(s).multiplyUnsafe(t),a=y.BASE.multiply(n),c=P(e,p.n),u=o.subtract(a).multiplyUnsafe(c).toAffine();return u.assertValidity(),u}toRawBytes(e=!1){return E(this.toHex(e))}toHex(e=!1){var t=h(this.x);return e?(1n&this.y?"03":"02")+t:"04"+t+h(this.y)}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){var e="Point is not on elliptic curve",t=p["P"],{x:r,y:n}=this;if(0n===r||0n===n||t<=r||t<=n)throw new Error(e);if((T(n*n)-l(r))%t!==0n)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new m(this.x,T(-this.y))}double(){return y.fromAffine(this).double().toAffine()}add(e){return y.fromAffine(this).add(y.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return y.fromAffine(this).multiply(e,this).toAffine()}}function i(e){return 8<=Number.parseInt(e[0],16)?"00"+e:e}f.Point=m,m.BASE=new m(p.Gx,p.Gy),m.ZERO=new m(0n,0n);class b{constructor(e,t){this.r=e,this.s=t}static fromCompact(e){if("string"!=typeof e&&!(e instanceof Uint8Array))throw new TypeError("Signature.fromCompact: Expected string or Uint8Array");const t=e instanceof Uint8Array?v(e):e;if(128!==t.length)throw new Error("Signature.fromCompact: Expected 64-byte hex");const r=new b(_(t.slice(0,64)),_(t.slice(64,128)));return r.assertValidity(),r}static fromDER(e){var t="Signature.fromDER";if("string"!=typeof e&&!(e instanceof Uint8Array))throw new TypeError(t+": Expected string or Uint8Array");const r=e instanceof Uint8Array?v(e):e,n=A(r.slice(2,4));if("30"!==r.slice(0,2)||n!==r.length-4||"02"!==r.slice(4,6))throw new Error(t+": Invalid signature "+r);const i=A(r.slice(6,8)),s=8+i,o=r.slice(8,s);if(o.startsWith("00")&&A(o.slice(2,4))<=127)throw new Error(t+": Invalid r with trailing length");var a=_(o);if("02"!==r.slice(s,s+2))throw new Error(t+": Invalid r-s separator");var c=A(r.slice(s+2,s+4)),e=n-c-i-10;if(0<e||-4==e)throw new Error(t+": Invalid total length");if(n-i-4<c)throw new Error(t+": Invalid s");const u=s+4,h=r.slice(u,u+c);if(h.startsWith("00")&&A(h.slice(2,4))<=127)throw new Error(t+": Invalid s with trailing length");const l=_(h),d=new b(a,l);return d.assertValidity(),d}static fromHex(e){return this.fromDER(e)}assertValidity(){var{r:e,s:t}=this;if(!o(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!o(t))throw new Error("Invalid Signature: s must be 0 < s < n")}toDERRawBytes(e=!1){return E(this.toDERHex(e))}toDERHex(e=!1){var t=i(s(this.s));if(e)return t;var r=i(s(this.r)),n=s(r.length/2),e=s(t.length/2);return`30${s(r.length/2+t.length/2+4)}02${n}${r}02`+e+t}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return E(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}function a(...r){if(1===r.length)return r[0];const e=r.reduce((e,t)=>e+t.length,0),n=new Uint8Array(e);for(let e=0,t=0;e<r.length;e++){var i=r[e];n.set(i,t),t+=i.length}return n}function v(t){let r="";for(let e=0;e<t.length;e++)r+=t[e].toString(16).padStart(2,"0");return r}function h(e){return e.toString(16).padStart(64,"0")}function w(e){return E(h(e))}function s(e){e=e.toString(16);return 1&e.length?"0"+e:e}function _(e){if("string"!=typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt("0x"+e)}function E(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const r=new Uint8Array(t.length/2);for(let e=0;e<r.length;e++){var n=2*e;r[e]=Number.parseInt(t.slice(n,2+n),16)}return r}function S(e){return e instanceof Uint8Array?e:E(e)}function C(e){return _(v(e))}function A(e){return 2*Number.parseInt(e,16)}function I(e){return"bigint"==typeof e&&0n<e||"number"==typeof e&&0<e&&Number.isSafeInteger(e)}function T(e,t=p.P){e%=t;return 0<=e?e:t+e}function R(e,t){var r=p["P"];let n=e;for(;0n<t--;)n*=n,n%=r;return n}function P(e,t=p.P){if(0n===e||t<=0n)throw new Error(`invert: expected positive integers, got n=${e} mod=`+t);let r=T(e,t),n=t,[i,s,o,a]=[0n,1n,1n,0n];for(;0n!==r;){const e=n/r,t=n%r,p=i-o*e,c=s-a*e;[n,r]=[r,t],[i,s]=[o,a],[o,a]=[p,c]}if(1n!==n)throw new Error("invert: does not exist");return T(i,t)}f.Signature=b,f.SignResult=b;const u=(e,t)=>(e+t/2n)/t,k=2n**128n;function O(e){var t=p["n"],r=0x3086d221a7d46bcde86c90e49284eb15n,n=-0xe4437ed6010e88286f547fa90abfe4c3n,i=r,s=u(i*e,t),o=u(-n*e,t);let a=T(e-s*r-0x114ca50f7a8e2f3f657c1108d9d44cfd8n*o,t),c=T(-s*n-o*i,t);o=a>k,i=c>k;if(o&&(a=t-a),i&&(c=t-c),a>k||c>k)throw new Error("splitScalarEndo: Endomorphism failed");return[o,a,i,c]}function M(e,t){if(null==e)throw new Error(`sign: expected valid msgHash, not "${e}"`);e=w(("string"==typeof e?_:C)(e));return[e,C(e),w(t),new Uint8Array(32).fill(1),new Uint8Array(32).fill(0),Uint8Array.from([0]),Uint8Array.from([1])]}function o(e){return 0<e&&e<p.n}function D(e,t,r){var n=C(e);if(o(n)){var i=p.n,s=m.BASE.multiply(n),e=T(s.x,i),i=T(P(n,i)*(t+e*r),i);return 0n!==e&&0n!==i?[s,e,i]:void 0}}function B(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&0<e)t=BigInt(e);else if("string"==typeof e){if(64!==e.length)throw new Error("Expected 32 bytes of private key");t=_(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private key");if(32!==e.length)throw new Error("Expected 32 bytes of private key");t=C(e)}if(!o(t))throw new Error("Expected private key: 0 < key < n");return t}function x(e){return e instanceof m?(e.assertValidity(),e):m.fromHex(e)}function N(e){return e instanceof b?(e.assertValidity(),e):b.fromDER(e)}function c(e){var t=e instanceof Uint8Array,r="string"==typeof e,n=(t||r)&&e.length;return t?33===n||65===n:r?66===n||130===n:e instanceof m}function r(e,t,r=!1){var[n,i,e]=e;let{canonical:s,der:o,recovered:a}=t,c=(n.x===i?0:2)|Number(1n&n.y),u=e;e>p.n>>1n&&s&&(u=p.n-e,c^=1);const h=new b(i,u);h.assertValidity();i=!1===o?h.toCompactHex():h.toDERHex(),i=r?i:E(i);return a?[i,c]:i}async function L(e,...t){e=new Uint8Array(e.split("").map(e=>e.charCodeAt(0))),e=await f.utils.sha256(e);return C(await f.utils.sha256(a(e,e,...t)))}async function F(e,t,r){return T(await L("BIP0340/challenge",w(e),t.toRawX(),r),p.n)}function K(e){return 0n===T(e.y,2n)}f.getPublicKey=function(e,t=!1){const r=m.fromPrivateKey(e);return"string"==typeof e?r.toHex(t):r.toRawBytes(t)},f.recoverPublicKey=function(e,t,r){const n=m.fromSignature(e,t,r);return"string"==typeof e?n.toHex():n.toRawBytes()},f.getSharedSecret=function(e,t,r=!1){if(c(e))throw new TypeError("getSharedSecret: first arg must be private key");if(!c(t))throw new TypeError("getSharedSecret: second arg must be public key");const n=x(t);n.assertValidity();const i=n.multiply(B(e));return"string"==typeof e?i.toHex(r):i.toRawBytes(r)},f.sign=async function(e,l,t={}){return r(await async function(e){var t=B(l);let[r,n,i,s,o,a,c]=M(e,t);const u=f.utils.hmacSha256;o=await u(o,s,a,i,r),s=await u(o,s),o=await u(o,s,c,i,r),s=await u(o,s);for(let e=0;e<1e3;e++){s=await u(o,s);var h=D(s,n,t);if(h)return h;o=await u(o,s,a),s=await u(o,s)}throw new TypeError("secp256k1: Tried 1,000 k values for sign(), all were invalid")}(e),t,"string"==typeof e)},f.signSync=function(e,l,t={}){return r(function(e){var t=B(l);let[r,n,i,s,o,a,c]=M(e,t);const u=f.utils.hmacSha256Sync;if(!u)throw new Error("utils.hmacSha256Sync is undefined, you need to set it");if(o=u(o,s,a,i,r),o instanceof Promise)throw new Error("To use sync sign(), ensure utils.hmacSha256 is sync");s=u(o,s),o=u(o,s,c,i,r),s=u(o,s);for(let e=0;e<1e3;e++){s=u(o,s);var h=D(s,n,t);if(h)return h;o=u(o,s,a),s=u(o,s)}throw new TypeError("secp256k1: Tried 1,000 k values for sign(), all were invalid")}(e),t,"string"==typeof e)},f.verify=function(e,t,r){var n=p["n"];let i;try{i=N(e)}catch(e){return!1}var{r:s,s:o}=i,t=function(e){let t=_((e="string"!=typeof e?v(e):e)||"0");e=e.length/2*8-256;return 0<e&&(t>>=BigInt(e)),t>=p.n&&(t-=p.n),t}(t);if(0n===t)return!1;const a=y.fromAffine(x(r)),c=P(o,n),u=T(t*c,n),h=T(s*c,n),l=y.BASE.multiply(u),d=a.multiplyUnsafe(h);return T(l.add(d).toAffine().x,n)===s};class U{constructor(e,t){if(this.r=e,this.s=t,e<=0n||t<=0n||e>=p.P||t>=p.n)throw new Error("Invalid signature")}static fromHex(e){const t=S(e);if(64!==t.length)throw new TypeError("SchnorrSignature.fromHex: expected 64 bytes, not "+t.length);var r=C(t.slice(0,32)),e=C(t.slice(32));return new U(r,e)}toHex(){return h(this.r)+h(this.s)}toRawBytes(){return E(this.toHex())}}async function j(e,t,r){const n=e instanceof U?e:U.fromHex(e),i="string"==typeof t?E(t):t,s=x(r),o=await F(n.r,s,i),a=m.fromPrivateKey(n.s),c=s.multiply(o),u=a.subtract(c);return!(u.equals(m.BASE)||!K(u)||u.x!==n.r)}f.schnorr={Signature:U,getPublicKey:function(e){const t=m.fromPrivateKey(e);return"string"==typeof e?t.toHexX():t.toRawX()},sign:async function(e,t,r=f.utils.randomBytes()){if(null==e)throw new TypeError(`sign: Expected valid message, not "${e}"`);t=t||0n;var n=p["n"],i=S(e),t=B(t),r=S(r);if(32!==r.length)throw new TypeError("sign: Expected 32 bytes of aux randomness");const s=m.fromPrivateKey(t),o=K(s)?t:n-t,a=o^await L("BIP0340/aux",r),c=T(await L("BIP0340/nonce",w(a),s.toRawX(),i),n);if(0n===c)throw new Error("sign: Creation of signature failed. k is zero");const u=m.fromPrivateKey(c),h=K(u)?c:n-c,l=await F(u.x,s,i),d=new U(u.x,T(h+l*o,n));if(!await j(d.toRawBytes(),i,s.toRawX()))throw new Error("sign: Invalid signature produced");return"string"==typeof e?d.toHex():d.toRawBytes()},verify:j},m.BASE._setWindowSize(8);const V={node:(n="object"==typeof self&&"crypto"in self?self.crypto:void 0)?void 0:t(39370),web:n};var n;f.utils={isValidPrivateKey(e){try{return B(e),!0}catch(e){return!1}},randomBytes:(e=32)=>{if(V.web)return V.web.getRandomValues(new Uint8Array(e));if(V.node){const t=V.node["randomBytes"];return new Uint8Array(t(e).buffer)}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>{let e=8;for(;e--;){const e=f.utils.randomBytes(32),t=C(e);if(o(t)&&1n!==t)return e}throw new Error("Valid private key was not found in 8 iterations. PRNG is broken")},sha256:async e=>{if(V.web){var t=await V.web.subtle.digest("SHA-256",e.buffer);return new Uint8Array(t)}if(V.node){const r=V.node["createHash"];return Uint8Array.from(r("sha256").update(e).digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(V.web){var r=await V.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=a(...t),n=await V.web.subtle.sign("HMAC",r,n);return new Uint8Array(n)}if(V.node){const s=V.node["createHmac"],o=s("sha256",e);for(var i of t)o.update(i);return Uint8Array.from(o.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,precompute(e=8,t=m.BASE){const r=t===m.BASE?t:new m(t.x,t.y);return r._setWindowSize(e),r.multiply(3n),r}}},83300:(e,t)=>{"use strict";var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r)return r;throw new Error("unable to locate global object")}();e.exports=t=r.fetch,r.fetch&&(t.default=r.fetch.bind(r)),t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response},8925:(e,t,r)=>{var o=r(3832);function n(e,t){o.cipher.registerAlgorithm(e,function(){return new o.aes.Algorithm(e,t)})}r(85649),r(61967),r(97116),e.exports=o.aes=o.aes||{},o.aes.startEncrypting=function(e,t,r,n){n=c({key:e,output:r,decrypt:!1,mode:n});return n.start(t),n},o.aes.createEncryptionCipher=function(e,t){return c({key:e,output:null,decrypt:!1,mode:t})},o.aes.startDecrypting=function(e,t,r,n){n=c({key:e,output:r,decrypt:!0,mode:n});return n.start(t),n},o.aes.createDecryptionCipher=function(e,t){return c({key:e,output:null,decrypt:!0,mode:t})},o.aes.Algorithm=function(e,t){l||i();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(e,t){return s(r._w,e,t,!1)},decrypt:function(e,t){return s(r._w,e,t,!0)}}}),r._init=!1},o.aes.Algorithm.prototype.initialize=function(e){if(!this._init){if("string"!=typeof(r=e.key)||16!==r.length&&24!==r.length&&32!==r.length){if(o.util.isArray(r)&&(16===r.length||24===r.length||32===r.length))for(var t=r,r=o.util.createBuffer(),n=0;n<t.length;++n)r.putByte(t[n])}else r=o.util.createBuffer(r);if(!o.util.isArray(r)){t=r,r=[];var i=t.length();if(16===i||24===i||32===i)for(i>>>=2,n=0;n<i;++n)r.push(t.getInt32())}if(!o.util.isArray(r)||4!==r.length&&6!==r.length&&8!==r.length)throw new Error("Invalid key parameter.");var s=this.mode.name,s=-1!==["CFB","OFB","CTR","GCM"].indexOf(s);this._w=a(r,e.decrypt&&!s),this._init=!0}},o.aes._expandKey=function(e,t){return l||i(),a(e,t)},o.aes._updateBlock=s,n("AES-ECB",o.cipher.modes.ecb),n("AES-CBC",o.cipher.modes.cbc),n("AES-CFB",o.cipher.modes.cfb),n("AES-OFB",o.cipher.modes.ofb),n("AES-CTR",o.cipher.modes.ctr),n("AES-GCM",o.cipher.modes.gcm);var v,w,g,_,E,l=!1;function i(){l=!0,g=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;for(v=new Array(256),w=new Array(256),_=new Array(4),E=new Array(4),t=0;t<4;++t)_[t]=new Array(256),E[t]=new Array(256);for(var r,n,i,s,o=0,a=0,t=0;t<256;++t){i=(i=a^a<<1^a<<2^a<<3^a<<4)>>8^255&i^99,v[o]=i,w[i]=o;for(var c=(s=e[i])<<24^i<<16^i<<8^i^s,u=((r=e[o])^(n=e[r])^(s=e[n]))<<24^(o^s)<<16^(o^n^s)<<8^o^r^s,h=0;h<4;++h)c=(_[h][o]=c)<<24|c>>>8,u=(E[h][i]=u)<<24|u>>>8;0===o?o=a=1:(o=r^e[e[e[r^s]]],a^=e[e[a]])}}function a(e,t){for(var r,n=e.slice(0),i=1,s=n.length,o=4*(s+6+1),a=s;a<o;++a)r=n[a-1],a%s==0?(r=v[r>>>16&255]<<24^v[r>>>8&255]<<16^v[255&r]<<8^v[r>>>24]^g[i]<<24,i++):6<s&&a%s==4&&(r=v[r>>>24]<<24^v[r>>>16&255]<<16^v[r>>>8&255]<<8^v[255&r]),n[a]=n[a-s]^r;if(t){for(var c,u=E[0],h=E[1],l=E[2],d=E[3],f=n.slice(0),p=(a=0,(o=n.length)-4);a<o;a+=4,p-=4)if(0===a||a===o-4)f[a]=n[p],f[a+1]=n[p+3],f[a+2]=n[p+2],f[a+3]=n[p+1];else for(var y=0;y<4;++y)c=n[p+y],f[a+(3&-y)]=u[v[c>>>24]]^h[v[c>>>16&255]]^l[v[c>>>8&255]]^d[v[255&c]];n=f}return n}function s(e,t,r,n){for(var i,s,o,a,c,u,h,l=e.length/4-1,d=n?(i=E[0],s=E[1],o=E[2],a=E[3],w):(i=_[0],s=_[1],o=_[2],a=_[3],v),f=t[0]^e[0],p=t[n?3:1]^e[1],y=t[2]^e[2],g=t[n?1:3]^e[3],m=3,b=1;b<l;++b)c=i[f>>>24]^s[p>>>16&255]^o[y>>>8&255]^a[255&g]^e[++m],u=i[p>>>24]^s[y>>>16&255]^o[g>>>8&255]^a[255&f]^e[++m],h=i[y>>>24]^s[g>>>16&255]^o[f>>>8&255]^a[255&p]^e[++m],g=i[g>>>24]^s[f>>>16&255]^o[p>>>8&255]^a[255&y]^e[++m],f=c,p=u,y=h;r[0]=d[f>>>24]<<24^d[p>>>16&255]<<16^d[y>>>8&255]<<8^d[255&g]^e[++m],r[n?3:1]=d[p>>>24]<<24^d[y>>>16&255]<<16^d[g>>>8&255]<<8^d[255&f]^e[++m],r[2]=d[y>>>24]<<24^d[g>>>16&255]<<16^d[f>>>8&255]<<8^d[255&p]^e[++m],r[n?1:3]=d[g>>>24]<<24^d[f>>>16&255]<<16^d[p>>>8&255]<<8^d[255&y]^e[++m]}function c(e){var n,t="AES-"+((e=e||{}).mode||"CBC").toUpperCase(),i=(n=e.decrypt?o.cipher.createDecipher(t,e.key):o.cipher.createCipher(t,e.key)).start;return n.start=function(e,t){var r=null;t instanceof o.util.ByteBuffer&&(r=t,t={}),(t=t||{}).output=r,t.iv=e,i.call(n,t)},n}},59205:(e,t,r)=>{var n=r(3832);r(3068);n=n.asn1;t.privateKeyValidator={name:"PrivateKeyInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},t.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:n.Class.UNIVERSAL,type:n.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},3068:(e,t,r)=>{var u=r(3832);r(97116),r(66270);var b=e.exports=u.asn1=u.asn1||{};function v(e,t,r){if(t<r){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}b.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},b.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},b.create=function(e,t,r,n,i){if(u.util.isArray(n)){for(var s=[],o=0;o<n.length;++o)void 0!==n[o]&&s.push(n[o]);n=s}r={tagClass:e,type:t,constructed:r,composed:r||u.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(r.bitStringContents=i.bitStringContents,r.original=b.copy(r)),r},b.copy=function(e,t){if(u.util.isArray(e)){for(var r=[],n=0;n<e.length;++n)r.push(b.copy(e[n],t));return r}return"string"==typeof e?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:b.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)},b.equals=function(e,t,r){if(u.util.isArray(e)){if(!u.util.isArray(t))return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!b.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if("string"==typeof e)return e===t;var i=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&b.equals(e.value,t.value);return i=r&&r.includeBitStringContents?i&&e.bitStringContents===t.bitStringContents:i},b.getBerValueLength=function(e){var t=e.getByte();if(128!==t)return 128&t?e.getInt((127&t)<<3):t},b.fromDer=function(e,t){return"strict"in(t="boolean"==typeof(t=void 0===t?{strict:!0,decodeBitStrings:!0}:t)?{strict:t,decodeBitStrings:!0}:t)||(t.strict=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),function e(t,r,n,i){v(t,r,2);var s=t.getByte();r--;var o=192&s,a=31&s;p=t.length();var c,u,h=function(e,t){var r=e.getByte();if(t--,128!==r){if((r=128&r?(v(e,t,t=127&r),e.getInt(t<<3)):r)<0)throw new Error("Negative length: "+r);return r}}(t,r);if(r-=p-t.length(),void 0!==h&&r<h){if(i.strict)throw(f=new Error("Too few bytes to read ASN.1 value.")).available=t.length(),f.remaining=r,f.requested=h,f;h=r}var l=32==(32&s);if(l)if(c=[],void 0===h)for(;;){if(v(t,r,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),r-=2;break}p=t.length(),c.push(e(t,r,n+1,i)),r-=p-t.length()}else for(;0<h;)p=t.length(),c.push(e(t,h,n+1,i)),r-=p-t.length(),h-=p-t.length();if(void 0===c&&o===b.Class.UNIVERSAL&&a===b.Type.BITSTRING&&(u=t.bytes(h)),void 0===c&&i.decodeBitStrings&&o===b.Class.UNIVERSAL&&a===b.Type.BITSTRING&&1<h){var d=t.read,f=r,s=0;if(a===b.Type.BITSTRING&&(v(t,r,1),s=t.getByte(),r--),0===s)try{var p=t.length(),y=e(t,r,n+1,{verbose:i.verbose,strict:!0,decodeBitStrings:!0}),g=p-t.length();r-=g,a==b.Type.BITSTRING&&g++;var m=y.tagClass;g!==h||m!==b.Class.UNIVERSAL&&m!==b.Class.CONTEXT_SPECIFIC||(c=[y])}catch(t){}void 0===c&&(t.read=d,r=f)}if(void 0===c){if(void 0===h){if(i.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");h=r}if(a===b.Type.BMPSTRING)for(c="";0<h;h-=2)v(t,r,2),c+=String.fromCharCode(t.getInt16()),r-=2;else c=t.getBytes(h)}return b.create(o,a,l,c,void 0===u?null:{bitStringContents:u})}(e="string"==typeof e?u.util.createBuffer(e):e,e.length(),0,t)},b.toDer=function(e){var t=u.util.createBuffer(),r=e.tagClass|e.type,n=u.util.createBuffer(),i=!1;if("bitStringContents"in e&&(i=!0,e.original&&(i=b.equals(e,e.original))),i)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var s=0;s<e.value.length;++s)void 0!==e.value[s]&&n.putBuffer(b.toDer(e.value[s]))}else if(e.type===b.Type.BMPSTRING)for(s=0;s<e.value.length;++s)n.putInt16(e.value.charCodeAt(s));else e.type===b.Type.INTEGER&&1<e.value.length&&(0===e.value.charCodeAt(0)&&0==(128&e.value.charCodeAt(1))||255===e.value.charCodeAt(0)&&128==(128&e.value.charCodeAt(1)))?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(127&n.length());else{for(var o=n.length(),a="";a+=String.fromCharCode(255&o),0<(o>>>=8););for(t.putByte(128|a.length),s=a.length-1;0<=s;--s)t.putByte(a.charCodeAt(s))}return t.putBuffer(n),t},b.oidToDer=function(e){var t,r,n,i,s=e.split("."),o=u.util.createBuffer();o.putByte(40*parseInt(s[0],10)+parseInt(s[1],10));for(var a=2;a<s.length;++a){for(t=!0,r=[],n=parseInt(s[a],10);i=127&n,n>>>=7,t||(i|=128),r.push(i),t=!1,0<n;);for(var c=r.length-1;0<=c;--c)o.putByte(r[c])}return o},b.derToOid=function(e){for(var t=(e="string"==typeof e?u.util.createBuffer(e):e).getByte(),r=Math.floor(t/40)+"."+t%40,n=0;0<e.length();)n<<=7,128&(t=e.getByte())?n+=127&t:(r+="."+(n+t),n=0);return r},b.utcTimeToDate=function(e){var t,r,n=new Date,i=50<=(i=parseInt(e.substr(0,2),10))?1900+i:2e3+i,s=parseInt(e.substr(2,2),10)-1,o=parseInt(e.substr(4,2),10),a=parseInt(e.substr(6,2),10),c=parseInt(e.substr(8,2),10),u=0;return 11<e.length&&("+"!==(t=e.charAt(r=10))&&"-"!==t&&(u=parseInt(e.substr(10,2),10),r+=2)),n.setUTCFullYear(i,s,o),n.setUTCHours(a,c,u,0),!r||"+"!==(t=e.charAt(r))&&"-"!==t||(r=60*parseInt(e.substr(r+1,2),10)+parseInt(e.substr(r+4,2),10),r*=6e4,"+"===t?n.setTime(+n-r):n.setTime(+n+r)),n},b.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),o=parseInt(e.substr(10,2),10),a=parseInt(e.substr(12,2),10),c=0,u=0,h=!1;"Z"===e.charAt(e.length-1)&&(h=!0);var l=e.length-5,d=e.charAt(l);return"+"!==d&&"-"!==d||(u=60*parseInt(e.substr(1+l,2),10)+parseInt(e.substr(4+l,2),10),u*=6e4,"+"===d&&(u*=-1),h=!0),"."===e.charAt(14)&&(c=1e3*parseFloat(e.substr(14),10)),h?(t.setUTCFullYear(r,n,i),t.setUTCHours(s,o,a,c),t.setTime(+t+u)):(t.setFullYear(r,n,i),t.setHours(s,o,a,c)),t},b.dateToUtcTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+"Z"},b.dateToGeneralizedTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+"Z"},b.integerToDer=function(e){var t=u.util.createBuffer();if(-128<=e&&e<128)return t.putSignedInt(e,8);if(-32768<=e&&e<32768)return t.putSignedInt(e,16);if(-8388608<=e&&e<8388608)return t.putSignedInt(e,24);if(-2147483648<=e&&e<2147483648)return t.putSignedInt(e,32);t=new Error("Integer too large; max is 32-bits.");throw t.integer=e,t},b.derToInteger=function(e){var t=8*(e="string"==typeof e?u.util.createBuffer(e):e).length();if(32<t)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)},b.validate=function(e,t,r,n){var i=!1;if(e.tagClass!==t.tagClass&&void 0!==t.tagClass||e.type!==t.type&&void 0!==t.type)n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));else if(e.constructed===t.constructed||void 0===t.constructed){if(i=!0,t.value&&u.util.isArray(t.value))for(var s=0,o=0;i&&o<t.value.length;++o)i=t.value[o].optional||!1,e.value[s]&&((i=b.validate(e.value[s],t.value[o],r,n))?++s:t.value[o].optional&&(i=!0)),!i&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(i&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e))if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{if(0!==e.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');return i};var h=/[^\\u0000-\\u00ff]/;b.prettyPrint=function(e,t,r){var n="";r=r||2,0<(t=t||0)&&(n+="\n");for(var i,s="",o=0;o<t*r;++o)s+=" ";switch(n+=s+"Tag: ",e.tagClass){case b.Class.UNIVERSAL:n+="Universal:";break;case b.Class.APPLICATION:n+="Application:";break;case b.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case b.Class.PRIVATE:n+="Private:"}if(e.tagClass===b.Class.UNIVERSAL)switch(n+=e.type,e.type){case b.Type.NONE:n+=" (None)";break;case b.Type.BOOLEAN:n+=" (Boolean)";break;case b.Type.INTEGER:n+=" (Integer)";break;case b.Type.BITSTRING:n+=" (Bit string)";break;case b.Type.OCTETSTRING:n+=" (Octet string)";break;case b.Type.NULL:n+=" (Null)";break;case b.Type.OID:n+=" (Object Identifier)";break;case b.Type.ODESC:n+=" (Object Descriptor)";break;case b.Type.EXTERNAL:n+=" (External or Instance of)";break;case b.Type.REAL:n+=" (Real)";break;case b.Type.ENUMERATED:n+=" (Enumerated)";break;case b.Type.EMBEDDED:n+=" (Embedded PDV)";break;case b.Type.UTF8:n+=" (UTF8)";break;case b.Type.ROID:n+=" (Relative Object Identifier)";break;case b.Type.SEQUENCE:n+=" (Sequence)";break;case b.Type.SET:n+=" (Set)";break;case b.Type.PRINTABLESTRING:n+=" (Printable String)";break;case b.Type.IA5String:n+=" (IA5String (ASCII))";break;case b.Type.UTCTIME:n+=" (UTC time)";break;case b.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case b.Type.BMPSTRING:n+=" (BMP String)"}else n+=e.type;if(n+="\n",n+=s+"Constructed: "+e.constructed+"\n",e.composed){for(var a=0,c="",o=0;o<e.value.length;++o)void 0!==e.value[o]&&(a+=1,c+=b.prettyPrint(e.value[o],t+1,r),o+1<e.value.length&&(c+=","));n+=s+"Sub values: "+a+c}else if(n+=s+"Value: ",e.type===b.Type.OID&&(n+=i=b.derToOid(e.value),u.pki&&u.pki.oids&&i in u.pki.oids&&(n+=" ("+u.pki.oids[i]+") ")),e.type===b.Type.INTEGER)try{n+=b.derToInteger(e.value)}catch(t){n+="0x"+u.util.bytesToHex(e.value)}else e.type===b.Type.BITSTRING?(1<e.value.length?n+="0x"+u.util.bytesToHex(e.value.slice(1)):n+="(none)",0<e.value.length&&(1==(i=e.value.charCodeAt(0))?n+=" (1 unused bit shown)":1<i&&(n+=" ("+i+" unused bits shown)"))):e.type===b.Type.OCTETSTRING?(h.test(e.value)||(n+="("+e.value+") "),n+="0x"+u.util.bytesToHex(e.value)):e.type===b.Type.UTF8?n+=u.util.decodeUtf8(e.value):e.type===b.Type.PRINTABLESTRING||e.type===b.Type.IA5String?n+=e.value:h.test(e.value)?n+="0x"+u.util.bytesToHex(e.value):0===e.value.length?n+="[null]":n+=e.value;return n}},78807:e=>{var t={};e.exports=t;var l={};t.encode=function(e,t,r){if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==r&&"number"!=typeof r)throw new TypeError('"maxline" must be a number.');var n="";if(e instanceof Uint8Array){for(var i=0,s=t.length,o=t.charAt(0),a=[0],i=0;i<e.length;++i){for(var c=0,u=e[i];c<a.length;++c)u+=a[c]<<8,a[c]=u%s,u=u/s|0;for(;0<u;)a.push(u%s),u=u/s|0}for(i=0;0===e[i]&&i<e.length-1;++i)n+=o;for(i=a.length-1;0<=i;--i)n+=t[a[i]]}else n=function(e,t){for(var r=0,n=t.length,i=t.charAt(0),s=[0],r=0;r<e.length();++r){for(var o=0,a=e.at(r);o<s.length;++o)a+=s[o]<<8,s[o]=a%n,a=a/n|0;for(;0<a;)s.push(a%n),a=a/n|0}var c="";for(r=0;0===e.at(r)&&r<e.length()-1;++r)c+=i;for(r=s.length-1;0<=r;--r)c+=t[s[r]];return c}(e,t);return r&&(r=new RegExp(".{1,"+r+"}","g"),n=n.match(r).join("\r\n")),n},t.decode=function(e,t){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(!(r=l[t]))for(var r=l[t]=[],n=0;n<t.length;++n)r[t.charCodeAt(n)]=n;e=e.replace(/\s/g,"");for(var i=t.length,s=t.charAt(0),o=[0],n=0;n<e.length;n++){var a=r[e.charCodeAt(n)];if(void 0===a)return;for(var c=0,u=a;c<o.length;++c)u+=o[c]*i,o[c]=255&u,u>>=8;for(;0<u;)o.push(255&u),u>>=8}for(var h=0;e[h]===s&&h<e.length-1;++h)o.push(0);return"undefined"!=typeof Buffer?Buffer.from(o.reverse()):new Uint8Array(o.reverse())}},85649:(e,t,r)=>{var n=r(3832);r(97116),e.exports=n.cipher=n.cipher||{},n.cipher.algorithms=n.cipher.algorithms||{},n.cipher.createCipher=function(e,t){var r=e;if(!(r="string"==typeof r&&(r=n.cipher.getAlgorithm(r))?r():r))throw new Error("Unsupported algorithm: "+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})},n.cipher.createDecipher=function(e,t){var r=e;if(!(r="string"==typeof r&&(r=n.cipher.getAlgorithm(r))?r():r))throw new Error("Unsupported algorithm: "+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})},n.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),n.cipher.algorithms[e]=t},n.cipher.getAlgorithm=function(e){return(e=e.toUpperCase())in n.cipher.algorithms?n.cipher.algorithms[e]:null};e=n.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};e.prototype.start=function(e){var t,r={};for(t in e=e||{})r[t]=e[t];r.decrypt=this._decrypt,this._finish=!1,this._input=n.util.createBuffer(),this.output=e.output||n.util.createBuffer(),this.mode.start(r)},e.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},e.prototype.finish=function(t){!t||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(e){return t(this.blockSize,e,!1)},this.mode.unpad=function(e){return t(this.blockSize,e,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e)||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e)))}},61967:(e,t,r)=>{var o=r(3832);r(97116),o.cipher=o.cipher||{};e=e.exports=o.cipher.modes=o.cipher.modes||{};function n(e,t){if("string"==typeof e&&(e=o.util.createBuffer(e)),o.util.isArray(e)&&4<e.length){var r=e;e=o.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!o.util.isArray(e)){for(var i=[],s=t/4,n=0;n<s;++n)i.push(e.getInt32());e=i}return e}function a(e){e[e.length-1]=e[e.length-1]+1&4294967295}function s(e){return[e/4294967296|0,4294967295&e]}e.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},e.ecb.prototype.start=function(e){},e.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&0<e.length()))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},e.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&0<e.length()))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},e.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},e.ecb.prototype.unpad=function(e,t){if(0<t.overflow)return!1;t=e.length(),t=e.at(t-1);return!(t>this.blockSize<<2||(e.truncate(t),0))},e.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},e.cbc.prototype.start=function(e){if(null===e.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=n(e.iv,this.blockSize),this._prev=this._iv.slice(0)}},e.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&0<e.length()))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock},e.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&0<e.length()))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)},e.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},e.cbc.prototype.unpad=function(e,t){if(0<t.overflow)return!1;t=e.length(),t=e.at(t-1);return!(t>this.blockSize<<2||(e.truncate(t),0))},e.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=o.util.createBuffer(),this._partialBytes=0},e.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=n(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;for(0<s&&(s=this.blockSize-s),this._partialOutput.clear(),i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(0<s)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes),0<s&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},e.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;for(0<s&&(s=this.blockSize-s),this._partialOutput.clear(),i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(0<s)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes),0<s&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},e.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=o.util.createBuffer(),this._partialBytes=0},e.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=n(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===e.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];else{var s=(this.blockSize-n)%this.blockSize;for(0<s&&(s=this.blockSize-s),this._partialOutput.clear(),i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(0<s)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes),0<s&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},e.ofb.prototype.decrypt=e.ofb.prototype.encrypt,e.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=o.util.createBuffer(),this._partialBytes=0},e.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=n(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;for(0<s&&(s=this.blockSize-s),this._partialOutput.clear(),i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(0<s&&(e.read-=this.blockSize),0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes),0<s&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}a(this._inBlock)},e.ctr.prototype.decrypt=e.ctr.prototype.encrypt,e.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=o.util.createBuffer(),this._partialBytes=0,this._R=3774873600},e.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t,r=o.util.createBuffer(e.iv);if(this._cipherLength=0,t="additionalData"in e?o.util.createBuffer(e.additionalData):o.util.createBuffer(),this._tagLength="tagLength"in e?e.tagLength:128,this._tag=null,e.decrypt&&(this._tag=o.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);e=r.length();if(12===e)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1];else{for(this._j0=[0,0,0,0];0<r.length();)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(s(8*e)))}this._inBlock=this._j0.slice(0),a(this._inBlock),this._partialBytes=0,t=o.util.createBuffer(t),this._aDataLength=s(8*t.length());e=t.length()%this.blockSize;for(e&&t.fillWithByte(0,this.blockSize-e),this._s=[0,0,0,0];0<t.length();)this._s=this.ghash(this._hashSubkey,this._s,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()])},e.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var s,o=(this.blockSize-n)%this.blockSize;for(0<o&&(o=this.blockSize-o),this._partialOutput.clear(),i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o<=0||r){for(r?(s=n%this.blockSize,this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)):this._cipherLength+=this.blockSize,i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes),0<o&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),a(this._inBlock)},e.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&0<n))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),a(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize},e.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=o.util.createBuffer();e=this._aDataLength.concat(s(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,e);var n=[];this.cipher.encrypt(this._j0,n);for(var i=0;i<this._ints;++i)this.tag.putInt32(this._s[i]^n[i]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),r=t.decrypt&&this.tag.bytes()!==this._tag?!1:r},e.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i)e[i/32|0]&1<<31-i%32&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n);return r},e.gcm.prototype.pow=function(e,t){for(var r=1&e[3],n=3;0<n;--n)t[n]=e[n]>>>1|(1&e[n-1])<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)},e.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=e[r/8|0]>>>4*(7-r%8)&15,n=this._m[r][n];t[0]^=n[0],t[1]^=n[1],t[2]^=n[2],t[3]^=n[3]}return t},e.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)},e.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,s=new Array(i),o=0;o<i;++o){var a=[0,0,0,0];a[o/n|0]=1<<t-1<<(n-1-o%n)*t,s[o]=this.generateSubHashTable(this.multiply(a,e),t)}return s},e.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var s=n>>>1;0<s;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var o=1;o<s;++o){var a=i[s],c=i[o];i[s+o]=[a[0]^c[0],a[1]^c[1],a[2]^c[2],a[3]^c[3]]}s*=2}for(i[0]=[0,0,0,0],s=1+n;s<r;++s){var u=i[s^n];i[s]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return i}},33480:(e,t,r)=>{var s=r(3832);function n(e,t){s.cipher.registerAlgorithm(e,function(){return new s.des.Algorithm(e,t)})}r(85649),r(61967),r(97116),e.exports=s.des=s.des||{},s.des.startEncrypting=function(e,t,r,n){n=o({key:e,output:r,decrypt:!1,mode:n||(null===t?"ECB":"CBC")});return n.start(t),n},s.des.createEncryptionCipher=function(e,t){return o({key:e,output:null,decrypt:!1,mode:t})},s.des.startDecrypting=function(e,t,r,n){n=o({key:e,output:r,decrypt:!0,mode:n||(null===t?"ECB":"CBC")});return n.start(t),n},s.des.createDecryptionCipher=function(e,t){return o({key:e,output:null,decrypt:!0,mode:t})},s.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(e,t){return i(r._keys,e,t,!1)},decrypt:function(e,t){return i(r._keys,e,t,!0)}}}),r._init=!1},s.des.Algorithm.prototype.initialize=function(e){if(!this._init){e=s.util.createBuffer(e.key);if(0===this.name.indexOf("3DES")&&24!==e.length())throw new Error("Invalid Triple-DES key size: "+8*e.length());this._keys=function(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],o=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],a=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],h=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],l=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],d=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],f=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],p=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],y=8<e.length()?3:1,g=[],m=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],b=0,v=0;v<y;v++){var w=e.getInt32();w^=(E=252645135&(w>>>4^(S=e.getInt32())))<<4,w^=E=65535&((S^=E)>>>-16^w),w^=(E=858993459&(w>>>2^(S^=E<<-16)))<<2,w^=E=65535&((S^=E)>>>-16^w),w^=(E=1431655765&(w>>>1^(S^=E<<-16)))<<1,w^=E=16711935&((S^=E)>>>8^w),E=(w^=(E=1431655765&(w>>>1^(S^=E<<8)))<<1)<<8|(S^=E)>>>20&240,w=S<<24|S<<8&16711680|S>>>8&65280|S>>>24&240,S=E;for(var _=0;_<m.length;++_){var E,S=m[_]?(w=w<<2|w>>>26,S<<2|S>>>26):(w=w<<1|w>>>27,S<<1|S>>>27),C=t[(w&=-15)>>>28]|r[w>>>24&15]|n[w>>>20&15]|i[w>>>16&15]|s[w>>>12&15]|o[w>>>8&15]|a[w>>>4&15],A=c[(S&=-15)>>>28]|u[S>>>24&15]|h[S>>>20&15]|l[S>>>16&15]|d[S>>>12&15]|f[S>>>8&15]|p[S>>>4&15];g[b++]=C^(E=65535&(A>>>16^C)),g[b++]=A^E<<16}}return g}(e),this._init=!0}},n("DES-ECB",s.cipher.modes.ecb),n("DES-CBC",s.cipher.modes.cbc),n("DES-CFB",s.cipher.modes.cfb),n("DES-OFB",s.cipher.modes.ofb),n("DES-CTR",s.cipher.modes.ctr),n("3DES-ECB",s.cipher.modes.ecb),n("3DES-CBC",s.cipher.modes.cbc),n("3DES-CFB",s.cipher.modes.cfb),n("3DES-OFB",s.cipher.modes.ofb),n("3DES-CTR",s.cipher.modes.ctr);var y=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],g=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],m=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],b=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],v=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],w=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],_=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],E=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function i(e,t,r,n){var i=32===e.length?3:9,s=3==i?n?[30,-2,-2]:[0,32,2]:n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2],o=t[0];o^=(f=252645135&(o>>>4^(p=t[1])))<<4,o^=(f=65535&(o>>>16^(p^=f)))<<16,o^=f=858993459&((p^=f)>>>2^o),o^=f=16711935&((p^=f<<2)>>>8^o),o=(o^=(f=1431655765&(o>>>1^(p^=f<<8)))<<1)<<1|o>>>31,p=(p^=f)<<1|p>>>31;for(var a=0;a<i;a+=3){for(var c=s[a+1],u=s[a+2],h=s[a];h!=c;h+=u)var l=p^e[h],d=(p>>>4|p<<28)^e[h+1],f=o,o=p,p=f^(g[l>>>24&63]|b[l>>>16&63]|w[l>>>8&63]|E[63&l]|y[d>>>24&63]|m[d>>>16&63]|v[d>>>8&63]|_[63&d]);f=o,o=p,p=f}p=p>>>1|p<<31,p^=f=1431655765&((o=o>>>1|o<<31)>>>1^p),p^=(f=16711935&(p>>>8^(o^=f<<1)))<<8,p^=(f=858993459&(p>>>2^(o^=f)))<<2,p^=f=65535&((o^=f)>>>16^p),p^=f=252645135&((o^=f<<16)>>>4^p),r[0]=o^=f<<4,r[1]=p}function o(e){var n,t="DES-"+((e=e||{}).mode||"CBC").toUpperCase(),i=(n=e.decrypt?s.cipher.createDecipher(t,e.key):s.cipher.createCipher(t,e.key)).start;return n.start=function(e,t){var r=null;t instanceof s.util.ByteBuffer&&(r=t,t={}),(t=t||{}).output=r,t.iv=e,i.call(n,t)},n}},80069:(e,t,r)=>{var o=r(3832);r(15764),r(49563),r(63219),r(97116);var n,r=r(59205),i=r.publicKeyValidator,s=r.privateKeyValidator;void 0===n&&(n=o.jsbn.BigInteger);var a=o.util.ByteBuffer,m="undefined"==typeof Buffer?Uint8Array:Buffer;o.pki=o.pki||{},e.exports=o.pki.ed25519=o.ed25519=o.ed25519||{};var c=o.ed25519;function u(e){var t=e.message;if(t instanceof Uint8Array||t instanceof m)return t;var r=e.encoding;if(void 0===t){if(!e.md)throw new TypeError('"options.message" or "options.md" not specified.');t=e.md.digest().getBytes(),r="binary"}if("string"==typeof t&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof t){if("undefined"!=typeof Buffer)return Buffer.from(t,r);t=new a(t,r)}else if(!(t instanceof a))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new m(t.length()),i=0;i<n.length;++i)n[i]=t.at(i);return n}c.constants={},c.constants.PUBLIC_KEY_BYTE_LENGTH=32,c.constants.PRIVATE_KEY_BYTE_LENGTH=64,c.constants.SEED_BYTE_LENGTH=32,c.constants.SIGN_BYTE_LENGTH=64,c.constants.HASH_BYTE_LENGTH=64,c.generateKeyPair=function(e){if(void 0===(t=(e=e||{}).seed))t=o.random.getBytesSync(c.constants.SEED_BYTE_LENGTH);else if("string"==typeof t){if(t.length!==c.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+c.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');for(var t=u({message:t,encoding:"binary"}),e=new m(c.constants.PUBLIC_KEY_BYTE_LENGTH),r=new m(c.constants.PRIVATE_KEY_BYTE_LENGTH),n=0;n<32;++n)r[n]=t[n];return function(e,t){var r,n=[B(),B(),B(),B()],i=E(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,k(n,i),A(e,n),r=0;r<32;++r)t[r+32]=e[r]}(e,r),{publicKey:e,privateKey:r}},c.privateKeyFromAsn1=function(e){var t={},r=[];if(!o.asn1.validate(e,s,t,r)){var n=new Error("Invalid Key.");throw n.errors=r,n}r=o.asn1.derToOid(t.privateKeyOid),n=o.oids.EdDSA25519;if(r!==n)throw new Error('Invalid OID "'+r+'"; OID must be "'+n+'".');return{privateKeyBytes:u({message:o.asn1.fromDer(t.privateKey).value,encoding:"binary"})}},c.publicKeyFromAsn1=function(e){var t={},r=[];if(!o.asn1.validate(e,i,t,r)){var n=new Error("Invalid Key.");throw n.errors=r,n}r=o.asn1.derToOid(t.publicKeyOid),n=o.oids.EdDSA25519;if(r!==n)throw new Error('Invalid OID "'+r+'"; OID must be "'+n+'".');t=t.ed25519PublicKey;if(t.length!==c.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return u({message:t,encoding:"binary"})},c.publicKeyFromPrivateKey=function(e){var t=u({message:(e=e||{}).privateKey,encoding:"binary"});if(t.length!==c.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+c.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new m(c.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r},c.sign=function(e){var t=u(e=e||{}),e=u({message:e.privateKey,encoding:"binary"});if(e.length===c.constants.SEED_BYTE_LENGTH)e=c.generateKeyPair({seed:e}).privateKey;else if(e.length!==c.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+c.constants.SEED_BYTE_LENGTH+" or "+c.constants.PRIVATE_KEY_BYTE_LENGTH);var r=new m(c.constants.SIGN_BYTE_LENGTH+t.length);!function(e,t,r,n){var i,s,o=new Float64Array(64),a=[B(),B(),B(),B()],c=E(n,32);for(c[0]&=248,c[31]&=127,c[31]|=64,i=0;i<r;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=c[32+i];var u=E(e.subarray(32),r+32);for(S(u),k(a,u),A(e,a),i=32;i<64;++i)e[i]=n[i];var h=E(e,r+64);for(S(h),i=32;i<64;++i)o[i]=0;for(i=0;i<32;++i)o[i]=u[i];for(i=0;i<32;++i)for(s=0;s<32;s++)o[i+s]+=h[i]*c[s];p(e.subarray(32),o)}(r,t,t.length,e);for(var n=new m(c.constants.SIGN_BYTE_LENGTH),i=0;i<n.length;++i)n[i]=r[i];return n},c.verify=function(e){var t=u(e=e||{});if(void 0===e.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=u({message:e.signature,encoding:"binary"});if(r.length!==c.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+c.constants.SIGN_BYTE_LENGTH);var n=u({message:e.publicKey,encoding:"binary"});if(n.length!==c.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+c.constants.PUBLIC_KEY_BYTE_LENGTH);for(var i=new m(c.constants.SIGN_BYTE_LENGTH+t.length),e=new m(c.constants.SIGN_BYTE_LENGTH+t.length),s=0;s<c.constants.SIGN_BYTE_LENGTH;++s)i[s]=r[s];for(s=0;s<t.length;++s)i[s+c.constants.SIGN_BYTE_LENGTH]=t[s];return 0<=function(e,t,r,n){var i,s,o,a,c,u,h,l,d,f=new m(32),p=[B(),B(),B(),B()],y=[B(),B(),B(),B()];if(r<64)return-1;if(g=y,s=n,o=B(),a=B(),c=B(),u=B(),h=B(),l=B(),d=B(),O(g[2],v),function(e,t){for(var r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(g[1],s),L(c,g[1]),F(u,c,w),N(c,c,g[2]),x(u,g[2],u),L(h,u),L(l,h),F(d,l,h),F(o,d,c),F(o,o,u),function(e,t){for(var r=B(),n=0;n<16;++n)r[n]=t[n];for(n=250;0<=n;--n)L(r,r),1!==n&&F(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}(o,o),F(o,o,c),F(o,o,u),F(o,o,u),F(g[0],o,u),L(a,g[0]),F(a,a,u),I(a,c)&&F(g[0],g[0],_),L(a,g[0]),F(a,a,u),I(a,c)?-1:(R(g[0])===s[31]>>7&&N(g[0],b,g[0]),F(g[3],g[0],g[1]),0))return-1;for(i=0;i<r;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=n[i];var g=E(e,r);if(S(g),P(p,y,g),k(y,t.subarray(32)),C(p,y),A(f,p),r-=64,T(t,0,f,0)){for(i=0;i<r;++i)e[i]=0;return-1}for(i=0;i<r;++i)e[i]=t[i+64];return r}(e,i,i.length,n)};var b=B(),v=B([1]),w=B([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=B([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=B([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=B([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),_=B([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function E(e,t){var r=o.md.sha512.create(),e=new a(e);r.update(e.getBytes(t),"binary");var n=r.digest().getBytes();if("undefined"!=typeof Buffer)return Buffer.from(n,"binary");for(var i=new m(c.constants.HASH_BYTE_LENGTH),s=0;s<64;++s)i[s]=n.charCodeAt(s);return i}function p(e,t){for(var r,n,i,s=63;32<=s;--s){for(r=0,n=s-32,i=s-12;n<i;++n)t[n]+=r-16*t[s]*f[n-(s-32)],r=t[n]+128>>8,t[n]-=256*r;t[n]+=r,t[s]=0}for(n=r=0;n<32;++n)t[n]+=r-(t[31]>>4)*f[n],r=t[n]>>8,t[n]&=255;for(n=0;n<32;++n)t[n]-=r*f[n];for(s=0;s<32;++s)t[s+1]+=t[s]>>8,e[s]=255&t[s]}function S(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;p(e,t)}function C(e,t){var r=B(),n=B(),i=B(),s=B(),o=B(),a=B(),c=B(),u=B(),h=B();N(r,e[1],e[0]),N(h,t[1],t[0]),F(r,r,h),x(n,e[0],e[1]),x(h,t[0],t[1]),F(n,n,h),F(i,e[3],t[3]),F(i,i,l),F(s,e[2],t[2]),x(s,s,s),N(o,n,r),N(a,s,i),x(c,s,i),x(u,n,r),F(e[0],o,a),F(e[1],u,c),F(e[2],c,a),F(e[3],o,u)}function y(e,t,r){for(var n=0;n<4;++n)D(e[n],t[n],r)}function A(e,t){var r=B(),n=B(),i=B();!function(e,t){for(var r=B(),n=0;n<16;++n)r[n]=t[n];for(n=253;0<=n;--n)L(r,r),2!==n&&4!==n&&F(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}(i,t[2]),F(r,t[0],i),F(n,t[1],i),g(e,n),e[31]^=R(r)<<7}function g(e,t){for(var r,n,i=B(),s=B(),o=0;o<16;++o)s[o]=t[o];for(M(s),M(s),M(s),r=0;r<2;++r){for(i[0]=s[0]-65517,o=1;o<15;++o)i[o]=s[o]-65535-(i[o-1]>>16&1),i[o-1]&=65535;i[15]=s[15]-32767-(i[14]>>16&1),n=i[15]>>16&1,i[14]&=65535,D(s,i,1-n)}for(o=0;o<16;o++)e[2*o]=255&s[o],e[2*o+1]=s[o]>>8}function I(e,t){var r=new m(32),n=new m(32);return g(r,e),g(n,t),T(r,0,n,0)}function T(e,t,r,n){return function(e,t,r,n){for(var i=0,s=0;s<32;++s)i|=e[t+s]^r[n+s];return(1&i-1>>>8)-1}(e,t,r,n)}function R(e){var t=new m(32);return g(t,e),1&t[0]}function P(e,t,r){var n,i;for(O(e[0],b),O(e[1],v),O(e[2],v),O(e[3],b),i=255;0<=i;--i)y(e,t,n=r[i/8|0]>>(7&i)&1),C(t,e),C(e,e),y(e,t,n)}function k(e,t){var r=[B(),B(),B(),B()];O(r[0],h),O(r[1],d),O(r[2],v),F(r[3],h,d),P(e,r,t)}function O(e,t){for(var r=0;r<16;r++)e[r]=0|t[r]}function M(e){for(var t,r=1,n=0;n<16;++n)t=e[n]+r+65535,r=Math.floor(t/65536),e[n]=t-65536*r;e[0]+=r-1+37*(r-1)}function D(e,t,r){for(var n,i=~(r-1),s=0;s<16;++s)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}function B(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}function x(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}function N(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}function L(e,t){F(e,t,t)}function F(e,t,r){var n=0,i=0,s=0,o=0,a=0,c=0,u=0,h=0,l=0,d=0,f=0,p=0,y=0,g=0,m=0,b=0,v=0,w=0,_=0,E=0,S=0,C=0,A=0,I=0,T=0,R=0,P=0,k=0,O=0,M=0,D=0,B=r[0],x=r[1],N=r[2],L=r[3],F=r[4],K=r[5],U=r[6],j=r[7],V=r[8],q=r[9],z=r[10],H=r[11],G=r[12],$=r[13],W=r[14],Y=r[15];n+=(r=t[0])*B,i+=r*x,s+=r*N,o+=r*L,a+=r*F,c+=r*K,u+=r*U,h+=r*j,l+=r*V,d+=r*q,f+=r*z,p+=r*H,y+=r*G,g+=r*$,m+=r*W,b+=r*Y,i+=(r=t[1])*B,s+=r*x,o+=r*N,a+=r*L,c+=r*F,u+=r*K,h+=r*U,l+=r*j,d+=r*V,f+=r*q,p+=r*z,y+=r*H,g+=r*G,m+=r*$,b+=r*W,v+=r*Y,s+=(r=t[2])*B,o+=r*x,a+=r*N,c+=r*L,u+=r*F,h+=r*K,l+=r*U,d+=r*j,f+=r*V,p+=r*q,y+=r*z,g+=r*H,m+=r*G,b+=r*$,v+=r*W,w+=r*Y,o+=(r=t[3])*B,a+=r*x,c+=r*N,u+=r*L,h+=r*F,l+=r*K,d+=r*U,f+=r*j,p+=r*V,y+=r*q,g+=r*z,m+=r*H,b+=r*G,v+=r*$,w+=r*W,_+=r*Y,a+=(r=t[4])*B,c+=r*x,u+=r*N,h+=r*L,l+=r*F,d+=r*K,f+=r*U,p+=r*j,y+=r*V,g+=r*q,m+=r*z,b+=r*H,v+=r*G,w+=r*$,_+=r*W,E+=r*Y,c+=(r=t[5])*B,u+=r*x,h+=r*N,l+=r*L,d+=r*F,f+=r*K,p+=r*U,y+=r*j,g+=r*V,m+=r*q,b+=r*z,v+=r*H,w+=r*G,_+=r*$,E+=r*W,S+=r*Y,u+=(r=t[6])*B,h+=r*x,l+=r*N,d+=r*L,f+=r*F,p+=r*K,y+=r*U,g+=r*j,m+=r*V,b+=r*q,v+=r*z,w+=r*H,_+=r*G,E+=r*$,S+=r*W,C+=r*Y,h+=(r=t[7])*B,l+=r*x,d+=r*N,f+=r*L,p+=r*F,y+=r*K,g+=r*U,m+=r*j,b+=r*V,v+=r*q,w+=r*z,_+=r*H,E+=r*G,S+=r*$,C+=r*W,A+=r*Y,l+=(r=t[8])*B,d+=r*x,f+=r*N,p+=r*L,y+=r*F,g+=r*K,m+=r*U,b+=r*j,v+=r*V,w+=r*q,_+=r*z,E+=r*H,S+=r*G,C+=r*$,A+=r*W,I+=r*Y,d+=(r=t[9])*B,f+=r*x,p+=r*N,y+=r*L,g+=r*F,m+=r*K,b+=r*U,v+=r*j,w+=r*V,_+=r*q,E+=r*z,S+=r*H,C+=r*G,A+=r*$,I+=r*W,T+=r*Y,f+=(r=t[10])*B,p+=r*x,y+=r*N,g+=r*L,m+=r*F,b+=r*K,v+=r*U,w+=r*j,_+=r*V,E+=r*q,S+=r*z,C+=r*H,A+=r*G,I+=r*$,T+=r*W,R+=r*Y,p+=(r=t[11])*B,y+=r*x,g+=r*N,m+=r*L,b+=r*F,v+=r*K,w+=r*U,_+=r*j,E+=r*V,S+=r*q,C+=r*z,A+=r*H,I+=r*G,T+=r*$,R+=r*W,P+=r*Y,y+=(r=t[12])*B,g+=r*x,m+=r*N,b+=r*L,v+=r*F,w+=r*K,_+=r*U,E+=r*j,S+=r*V,C+=r*q,A+=r*z,I+=r*H,T+=r*G,R+=r*$,P+=r*W,k+=r*Y,g+=(r=t[13])*B,m+=r*x,b+=r*N,v+=r*L,w+=r*F,_+=r*K,E+=r*U,S+=r*j,C+=r*V,A+=r*q,I+=r*z,T+=r*H,R+=r*G,P+=r*$,k+=r*W,O+=r*Y,m+=(r=t[14])*B,b+=r*x,v+=r*N,w+=r*L,_+=r*F,E+=r*K,S+=r*U,C+=r*j,A+=r*V,I+=r*q,T+=r*z,R+=r*H,P+=r*G,k+=r*$,O+=r*W,M+=r*Y,b+=(r=t[15])*B,i+=38*(w+=r*N),s+=38*(_+=r*L),o+=38*(E+=r*F),a+=38*(S+=r*K),c+=38*(C+=r*U),u+=38*(A+=r*j),h+=38*(I+=r*V),l+=38*(T+=r*q),d+=38*(R+=r*z),f+=38*(P+=r*H),p+=38*(k+=r*G),y+=38*(O+=r*$),g+=38*(M+=r*W),m+=38*(D+=r*Y),n=(r=(n+=38*(v+=r*x))+1+65535)-65536*(v=Math.floor(r/65536)),i=(r=i+v+65535)-65536*(v=Math.floor(r/65536)),s=(r=s+v+65535)-65536*(v=Math.floor(r/65536)),o=(r=o+v+65535)-65536*(v=Math.floor(r/65536)),a=(r=a+v+65535)-65536*(v=Math.floor(r/65536)),c=(r=c+v+65535)-65536*(v=Math.floor(r/65536)),u=(r=u+v+65535)-65536*(v=Math.floor(r/65536)),h=(r=h+v+65535)-65536*(v=Math.floor(r/65536)),l=(r=l+v+65535)-65536*(v=Math.floor(r/65536)),d=(r=d+v+65535)-65536*(v=Math.floor(r/65536)),f=(r=f+v+65535)-65536*(v=Math.floor(r/65536)),p=(r=p+v+65535)-65536*(v=Math.floor(r/65536)),y=(r=y+v+65535)-65536*(v=Math.floor(r/65536)),g=(r=g+v+65535)-65536*(v=Math.floor(r/65536)),m=(r=m+v+65535)-65536*(v=Math.floor(r/65536)),b=(r=b+v+65535)-65536*(v=Math.floor(r/65536)),n=(r=(n+=v-1+37*(v-1))+1+65535)-65536*(v=Math.floor(r/65536)),i=(r=i+v+65535)-65536*(v=Math.floor(r/65536)),s=(r=s+v+65535)-65536*(v=Math.floor(r/65536)),o=(r=o+v+65535)-65536*(v=Math.floor(r/65536)),a=(r=a+v+65535)-65536*(v=Math.floor(r/65536)),c=(r=c+v+65535)-65536*(v=Math.floor(r/65536)),u=(r=u+v+65535)-65536*(v=Math.floor(r/65536)),h=(r=h+v+65535)-65536*(v=Math.floor(r/65536)),l=(r=l+v+65535)-65536*(v=Math.floor(r/65536)),d=(r=d+v+65535)-65536*(v=Math.floor(r/65536)),f=(r=f+v+65535)-65536*(v=Math.floor(r/65536)),p=(r=p+v+65535)-65536*(v=Math.floor(r/65536)),y=(r=y+v+65535)-65536*(v=Math.floor(r/65536)),g=(r=g+v+65535)-65536*(v=Math.floor(r/65536)),m=(r=m+v+65535)-65536*(v=Math.floor(r/65536)),b=(r=b+v+65535)-65536*(v=Math.floor(r/65536)),e[0]=n+=v-1+37*(v-1),e[1]=i,e[2]=s,e[3]=o,e[4]=a,e[5]=c,e[6]=u,e[7]=h,e[8]=l,e[9]=d,e[10]=f,e[11]=p,e[12]=y,e[13]=g,e[14]=m,e[15]=b}},3832:e=>{e.exports={options:{usePureJavaScript:!1}}},36607:(e,t,r)=>{var u=r(3832);r(28991),r(97116),(e.exports=u.hmac=u.hmac||{}).create=function(){var s=null,o=null,a=null,c=null,e={start:function(e,t){if(null!==e)if("string"==typeof e){if(!((e=e.toLowerCase())in u.md.algorithms))throw new Error('Unknown hash algorithm "'+e+'"');o=u.md.algorithms[e].create()}else o=e;if(null===t)t=s;else{if("string"==typeof t)t=u.util.createBuffer(t);else if(u.util.isArray(t)){var r=t;t=u.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}var i;for((i=t.length())>o.blockLength&&(o.start(),o.update(t.bytes()),t=o.digest()),a=u.util.createBuffer(),c=u.util.createBuffer(),i=t.length(),n=0;n<i;++n)r=t.at(n),a.putByte(54^r),c.putByte(92^r);if(i<o.blockLength)for(r=o.blockLength-i,n=0;n<r;++n)a.putByte(54),c.putByte(92);s=t,a=a.bytes(),c=c.bytes()}o.start(),o.update(a)},update:function(e){o.update(e)},getMac:function(){var e=o.digest().bytes();return o.start(),o.update(c),o.update(e),o.digest()}};return e.digest=e.getMac,e}},15764:(e,t,r)=>{var r=r(3832);function m(e,t,r){this.data=[],null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function b(){return new m(null)}function n(e,t,r,n,i,s){for(var o=16383&t,a=t>>14;0<=--s;){var c=16383&this.data[e],u=this.data[e++]>>14,h=a*c+u*o;i=((c=o*c+((16383&h)<<14)+r.data[n]+i)>>28)+(h>>14)+a*u,r.data[n++]=268435455&c}return i}e.exports=r.jsbn=r.jsbn||{},r.jsbn.BigInteger=m,r="undefined"==typeof navigator?(m.prototype.am=n,28):"Microsoft Internet Explorer"==navigator.appName?(m.prototype.am=function(e,t,r,n,i,s){for(var o=32767&t,a=t>>15;0<=--s;){var c=32767&this.data[e],u=this.data[e++]>>15,h=a*c+u*o;i=((c=o*c+((32767&h)<<15)+r.data[n]+(1073741823&i))>>>30)+(h>>>15)+a*u+(i>>>30),r.data[n++]=1073741823&c}return i},30):"Netscape"!=navigator.appName?(m.prototype.am=function(e,t,r,n,i,s){for(;0<=--s;){var o=t*this.data[e++]+r.data[n]+i;i=Math.floor(o/67108864),r.data[n++]=67108863&o}return i},26):(m.prototype.am=n,28),m.prototype.DB=r,m.prototype.DM=(1<<r)-1,m.prototype.DV=1<<r,m.prototype.FV=Math.pow(2,52),m.prototype.F1=52-r,m.prototype.F2=2*r-52;for(var i=new Array,s="0".charCodeAt(0),o=0;o<=9;++o)i[s++]=o;for(s="a".charCodeAt(0),o=10;o<36;++o)i[s++]=o;for(s="A".charCodeAt(0),o=10;o<36;++o)i[s++]=o;function c(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function u(e,t){t=i[e.charCodeAt(t)];return null==t?-1:t}function g(e){var t=b();return t.fromInt(e),t}function v(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function w(e){this.m=e}function _(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function a(e,t){return e&t}function h(e,t){return e|t}function l(e,t){return e^t}function d(e,t){return e&~t}function f(){}function p(e){return e}function E(e){this.r2=b(),this.q3=b(),m.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}w.prototype.convert=function(e){return e.s<0||0<=e.compareTo(this.m)?e.mod(this.m):e},w.prototype.revert=function(e){return e},w.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},w.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},w.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},_.prototype.convert=function(e){var t=b();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&0<t.compareTo(m.ZERO)&&this.m.subTo(t,t),t},_.prototype.revert=function(e){var t=b();return e.copyTo(t),this.reduce(t),t},_.prototype.reduce=function(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=(n=32767&e.data[t])*this.mpl+((n*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM,n=t+this.m.t;for(e.data[n]+=this.m.am(0,r,e,t,0,this.m.t);e.data[n]>=e.DV;)e.data[n]-=e.DV,e.data[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),0<=e.compareTo(this.m)&&e.subTo(this.m,e)},_.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},_.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},m.prototype.copyTo=function(e){for(var t=this.t-1;0<=t;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s},m.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,0<e?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0},m.prototype.fromString=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var n=e.length,i=!1,s=0;0<=--n;){var o=8==r?255&e[n]:u(e,n);o<0?"-"==e.charAt(n)&&(i=!0):(i=!1,0==s?this.data[this.t++]=o:s+r>this.DB?(this.data[this.t-1]|=(o&(1<<this.DB-s)-1)<<s,this.data[this.t++]=o>>this.DB-s):this.data[this.t-1]|=o<<s,(s+=r)>=this.DB&&(s-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,0<s&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&m.ZERO.subTo(this,this)},m.prototype.clamp=function(){for(var e=this.s&this.DM;0<this.t&&this.data[this.t-1]==e;)--this.t},m.prototype.dlShiftTo=function(e,t){for(var r=this.t-1;0<=r;--r)t.data[r+e]=this.data[r];for(r=e-1;0<=r;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s},m.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s},m.prototype.lShiftTo=function(e,t){for(var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,s=Math.floor(e/this.DB),o=this.s<<r&this.DM,a=this.t-1;0<=a;--a)t.data[a+s+1]=this.data[a]>>n|o,o=(this.data[a]&i)<<r;for(a=s-1;0<=a;--a)t.data[a]=0;t.data[s]=o,t.t=this.t+s+1,t.s=this.s,t.clamp()},m.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,s=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var o=r+1;o<this.t;++o)t.data[o-r-1]|=(this.data[o]&s)<<i,t.data[o-r]=this.data[o]>>n;0<n&&(t.data[this.t-r-1]|=(this.s&s)<<i),t.t=this.t-r,t.clamp()}},m.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:0<n&&(t.data[r++]=n),t.t=r,t.clamp()},m.prototype.multiplyTo=function(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;0<=--i;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&m.ZERO.subTo(t,t)},m.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;0<=--r;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}0<e.t&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()},m.prototype.divRemTo=function(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=t&&t.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=b());var s=b(),o=this.s,a=e.s,e=this.DB-v(n.data[n.t-1]);0<e?(n.lShiftTo(e,s),i.lShiftTo(e,r)):(n.copyTo(s),i.copyTo(r));var c=s.t,u=s.data[c-1];if(0!=u){var i=u*(1<<this.F1)+(1<c?s.data[c-2]>>this.F2:0),h=this.FV/i,l=(1<<this.F1)/i,d=1<<this.F2,f=r.t,p=f-c,y=null==t?b():t;for(s.dlShiftTo(p,y),0<=r.compareTo(y)&&(r.data[r.t++]=1,r.subTo(y,r)),m.ONE.dlShiftTo(c,y),y.subTo(s,s);s.t<c;)s.data[s.t++]=0;for(;0<=--p;){var g=r.data[--f]==u?this.DM:Math.floor(r.data[f]*h+(r.data[f-1]+d)*l);if((r.data[f]+=s.am(0,g,r,p,0,c))<g)for(s.dlShiftTo(p,y),r.subTo(y,r);r.data[f]<--g;)r.subTo(y,r)}null!=t&&(r.drShiftTo(c,t),o!=a&&m.ZERO.subTo(t,t)),r.t=c,r.clamp(),0<e&&r.rShiftTo(e,r),o<0&&m.ZERO.subTo(r,r)}}},m.prototype.invDigit=function(){if(this.t<1)return 0;var e=this.data[0];if(0==(1&e))return 0;var t=3&e;return 0<(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)?this.DV-t:-t},m.prototype.isEven=function(){return 0==(0<this.t?1&this.data[0]:this.s)},m.prototype.exp=function(e,t){if(4294967295<e||e<1)return m.ONE;var r,n=b(),i=b(),s=t.convert(this),o=v(e)-1;for(s.copyTo(n);0<=--o;)t.sqrTo(n,i),0<(e&1<<o)?t.mulTo(i,s,n):(r=n,n=i,i=r);return t.revert(n)},m.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,i=!1,s="",o=this.t,a=this.DB-o*this.DB%t;if(0<o--)for(a<this.DB&&0<(r=this.data[o]>>a)&&(i=!0,s=c(r));0<=o;)a<t?(r=(this.data[o]&(1<<a)-1)<<t-a,r|=this.data[--o]>>(a+=this.DB-t)):(r=this.data[o]>>(a-=t)&n,a<=0&&(a+=this.DB,--o)),(i=0<r?!0:i)&&(s+=c(r));return i?s:"0"},m.prototype.negate=function(){var e=b();return m.ZERO.subTo(this,e),e},m.prototype.abs=function(){return this.s<0?this.negate():this},m.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;0<=--r;)if(0!=(t=this.data[r]-e.data[r]))return t;return 0},m.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+v(this.data[this.t-1]^this.s&this.DM)},m.prototype.mod=function(e){var t=b();return this.abs().divRemTo(e,null,t),this.s<0&&0<t.compareTo(m.ZERO)&&e.subTo(t,t),t},m.prototype.modPowInt=function(e,t){t=new(e<256||t.isEven()?w:_)(t);return this.exp(e,t)},m.ZERO=g(0),m.ONE=g(1),f.prototype.convert=p,f.prototype.revert=p,f.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},f.prototype.sqrTo=function(e,t){e.squareTo(t)},E.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=b();return e.copyTo(t),this.reduce(t),t},E.prototype.revert=function(e){return e},E.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);0<=e.compareTo(this.m);)e.subTo(this.m,e)},E.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},E.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var y=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],S=(1<<26)/y[y.length-1];m.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},m.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||36<e)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=g(r),i=b(),s=b(),o="";for(this.divRemTo(n,i,s);0<i.signum();)o=(r+s.intValue()).toString(e).substr(1)+o,i.divRemTo(n,i,s);return s.intValue().toString(e)+o},m.prototype.fromRadix=function(e,t){this.fromInt(0);for(var r=this.chunkSize(t=null==t?10:t),n=Math.pow(t,r),i=!1,s=0,o=0,a=0;a<e.length;++a){var c=u(e,a);c<0?"-"==e.charAt(a)&&0==this.signum()&&(i=!0):(o=t*o+c,++s>=r&&(this.dMultiply(n),this.dAddOffset(o,0),o=s=0))}0<s&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(o,0)),i&&m.ZERO.subTo(this,this)},m.prototype.fromNumber=function(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(m.ONE.shiftLeft(e-1),h,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(m.ONE.shiftLeft(e-1),this);else{var n=new Array,r=7&e;n.length=1+(e>>3),t.nextBytes(n),0<r?n[0]&=(1<<r)-1:n[0]=0,this.fromString(n,256)}},m.prototype.bitwiseTo=function(e,t,r){for(var n,i=Math.min(e.t,this.t),s=0;s<i;++s)r.data[s]=t(this.data[s],e.data[s]);if(e.t<this.t){for(n=e.s&this.DM,s=i;s<this.t;++s)r.data[s]=t(this.data[s],n);r.t=this.t}else{for(n=this.s&this.DM,s=i;s<e.t;++s)r.data[s]=t(n,e.data[s]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},m.prototype.changeBit=function(e,t){e=m.ONE.shiftLeft(e);return this.bitwiseTo(e,t,e),e},m.prototype.addTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,0<n?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()},m.prototype.dMultiply=function(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},m.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}},m.prototype.multiplyLowerTo=function(e,t,r){var n,i=Math.min(this.t+e.t,t);for(r.s=0,r.t=i;0<i;)r.data[--i]=0;for(n=r.t-this.t;i<n;++i)r.data[i+this.t]=this.am(0,e.data[i],r,i,0,this.t);for(n=Math.min(e.t,t);i<n;++i)this.am(0,e.data[i],r,i,0,t-i);r.clamp()},m.prototype.multiplyUpperTo=function(e,t,r){var n=r.t=this.t+e.t- --t;for(r.s=0;0<=--n;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},m.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(0<this.t)if(0==t)r=this.data[0]%e;else for(var n=this.t-1;0<=n;--n)r=(t*r+this.data[n])%e;return r},m.prototype.millerRabin=function(e){var t=this.subtract(m.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n,i=t.shiftRight(r),s={nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(256*Math.random())}},o=0;o<e;++o){for(;(n=new m(this.bitLength(),s)).compareTo(m.ONE)<=0||0<=n.compareTo(t););var a=n.modPow(i,this);if(0!=a.compareTo(m.ONE)&&0!=a.compareTo(t)){for(var c=1;c++<r&&0!=a.compareTo(t);)if(0==(a=a.modPowInt(2,this)).compareTo(m.ONE))return!1;if(0!=a.compareTo(t))return!1}}return!0},m.prototype.clone=function(){var e=b();return this.copyTo(e),e},m.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},m.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24},m.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16},m.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},m.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,i=0;if(0<e--)for(n<this.DB&&(r=this.data[e]>>n)!=(this.s&this.DM)>>n&&(t[i++]=r|this.s<<this.DB-n);0<=e;)n<8?(r=(this.data[e]&(1<<n)-1)<<8-n,r|=this.data[--e]>>(n+=this.DB-8)):(r=this.data[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(0<i||r!=this.s)&&(t[i++]=r);return t},m.prototype.equals=function(e){return 0==this.compareTo(e)},m.prototype.min=function(e){return this.compareTo(e)<0?this:e},m.prototype.max=function(e){return 0<this.compareTo(e)?this:e},m.prototype.and=function(e){var t=b();return this.bitwiseTo(e,a,t),t},m.prototype.or=function(e){var t=b();return this.bitwiseTo(e,h,t),t},m.prototype.xor=function(e){var t=b();return this.bitwiseTo(e,l,t),t},m.prototype.andNot=function(e){var t=b();return this.bitwiseTo(e,d,t),t},m.prototype.not=function(){for(var e=b(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e},m.prototype.shiftLeft=function(e){var t=b();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},m.prototype.shiftRight=function(e){var t=b();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},m.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this.data[e])return e*this.DB+function(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}(this.data[e]);return this.s<0?this.t*this.DB:-1},m.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=function(e){for(var t=0;0!=e;)e&=e-1,++t;return t}(this.data[r]^t);return e},m.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this.data[t]&1<<e%this.DB)},m.prototype.setBit=function(e){return this.changeBit(e,h)},m.prototype.clearBit=function(e){return this.changeBit(e,d)},m.prototype.flipBit=function(e){return this.changeBit(e,l)},m.prototype.add=function(e){var t=b();return this.addTo(e,t),t},m.prototype.subtract=function(e){var t=b();return this.subTo(e,t),t},m.prototype.multiply=function(e){var t=b();return this.multiplyTo(e,t),t},m.prototype.divide=function(e){var t=b();return this.divRemTo(e,t,null),t},m.prototype.remainder=function(e){var t=b();return this.divRemTo(e,null,t),t},m.prototype.divideAndRemainder=function(e){var t=b(),r=b();return this.divRemTo(e,t,r),new Array(t,r)},m.prototype.modPow=function(e,t){var r=e.bitLength(),n=g(1);if(r<=0)return n;var i=r<18?1:r<48?3:r<144?4:r<768?5:6,s=new(r<8?w:t.isEven()?E:_)(t),o=new Array,a=3,c=i-1,u=(1<<i)-1;if(o[1]=s.convert(this),1<i){var h=b();for(s.sqrTo(o[1],h);a<=u;)o[a]=b(),s.mulTo(h,o[a-2],o[a]),a+=2}for(var l,d,f=e.t-1,p=!0,y=b(),r=v(e.data[f])-1;0<=f;){for(c<=r?l=e.data[f]>>r-c&u:(l=(e.data[f]&(1<<r+1)-1)<<c-r,0<f&&(l|=e.data[f-1]>>this.DB+r-c)),a=i;0==(1&l);)l>>=1,--a;if((r-=a)<0&&(r+=this.DB,--f),p)o[l].copyTo(n),p=!1;else{for(;1<a;)s.sqrTo(n,y),s.sqrTo(y,n),a-=2;0<a?s.sqrTo(n,y):(d=n,n=y,y=d),s.mulTo(y,o[l],n)}for(;0<=f&&0==(e.data[f]&1<<r);)s.sqrTo(n,y),d=n,n=y,y=d,--r<0&&(r=this.DB-1,--f)}return s.revert(n)},m.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return m.ZERO;for(var r=e.clone(),n=this.clone(),i=g(1),s=g(0),o=g(0),a=g(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(i.isEven()&&s.isEven()||(i.addTo(this,i),s.subTo(e,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),t?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(e,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);0<=r.compareTo(n)?(r.subTo(n,r),t&&i.subTo(o,i),s.subTo(a,s)):(n.subTo(r,n),t&&o.subTo(i,o),a.subTo(s,a))}return 0!=n.compareTo(m.ONE)?m.ZERO:0<=a.compareTo(e)?a.subtract(e):a.signum()<0?(a.addTo(e,a),a.signum()<0?a.add(e):a):a},m.prototype.pow=function(e){return this.exp(e,new f)},m.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();t.compareTo(r)<0&&(i=t,t=r,r=i);var n=t.getLowestSetBit(),i=r.getLowestSetBit();if(i<0)return t;for(0<(i=n<i?n:i)&&(t.rShiftTo(i,t),r.rShiftTo(i,r));0<t.signum();)0<(n=t.getLowestSetBit())&&t.rShiftTo(n,t),0<(n=r.getLowestSetBit())&&r.rShiftTo(n,r),0<=t.compareTo(r)?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return 0<i&&r.lShiftTo(i,r),r},m.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r.data[0]<=y[y.length-1]){for(t=0;t<y.length;++t)if(r.data[0]==y[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<y.length;){for(var n=y[t],i=t+1;i<y.length&&n<S;)n*=y[i++];for(n=r.modInt(n);t<i;)if(n%y[t++]==0)return!1}return r.millerRabin(e)}},28991:(e,t,r)=>{r=r(3832);e.exports=r.md=r.md||{},r.md.algorithms=r.md.algorithms||{}},86971:(e,t,r)=>{var n=r(3832);r(83453),e.exports=n.mgf=n.mgf||{},n.mgf.mgf1=n.mgf1},83453:(e,t,r)=>{var a=r(3832);r(97116),a.mgf=a.mgf||{},(e.exports=a.mgf.mgf1=a.mgf1=a.mgf1||{}).create=function(o){return{generate:function(e,t){for(var r=new a.util.ByteBuffer,n=Math.ceil(t/o.digestLength),i=0;i<n;i++){var s=new a.util.ByteBuffer;s.putInt32(i),o.start(),o.update(e+s.getBytes()),r.putBuffer(o.digest())}return r.truncate(r.length()-t),r.getBytes()}}}},66270:(e,t,r)=>{r=r(3832);r.pki=r.pki||{};var n=e.exports=r.pki.oids=r.oids=r.oids||{};function i(e,t){n[e]=t,n[t]=e}function s(e,t){n[e]=t}i("1.2.840.113549.1.1.1","rsaEncryption"),i("1.2.840.113549.1.1.4","md5WithRSAEncryption"),i("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),i("1.2.840.113549.1.1.7","RSAES-OAEP"),i("1.2.840.113549.1.1.8","mgf1"),i("1.2.840.113549.1.1.9","pSpecified"),i("1.2.840.113549.1.1.10","RSASSA-PSS"),i("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),i("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),i("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),i("1.3.101.112","EdDSA25519"),i("1.2.840.10040.4.3","dsa-with-sha1"),i("1.3.14.3.2.7","desCBC"),i("1.3.14.3.2.26","sha1"),i("2.16.840.1.101.3.4.2.1","sha256"),i("2.16.840.1.101.3.4.2.2","sha384"),i("2.16.840.1.101.3.4.2.3","sha512"),i("1.2.840.113549.2.5","md5"),i("1.2.840.113549.1.7.1","data"),i("1.2.840.113549.1.7.2","signedData"),i("1.2.840.113549.1.7.3","envelopedData"),i("1.2.840.113549.1.7.4","signedAndEnvelopedData"),i("1.2.840.113549.1.7.5","digestedData"),i("1.2.840.113549.1.7.6","encryptedData"),i("1.2.840.113549.1.9.1","emailAddress"),i("1.2.840.113549.1.9.2","unstructuredName"),i("1.2.840.113549.1.9.3","contentType"),i("1.2.840.113549.1.9.4","messageDigest"),i("1.2.840.113549.1.9.5","signingTime"),i("1.2.840.113549.1.9.6","counterSignature"),i("1.2.840.113549.1.9.7","challengePassword"),i("1.2.840.113549.1.9.8","unstructuredAddress"),i("1.2.840.113549.1.9.14","extensionRequest"),i("1.2.840.113549.1.9.20","friendlyName"),i("1.2.840.113549.1.9.21","localKeyId"),i("1.2.840.113549.1.9.22.1","x509Certificate"),i("1.2.840.113549.1.12.10.1.1","keyBag"),i("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),i("1.2.840.113549.1.12.10.1.3","certBag"),i("1.2.840.113549.1.12.10.1.4","crlBag"),i("1.2.840.113549.1.12.10.1.5","secretBag"),i("1.2.840.113549.1.12.10.1.6","safeContentsBag"),i("1.2.840.113549.1.5.13","pkcs5PBES2"),i("1.2.840.113549.1.5.12","pkcs5PBKDF2"),i("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),i("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),i("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),i("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),i("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),i("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),i("1.2.840.113549.2.7","hmacWithSHA1"),i("1.2.840.113549.2.8","hmacWithSHA224"),i("1.2.840.113549.2.9","hmacWithSHA256"),i("1.2.840.113549.2.10","hmacWithSHA384"),i("1.2.840.113549.2.11","hmacWithSHA512"),i("1.2.840.113549.3.7","des-EDE3-CBC"),i("2.16.840.1.101.3.4.1.2","aes128-CBC"),i("2.16.840.1.101.3.4.1.22","aes192-CBC"),i("2.16.840.1.101.3.4.1.42","aes256-CBC"),i("2.5.4.3","commonName"),i("2.5.4.5","serialName"),i("2.5.4.6","countryName"),i("2.5.4.7","localityName"),i("2.5.4.8","stateOrProvinceName"),i("2.5.4.9","streetAddress"),i("2.5.4.10","organizationName"),i("2.5.4.11","organizationalUnitName"),i("2.5.4.13","description"),i("2.5.4.15","businessCategory"),i("2.5.4.17","postalCode"),i("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),i("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),i("2.16.840.1.113730.1.1","nsCertType"),i("2.16.840.1.113730.1.13","nsComment"),s("2.5.29.1","authorityKeyIdentifier"),s("2.5.29.2","keyAttributes"),s("2.5.29.3","certificatePolicies"),s("2.5.29.4","keyUsageRestriction"),s("2.5.29.5","policyMapping"),s("2.5.29.6","subtreesConstraint"),s("2.5.29.7","subjectAltName"),s("2.5.29.8","issuerAltName"),s("2.5.29.9","subjectDirectoryAttributes"),s("2.5.29.10","basicConstraints"),s("2.5.29.11","nameConstraints"),s("2.5.29.12","policyConstraints"),s("2.5.29.13","basicConstraints"),i("2.5.29.14","subjectKeyIdentifier"),i("2.5.29.15","keyUsage"),s("2.5.29.16","privateKeyUsagePeriod"),i("2.5.29.17","subjectAltName"),i("2.5.29.18","issuerAltName"),i("2.5.29.19","basicConstraints"),s("2.5.29.20","cRLNumber"),s("2.5.29.21","cRLReason"),s("2.5.29.22","expirationDate"),s("2.5.29.23","instructionCode"),s("2.5.29.24","invalidityDate"),s("2.5.29.25","cRLDistributionPoints"),s("2.5.29.26","issuingDistributionPoint"),s("2.5.29.27","deltaCRLIndicator"),s("2.5.29.28","issuingDistributionPoint"),s("2.5.29.29","certificateIssuer"),s("2.5.29.30","nameConstraints"),i("2.5.29.31","cRLDistributionPoints"),i("2.5.29.32","certificatePolicies"),s("2.5.29.33","policyMappings"),s("2.5.29.34","policyConstraints"),i("2.5.29.35","authorityKeyIdentifier"),s("2.5.29.36","policyConstraints"),i("2.5.29.37","extKeyUsage"),s("2.5.29.46","freshestCRL"),s("2.5.29.54","inhibitAnyPolicy"),i("1.3.6.1.4.1.11129.2.4.2","timestampList"),i("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),i("1.3.6.1.5.5.7.3.1","serverAuth"),i("1.3.6.1.5.5.7.3.2","clientAuth"),i("1.3.6.1.5.5.7.3.3","codeSigning"),i("1.3.6.1.5.5.7.3.4","emailProtection"),i("1.3.6.1.5.5.7.3.8","timeStamping")},97450:(e,t,r)=>{var n,P=r(3832);r(8925),r(3068),r(33480),r(28991),r(66270),r(98960),r(26953),r(49563),r(69372),r(28095),r(97116),void 0===n&&(n=P.jsbn.BigInteger);var m=P.asn1,b=P.pki=P.pki||{};e.exports=b.pbe=P.pbe=P.pbe||{};var v=b.oids,o={name:"EncryptedPrivateKeyInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:m.Class.UNIVERSAL,type:m.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},c={name:"PBES2Algorithms",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:m.Class.UNIVERSAL,type:m.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:m.Class.UNIVERSAL,type:m.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},h={name:"pkcs-12PbeParams",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:m.Class.UNIVERSAL,type:m.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"iterations"}]};function a(e,t){return e.start().update(t).digest().getBytes()}function l(e){var t;if(e){if(!(t=b.oids[m.derToOid(e)])){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}}else t="hmacWithSHA1";return w(t)}function w(e){var t=P.md;switch(e){case"hmacWithSHA224":t=P.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!(t&&e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}b.encryptPrivateKeyInfo=function(e,t,r){(r=r||{}).saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n,i,s,o,a=P.random.getBytesSync(r.saltSize),c=r.count,u=m.integerToDer(c);if(0===r.algorithm.indexOf("aes")||"des"===r.algorithm){switch(r.algorithm){case"aes128":n=g=16,i=v["aes128-CBC"],s=P.aes.createEncryptionCipher;break;case"aes192":g=24,n=16,i=v["aes192-CBC"],s=P.aes.createEncryptionCipher;break;case"aes256":g=32,n=16,i=v["aes256-CBC"],s=P.aes.createEncryptionCipher;break;case"des":n=g=8,i=v.desCBC,s=P.des.createEncryptionCipher;break;default:throw(o=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,o}var h="hmacWith"+r.prfAlgorithm.toUpperCase(),l=w(h),d=P.pkcs5.pbkdf2(t,a,c,g,l),f=P.random.getBytesSync(n);(y=s(d)).start(f),y.update(m.toDer(e)),y.finish();var p=y.output.getBytes(),l=function(e,t,r){e=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,a),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,e.getBytes())]);return"hmacWithSHA1"!=r&&e.value.push(m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,P.util.hexToBytes(t.toString(16))),m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(b.oids[r]).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.NULL,!1,"")])),e}(u,g,h),h=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(v.pkcs5PBES2).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(v.pkcs5PBKDF2).getBytes()),l]),m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(i).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,f)])])])}else{if("3des"!==r.algorithm)throw(o=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,o;var y,g=24,l=new P.util.ByteBuffer(a),d=b.pbe.generatePkcs12Key(t,l,1,c,g),f=b.pbe.generatePkcs12Key(t,l,2,c,g);(y=P.des.createEncryptionCipher(d)).start(f),y.update(m.toDer(e)),y.finish(),p=y.output.getBytes(),h=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(v["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,a),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,u.getBytes())])])}return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[h,m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,p)])},b.decryptPrivateKeyInfo=function(e,t){var r=null,n={},i=[];if(!m.validate(e,o,n,i)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}s=m.derToOid(n.encryptionOid),t=b.pbe.getCipher(s,n.encryptionParams,t),n=P.util.createBuffer(n.encryptedData);return t.update(n),r=t.finish()?m.fromDer(t.output):r},b.encryptedPrivateKeyToPem=function(e,t){e={type:"ENCRYPTED PRIVATE KEY",body:m.toDer(e).getBytes()};return P.pem.encode(e,{maxline:t})},b.encryptedPrivateKeyFromPem=function(e){var t=P.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==t.type){e=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw e.headerType=t.type,e}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return m.fromDer(t.body)},b.encryptRsaPrivateKey=function(e,t,r){if(!(r=r||{}).legacy){var n=b.wrapRsaPrivateKey(b.privateKeyToAsn1(e)),n=b.encryptPrivateKeyInfo(n,t,r);return b.encryptedPrivateKeyToPem(n)}var i,s,o,a;switch(r.algorithm){case"aes128":i="AES-128-CBC",s=P.random.getBytesSync(o=16),a=P.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",o=24,s=P.random.getBytesSync(16),a=P.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",o=32,s=P.random.getBytesSync(16),a=P.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",o=24,s=P.random.getBytesSync(8),a=P.des.createEncryptionCipher;break;case"des":i="DES-CBC",s=P.random.getBytesSync(o=8),a=P.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}t=a(P.pbe.opensslDeriveBytes(t,s.substr(0,8),o));t.start(s),t.update(m.toDer(b.privateKeyToAsn1(e))),t.finish();t={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:P.util.bytesToHex(s).toUpperCase()},body:t.output.getBytes()};return P.pem.encode(t)},b.decryptRsaPrivateKey=function(e,t){var r,n,i,s=null,o=P.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==o.type&&"PRIVATE KEY"!==o.type&&"RSA PRIVATE KEY"!==o.type)throw(i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=i;if(o.procType&&"ENCRYPTED"===o.procType.type){switch(o.dekInfo.algorithm){case"DES-CBC":r=8,n=P.des.createDecryptionCipher;break;case"DES-EDE3-CBC":r=24,n=P.des.createDecryptionCipher;break;case"AES-128-CBC":r=16,n=P.aes.createDecryptionCipher;break;case"AES-192-CBC":r=24,n=P.aes.createDecryptionCipher;break;case"AES-256-CBC":r=32,n=P.aes.createDecryptionCipher;break;case"RC2-40-CBC":r=5,n=function(e){return P.rc2.createDecryptionCipher(e,40)};break;case"RC2-64-CBC":r=8,n=function(e){return P.rc2.createDecryptionCipher(e,64)};break;case"RC2-128-CBC":r=16,n=function(e){return P.rc2.createDecryptionCipher(e,128)};break;default:throw(i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+o.dekInfo.algorithm+'".')).algorithm=o.dekInfo.algorithm,i}var a=P.util.hexToBytes(o.dekInfo.parameters),e=n(P.pbe.opensslDeriveBytes(t,a.substr(0,8),r));if(e.start(a),e.update(P.util.createBuffer(o.body)),!e.finish())return s;s=e.output.getBytes()}else s=o.body;return s=null!==(s="ENCRYPTED PRIVATE KEY"===o.type?b.decryptPrivateKeyInfo(m.fromDer(s),t):m.fromDer(s))?b.privateKeyFromAsn1(s):s},b.pbe.generatePkcs12Key=function(e,t,r,n,i,s){if(null==s){if(!("sha1"in P.md))throw new Error('"sha1" hash algorithm unavailable.');s=P.md.sha1.create()}var o=s.digestLength,a=s.blockLength,c=new P.util.ByteBuffer,u=new P.util.ByteBuffer;if(null!=e){for(R=0;R<e.length;R++)u.putInt16(e.charCodeAt(R));u.putInt16(0)}var h=u.length(),l=t.length(),d=new P.util.ByteBuffer;d.fillWithByte(r,a);var f=a*Math.ceil(l/a),p=new P.util.ByteBuffer;for(R=0;R<f;R++)p.putByte(t.at(R%l));var y=a*Math.ceil(h/a),g=new P.util.ByteBuffer;for(R=0;R<y;R++)g.putByte(u.at(R%h));var m=p;m.putBuffer(g);for(var b=Math.ceil(i/o),v=1;v<=b;v++){var w=new P.util.ByteBuffer;w.putBytes(d.bytes()),w.putBytes(m.bytes());for(var _=0;_<n;_++)s.start(),s.update(w.getBytes()),w=s.digest();var E=new P.util.ByteBuffer;for(R=0;R<a;R++)E.putByte(w.at(R%o));for(var S=Math.ceil(l/a)+Math.ceil(h/a),C=new P.util.ByteBuffer,A=0;A<S;A++){for(var I=new P.util.ByteBuffer(m.getBytes(a)),T=511,R=E.length()-1;0<=R;R--)T>>=8,T+=E.at(R)+I.at(R),I.setAt(R,255&T);C.putBuffer(I)}m=C,c.putBuffer(w)}return c.truncate(c.length()-i),c},b.pbe.getCipher=function(e,t,r){switch(e){case b.oids.pkcs5PBES2:return b.pbe.getCipherForPBES2(e,t,r);case b.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case b.oids["pbewithSHAAnd40BitRC2-CBC"]:return b.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}},b.pbe.getCipherForPBES2=function(e,t,r){var n={},i=[];if(!m.validate(t,c,n,i))throw(a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=i,a;if((e=m.derToOid(n.kdfOid))!==b.oids.pkcs5PBKDF2)throw(a=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=e,a.supportedOids=["pkcs5PBKDF2"],a;if((e=m.derToOid(n.encOid))!==b.oids["aes128-CBC"]&&e!==b.oids["aes192-CBC"]&&e!==b.oids["aes256-CBC"]&&e!==b.oids["des-EDE3-CBC"]&&e!==b.oids.desCBC)throw(a=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=e,a.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],a;var s,o,i=n.kdfSalt,a=(a=P.util.createBuffer(n.kdfIterationCount)).getInt(a.length()<<3);switch(b.oids[e]){case"aes128-CBC":s=16,o=P.aes.createDecryptionCipher;break;case"aes192-CBC":s=24,o=P.aes.createDecryptionCipher;break;case"aes256-CBC":s=32,o=P.aes.createDecryptionCipher;break;case"des-EDE3-CBC":s=24,o=P.des.createDecryptionCipher;break;case"desCBC":s=8,o=P.des.createDecryptionCipher}e=l(n.prfOid),e=P.pkcs5.pbkdf2(r,i,a,s,e),n=n.encIv,e=o(e);return e.start(n),e},b.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},i=[];if(!m.validate(t,h,n,i))throw(c=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=i,c;var s,o,a,c,u=P.util.createBuffer(n.salt),t=(t=P.util.createBuffer(n.iterations)).getInt(t.length()<<3);switch(e){case b.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:s=24,o=8,a=P.des.startDecrypting;break;case b.oids["pbewithSHAAnd40BitRC2-CBC"]:s=5,o=8,a=function(e,t){e=P.rc2.createDecryptionCipher(e,40);return e.start(t,null),e};break;default:throw(c=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=e,c}i=l(n.prfOid),n=b.pbe.generatePkcs12Key(r,u,1,t,s,i);return i.start(),a(n,b.pbe.generatePkcs12Key(r,u,2,t,o,i))},b.pbe.opensslDeriveBytes=function(e,t,r,n){if(null==n){if(!("md5"in P.md))throw new Error('"md5" hash algorithm unavailable.');n=P.md.md5.create()}for(var i=[a(n,e+(t=null===t?"":t))],s=16,o=1;s<r;++o,s+=16)i.push(a(n,i[o-1]+e+t));return i.join("").substr(0,r)}},98960:(e,t,r)=>{var v=r(3832);r(36607),r(28991),r(97116);var w,n=v.pkcs5=v.pkcs5||{};v.util.isNodejs&&!v.options.usePureJavaScript&&(w=r(25819)),e.exports=v.pbkdf2=n.pbkdf2=function(e,t,r,n,i,s){if("function"==typeof i&&(s=i,i=null),v.util.isNodejs&&!v.options.usePureJavaScript&&w.pbkdf2&&(null===i||"object"!=typeof i)&&(4<w.pbkdf2Sync.length||!i||"sha1"===i))return"string"!=typeof i&&(i="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),s?4===w.pbkdf2Sync.length?w.pbkdf2(e,t,r,n,function(e,t){return e?s(e):void s(null,t.toString("binary"))}):w.pbkdf2(e,t,r,n,i,function(e,t){return e?s(e):void s(null,t.toString("binary"))}):(4===w.pbkdf2Sync.length?w.pbkdf2Sync(e,t,r,n):w.pbkdf2Sync(e,t,r,n,i)).toString("binary");if("string"==typeof(i=null==i?"sha1":i)){if(!(i in v.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=v.md[i].create()}var o=i.digestLength;if(4294967295*o<n){var a=new Error("Derived key is too long.");if(s)return s(a);throw a}var c=Math.ceil(n/o),u=n-(c-1)*o,h=v.hmac.create();h.start(i,e);var l,d,f="";if(!s){for(var p=1;p<=c;++p){h.start(null,null),h.update(t),h.update(v.util.int32ToBytes(p));for(var y=d=h.digest().getBytes(),g=2;g<=r;++g)h.start(null,null),h.update(d),l=h.digest().getBytes(),y=v.util.xorBytes(y,l,o),d=l;f+=p<c?y:y.substr(0,u)}return f}function m(){if(c<p)return s(null,f);h.start(null,null),h.update(t),h.update(v.util.int32ToBytes(p)),y=d=h.digest().getBytes(),g=2,b()}function b(){if(g<=r)return h.start(null,null),h.update(d),l=h.digest().getBytes(),y=v.util.xorBytes(y,l,o),d=l,++g,v.util.setImmediate(b);f+=p<c?y:y.substr(0,u),++p,m()}p=1,m()}},26953:(e,t,r)=>{var y=r(3832);r(97116);e=e.exports=y.pem=y.pem||{};function s(e){function t(e,t){return" "+t}for(var r=e.name+": ",n=[],i=0;i<e.values.length;++i)n.push(e.values[i].replace(/^(\S+\r\n)/,t));r+=n.join(",")+"\r\n";for(var s,o=0,a=-1,i=0;i<r.length;++i,++o)65<o&&-1!==a?(r=","===(s=r[a])?(++a,r.substr(0,a)+"\r\n "+r.substr(a)):r.substr(0,a)+"\r\n"+s+r.substr(a+1),o=i-a-1,a=-1,++i):" "!==r[i]&&"\t"!==r[i]&&","!==r[i]||(a=i);return r}e.encode=function(e,t){t=t||{};var r,n="-----BEGIN "+e.type+"-----\r\n";if(e.procType&&(n+=s(r={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]})),e.contentDomain&&(n+=s(r={name:"Content-Domain",values:[e.contentDomain]})),e.dekInfo&&(r={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&r.values.push(e.dekInfo.parameters),n+=s(r)),e.headers)for(var i=0;i<e.headers.length;++i)n+=s(e.headers[i]);return e.procType&&(n+="\r\n"),(n+=y.util.encode64(e.body,t.maxline||64)+"\r\n")+"-----END "+e.type+"-----\r\n"},e.decode=function(e){for(var t,r=[],n=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,i=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,s=/\r?\n/;t=n.exec(e);){var o={type:t[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:y.util.decode64(t[3])};if(r.push(o),t[2]){for(var a=t[2].split(s),c=0;t&&c<a.length;){for(var u=a[c].replace(/\s+$/,""),h=c+1;h<a.length;++h){var l=a[h];if(!/\s/.test(l[0]))break;u+=l,c=h}if(t=u.match(i)){for(var d={name:t[1],values:[]},f=t[2].split(","),p=0;p<f.length;++p)d.values.push(f[p].replace(/^\s+/,""));if(o.procType)if(o.contentDomain||"Content-Domain"!==d.name)if(o.dekInfo||"DEK-Info"!==d.name)o.headers.push(d);else{if(0===d.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');o.dekInfo={algorithm:f[0],parameters:f[1]||null}}else o.contentDomain=f[0]||"";else{if("Proc-Type"!==d.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==d.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');o.procType={version:f[0],type:f[1]}}}++c}if("ENCRYPTED"===o.procType&&!o.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===r.length)throw new Error("Invalid PEM formatted message.");return r}},18936:(e,t,r)=>{var v=r(3832);r(97116),r(49563),r(137);e=e.exports=v.pkcs1=v.pkcs1||{};function w(e,t,r){r=r||v.md.sha1.create();for(var n="",i=Math.ceil(t/r.digestLength),s=0;s<i;++s){var o=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,255&s);r.start(),r.update(e+o),n+=r.digest().getBytes()}return n.substring(0,t)}e.encode_rsa_oaep=function(e,t,r){var n,i;"string"==typeof r?(c=r,n=arguments[3]||void 0,i=arguments[4]||void 0):r&&(c=r.label||void 0,n=r.seed||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md)),i?i.start():i=v.md.sha1.create();var s=s||i,o=Math.ceil(e.n.bitLength()/8),a=o-2*i.digestLength-2;if(t.length>a)throw(d=new Error("RSAES-OAEP input message length is too long.")).length=t.length,d.maxLength=a,d;i.update(c=c||"","raw");for(var c=i.digest(),u="",h=a-t.length,l=0;l<h;l++)u+="\0";var d,c=c.getBytes()+u+""+t;if(n){if(n.length!==i.digestLength)throw(d=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=n.length,d.digestLength=i.digestLength,d}else n=v.random.getBytes(i.digestLength);o=w(n,o-i.digestLength-1,s),c=v.util.xorBytes(c,o,c.length),s=w(c,i.digestLength,s);return"\0"+v.util.xorBytes(n,s,n.length)+c},e.decode_rsa_oaep=function(e,t,r){var n;"string"==typeof r?(u=r,n=arguments[3]||void 0):r&&(u=r.label||void 0,n=r.md||void 0,r.mgf1&&r.mgf1.md&&(h=r.mgf1.md));var i=Math.ceil(e.n.bitLength()/8);if(t.length!==i)throw(f=new Error("RSAES-OAEP encoded message length is invalid.")).length=t.length,f.expectedLength=i,f;if(void 0===n?n=v.md.sha1.create():n.start(),h=h||n,i<2*n.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n.update(u=u||"","raw");for(var s=n.digest().getBytes(),o=t.charAt(0),a=t.substring(1,n.digestLength+1),c=t.substring(1+n.digestLength),u=w(c,n.digestLength,h),h=w(v.util.xorBytes(a,u,a.length),i-n.digestLength-1,h),l=v.util.xorBytes(c,h,c.length),d=l.substring(0,n.digestLength),f="\0"!==o,p=0;p<n.digestLength;++p)f|=s.charAt(p)!==d.charAt(p);for(var y=1,g=n.digestLength,m=n.digestLength;m<l.length;m++){var b=l.charCodeAt(m);f|=b&(y?65534:0),g+=y&=1&b^1}if(f||1!==l.charCodeAt(g))throw new Error("Invalid RSAES-OAEP padding.");return l.substring(g+1)}},79437:(e,t,r)=>{var d=r(3832);r(8925),r(3068),r(33480),r(66270),r(26953),r(95496),r(49563),r(97116),r(25414);var f=d.asn1,s=e.exports=d.pkcs7=d.pkcs7||{};function p(e){var t,r,n,i,s;return e.type===d.pki.oids.contentType?t=f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(e.value).getBytes()):e.type===d.pki.oids.messageDigest?t=f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,e.value.bytes()):e.type===d.pki.oids.signingTime&&(r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),"string"==typeof(s=e.value)&&(i=Date.parse(s),s=isNaN(i)?13===s.length?f.utcTimeToDate(s):f.generalizedTimeToDate(s):new Date(i)),t=r<=s&&s<n?f.create(f.Class.UNIVERSAL,f.Type.UTCTIME,!1,f.dateToUtcTime(s)):f.create(f.Class.UNIVERSAL,f.Type.GENERALIZEDTIME,!1,f.dateToGeneralizedTime(s))),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(e.type).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.SET,!0,[t])])}function n(e,t,r){var n={};if(!f.validate(t,r,n,[])){r=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw r.errors=r}if(f.derToOid(n.contentType)!==d.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var i="";if(d.util.isArray(n.encryptedContent))for(var s=0;s<n.encryptedContent.length;++s){if(n.encryptedContent[s].type!==f.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");i+=n.encryptedContent[s].value}else i=n.encryptedContent;e.encryptedContent={algorithm:f.derToOid(n.encAlgorithm),parameter:d.util.createBuffer(n.encParameter.value),content:d.util.createBuffer(i)}}if(n.content){if(i="",d.util.isArray(n.content))for(s=0;s<n.content.length;++s){if(n.content[s].type!==f.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");i+=n.content[s].value}else i=n.content;e.content=d.util.createBuffer(i)}return e.version=n.version.charCodeAt(0),e.rawCapture=n}function i(e){if(void 0===e.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===e.content){var t;switch(e.encryptedContent.algorithm){case d.pki.oids["aes128-CBC"]:case d.pki.oids["aes192-CBC"]:case d.pki.oids["aes256-CBC"]:t=d.aes.createDecryptionCipher(e.encryptedContent.key);break;case d.pki.oids.desCBC:case d.pki.oids["des-EDE3-CBC"]:t=d.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}s.messageFromPem=function(e){var t=d.pem.decode(e)[0];if("PKCS7"!==t.type){e=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw e.headerType=t.type,e}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");t=f.fromDer(t.body);return s.messageFromAsn1(t)},s.messageToPem=function(e,t){e={type:"PKCS7",body:f.toDer(e.toAsn1()).getBytes()};return d.pem.encode(e,{maxline:t})},s.messageFromAsn1=function(e){var t={},r=[];if(!f.validate(e,s.asn1.contentInfoValidator,t,r)){e=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw e.errors=r,e}var n,i=f.derToOid(t.contentType);switch(i){case d.pki.oids.envelopedData:n=s.createEnvelopedData();break;case d.pki.oids.encryptedData:n=s.createEncryptedData();break;case d.pki.oids.signedData:n=s.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+i+" is not (yet) supported.")}return n.fromAsn1(t.content.value[0]),n},s.createSignedData=function(){var l=null;return l={type:d.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(e){if(n(l,e,s.asn1.signedDataValidator),l.certificates=[],l.crls=[],l.digestAlgorithmIdentifiers=[],l.contentInfo=null,l.signerInfos=[],l.rawCapture.certificates)for(var t=l.rawCapture.certificates.value,r=0;r<t.length;++r)l.certificates.push(d.pki.certificateFromAsn1(t[r]))},toAsn1:function(){l.contentInfo||l.sign();for(var e=[],t=0;t<l.certificates.length;++t)e.push(d.pki.certificateToAsn1(l.certificates[t]));var r=[],n=f.create(f.Class.CONTEXT_SPECIFIC,0,!0,[f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(l.version).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.SET,!0,l.digestAlgorithmIdentifiers),l.contentInfo])]);return 0<e.length&&n.value[0].value.push(f.create(f.Class.CONTEXT_SPECIFIC,0,!0,e)),0<r.length&&n.value[0].value.push(f.create(f.Class.CONTEXT_SPECIFIC,1,!0,r)),n.value[0].value.push(f.create(f.Class.UNIVERSAL,f.Type.SET,!0,l.signerInfos)),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(l.type).getBytes()),n])},addSigner:function(e){var t=e.issuer,r=e.serialNumber;e.certificate&&(t=(n="string"==typeof(n=e.certificate)?d.pki.certificateFromPem(n):n).issuer.attributes,r=n.serialNumber);var n=e.key;if(!n)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof n&&(n=d.pki.privateKeyFromPem(n));var i=e.digestAlgorithm||d.pki.oids.sha1;switch(i){case d.pki.oids.sha1:case d.pki.oids.sha256:case d.pki.oids.sha384:case d.pki.oids.sha512:case d.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+i)}var s=e.authenticatedAttributes||[];if(0<s.length){for(var o=!1,a=!1,c=0;c<s.length;++c){var u=s[c];if(o||u.type!==d.pki.oids.contentType){if(!a&&u.type===d.pki.oids.messageDigest&&(a=!0,o))break}else if(o=!0,a)break}if(!o||!a)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}l.signers.push({key:n,version:1,issuer:t,serialNumber:r,digestAlgorithm:i,signatureAlgorithm:d.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:s,unauthenticatedAttributes:[]})},sign:function(e){var t;e=e||{},"object"==typeof l.content&&null!==l.contentInfo||(l.contentInfo=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(d.pki.oids.data).getBytes())]),"content"in l&&(l.content instanceof d.util.ByteBuffer?t=l.content.bytes():"string"==typeof l.content&&(t=d.util.encodeUtf8(l.content)),e.detached?l.detachedContent=f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,t):l.contentInfo.value.push(f.create(f.Class.CONTEXT_SPECIFIC,0,!0,[f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,t)])))),0!==l.signers.length&&function(e){var t;if(!(t=l.detachedContent||(t=l.contentInfo.value[1]).value[0]))throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var r,n=f.derToOid(l.contentInfo.value[0].value),i=f.toDer(t);for(r in i.getByte(),f.getBerValueLength(i),i=i.getBytes(),e)e[r].start().update(i);for(var s=new Date,o=0;o<l.signers.length;++o){var a=l.signers[o];if(0===a.authenticatedAttributes.length){if(n!==d.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{a.authenticatedAttributesAsn1=f.create(f.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var c=f.create(f.Class.UNIVERSAL,f.Type.SET,!0,[]),u=0;u<a.authenticatedAttributes.length;++u){var h=a.authenticatedAttributes[u];h.type===d.pki.oids.messageDigest?h.value=e[a.digestAlgorithm].digest():h.type===d.pki.oids.signingTime&&(h.value||(h.value=s)),c.value.push(p(h)),a.authenticatedAttributesAsn1.value.push(p(h))}i=f.toDer(c).getBytes(),a.md.start().update(i)}a.signature=a.key.sign(a.md,"RSASSA-PKCS1-V1_5")}l.signerInfos=function(e){for(var t=[],r=0;r<e.length;++r)t.push(function(e){var t=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(e.version).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[d.pki.distinguishedNameToAsn1({attributes:e.issuer}),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,d.util.hexToBytes(e.serialNumber))]),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(e.digestAlgorithm).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(e.signatureAlgorithm).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")])),t.value.push(f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,e.signature)),0<e.unauthenticatedAttributes.length){for(var r=f.create(f.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<e.unauthenticatedAttributes.length;++n){var i=e.unauthenticatedAttributes[n];r.values.push(p(i))}t.value.push(r)}return t}(e[r]));return t}(l.signers)}(function(){for(var e,t={},r=0;r<l.signers.length;++r){var n=l.signers[r];(e=n.digestAlgorithm)in t||(t[e]=d.md[d.pki.oids[e]].create()),0===n.authenticatedAttributes.length?n.md=t[e]:n.md=d.md[d.pki.oids[e]].create()}for(e in l.digestAlgorithmIdentifiers=[],t)l.digestAlgorithmIdentifiers.push(f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(e).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")]));return t}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(e){"string"==typeof e&&(e=d.pki.certificateFromPem(e)),l.certificates.push(e)},addCertificateRevokationList:function(e){throw new Error("PKCS#7 CRL support not yet implemented.")}}},s.createEncryptedData=function(){var t=null;return t={type:d.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:d.pki.oids["aes256-CBC"]},fromAsn1:function(e){n(t,e,s.asn1.encryptedDataValidator)},decrypt:function(e){void 0!==e&&(t.encryptedContent.key=e),i(t)}}},s.createEnvelopedData=function(){var a=null;return a={type:d.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:d.pki.oids["aes256-CBC"]},fromAsn1:function(e){e=n(a,e,s.asn1.envelopedDataValidator);a.recipients=function(e){for(var t=[],r=0;r<e.length;++r)t.push(function(e){var t={},r=[];if(f.validate(e,s.asn1.recipientInfoValidator,t,r))return{version:t.version.charCodeAt(0),issuer:d.pki.RDNAttributesAsArray(t.issuer),serialNumber:d.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:f.derToOid(t.encAlgorithm),parameter:t.encParameter.value,content:t.encKey}};throw(t=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.")).errors=r,t}(e[r]));return t}(e.recipientInfos.value)},toAsn1:function(){return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(a.type).getBytes()),f.create(f.Class.CONTEXT_SPECIFIC,0,!0,[f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(a.version).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.SET,!0,function(e){for(var t,r=[],n=0;n<e.length;++n)r.push((t=e[n],f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(t.version).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[d.pki.distinguishedNameToAsn1({attributes:t.issuer}),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,d.util.hexToBytes(t.serialNumber))]),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(t.encryptedContent.algorithm).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")]),f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,t.encryptedContent.content)])));return r}(a.recipients)),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,(e=a.encryptedContent,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(d.pki.oids.data).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(e.algorithm).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,e.parameter.getBytes())]),f.create(f.Class.CONTEXT_SPECIFIC,0,!0,[f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,e.content.getBytes())])]))])])]);var e},findRecipient:function(e){for(var t=e.issuer.attributes,r=0;r<a.recipients.length;++r){var n=a.recipients[r],i=n.issuer;if(n.serialNumber===e.serialNumber&&i.length===t.length){for(var s=!0,o=0;o<t.length;++o)if(i[o].type!==t[o].type||i[o].value!==t[o].value){s=!1;break}if(s)return n}}return null},decrypt:function(e,t){if(void 0===a.encryptedContent.key&&void 0!==e&&void 0!==t)switch(e.encryptedContent.algorithm){case d.pki.oids.rsaEncryption:case d.pki.oids.desCBC:var r=t.decrypt(e.encryptedContent.content);a.encryptedContent.key=d.util.createBuffer(r);break;default:throw new Error("Unsupported asymmetric cipher, OID "+e.encryptedContent.algorithm)}i(a)},addRecipient:function(e){a.recipients.push({version:0,issuer:e.issuer.attributes,serialNumber:e.serialNumber,encryptedContent:{algorithm:d.pki.oids.rsaEncryption,key:e.publicKey}})},encrypt:function(e,t){if(void 0===a.encryptedContent.content){var r,n,i;switch(t=t||a.encryptedContent.algorithm,e=e||a.encryptedContent.key,t){case d.pki.oids["aes128-CBC"]:n=r=16,i=d.aes.createEncryptionCipher;break;case d.pki.oids["aes192-CBC"]:r=24,n=16,i=d.aes.createEncryptionCipher;break;case d.pki.oids["aes256-CBC"]:r=32,n=16,i=d.aes.createEncryptionCipher;break;case d.pki.oids["des-EDE3-CBC"]:r=24,n=8,i=d.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+t)}if(void 0===e)e=d.util.createBuffer(d.random.getBytes(r));else if(e.length()!=r)throw new Error("Symmetric key has wrong length; got "+e.length()+" bytes, expected "+r+".");a.encryptedContent.algorithm=t,a.encryptedContent.key=e,a.encryptedContent.parameter=d.util.createBuffer(d.random.getBytes(n));e=i(e);if(e.start(a.encryptedContent.parameter.copy()),e.update(a.content),!e.finish())throw new Error("Symmetric encryption failed.");a.encryptedContent.content=e.output}for(var s=0;s<a.recipients.length;++s){var o=a.recipients[s];if(void 0===o.encryptedContent.content){if(o.encryptedContent.algorithm!==d.pki.oids.rsaEncryption)throw new Error("Unsupported asymmetric cipher, OID "+o.encryptedContent.algorithm);o.encryptedContent.content=o.encryptedContent.key.encrypt(a.encryptedContent.key.data)}}}}}},95496:(e,t,r)=>{var n=r(3832);r(3068),r(97116);var i=n.asn1,r=e.exports=n.pkcs7asn1=n.pkcs7asn1||{};n.pkcs7=n.pkcs7||{},n.pkcs7.asn1=r;e={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};r.contentInfoValidator=e;n={name:"EncryptedContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};r.envelopedDataValidator={name:"EnvelopedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(n)},r.encryptedDataValidator={name:"EncryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"}].concat(n)};n={name:"SignerInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};r.signedDataValidator={name:"SignedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},e,{name:"SignedData.Certificates",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,capture:"signerInfos",optional:!0,value:[n]}]},r.recipientInfoValidator={name:"RecipientInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},29654:(e,t,r)=>{var d,u,n,i,f=r(3832);function p(e,t,r,n){var i=y(e,t),s=(o=i.bitLength())<=100?27:o<=150?18:o<=200?15:o<=250?12:o<=300?9:o<=350?8:o<=400?7:o<=500?6:o<=600?5:o<=800?4:o<=1250?3:2,o=10;(function e(t,r,n,i,s,o,a){var c=+new Date;do{if((t=t.bitLength()>r?y(r,n):t).isProbablePrime(s))return a(null,t)}while(t.dAddOffset(u[i++%8],0),o<0||+new Date-c<o);f.util.setImmediate(function(){e(t,r,n,i,s,o,a)})})(i,e,t,0,s="millerRabinTests"in r?r.millerRabinTests:s,o="maxBlockTime"in r?r.maxBlockTime:o,n)}function y(e,t){t=new d(e,t),e-=1;return t.testBit(e)||t.bitwiseTo(d.ONE.shiftLeft(e),i,t),t.dAddOffset(31-t.mod(n).byteValue(),0),t}r(97116),r(15764),r(49563),f.prime?e.exports=f.prime:(e=e.exports=f.prime=f.prime||{},d=f.jsbn.BigInteger,u=[6,4,2,4,2,4,6,2],(n=new d(null)).fromInt(30),i=function(e,t){return e|t},e.generateProbablePrime=function(e,t,r){"function"==typeof t&&(r=t,t={});var n=(t=t||{}).algorithm||"PRIMEINC";(n="string"==typeof n?{name:n}:n).options=n.options||{};var i=t.prng||f.random,s={nextBytes:function(e){for(var t=i.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}};if("PRIMEINC"===n.name)return t=e,e=s,s=n.options,r=r,("workers"in s?function(s,o,e,a){if("undefined"==typeof Worker)return p(s,o,e,a);var c=y(s,o),r=e.workers,u=e.workLoad||100,h=30*u/8,l=e.workerScript||"forge/prime.worker.js";if(-1===r)return f.util.estimateCores(function(e,t){r=(t=e?2:t)-1,n()});function n(){r=Math.max(1,r);for(var n=[],e=0;e<r;++e)n[e]=new Worker(l);for(e=0;e<r;++e)n[e].addEventListener("message",t);var i=!1;function t(e){if(!i){var t=e.data;if(t.found){for(var r=0;r<n.length;++r)n[r].terminate();return i=!0,a(null,new d(t.prime,16))}t=(c=c.bitLength()>s?y(s,o):c).toString(16);e.target.postMessage({hex:t,workLoad:u}),c.dAddOffset(h,0)}}}n()}:p)(t,e,s,r);throw new Error("Invalid prime generation algorithm: "+n.name)})},74933:(e,t,r)=>{var d=r(3832);r(97116);var s=null;!d.util.isNodejs||d.options.usePureJavaScript||process.versions["node-webkit"]||(s=r(25819)),(e.exports=d.prng=d.prng||{}).create=function(e){for(var u={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},t=e.md,r=new Array(32),n=0;n<32;++n)r[n]=t.create();function h(){u.reseeds=4294967295===u.reseeds?0:u.reseeds+1;var e=u.plugin.md.create();e.update(u.keyBytes);for(var t=1,r=0;r<32;++r)u.reseeds%t==0&&(e.update(u.pools[r].digest().getBytes()),u.pools[r].start()),t<<=1;u.keyBytes=e.digest().getBytes(),e.start(),e.update(u.keyBytes);var n=e.digest().getBytes();u.key=u.plugin.formatKey(u.keyBytes),u.seed=u.plugin.formatSeed(n),u.generated=0}function i(e){var t=null,r=d.util.globalScope,n=r.crypto||r.msCrypto;n&&n.getRandomValues&&(t=function(e){return n.getRandomValues(e)});var i=d.util.createBuffer();if(t)for(;i.length()<e;){var s=Math.max(1,Math.min(e-i.length(),65536)/4),o=new Uint32Array(Math.floor(s));try{t(o);for(var a=0;a<o.length;++a)i.putInt32(o[a])}catch(e){if(!("undefined"!=typeof QuotaExceededError&&e instanceof QuotaExceededError))throw e}}if(i.length()<e)for(var c,u,h,l=Math.floor(65536*Math.random());i.length()<e;)for(u=16807*(65535&l),u+=(32767&(c=16807*(l>>16)))<<16,l=4294967295&(2147483647&(u+=c>>15))+(u>>31),a=0;a<3;++a)h=l>>>(a<<3),h^=Math.floor(256*Math.random()),i.putByte(String.fromCharCode(255&h));return i.getBytes(e)}return u.pools=r,u.pool=0,u.generate=function(r,n){if(!n)return u.generateSync(r);var i=u.plugin.cipher,s=u.plugin.increment,o=u.plugin.formatKey,a=u.plugin.formatSeed,c=d.util.createBuffer();u.key=null,function e(t){if(t)return n(t);if(c.length()>=r)return n(null,c.getBytes(r));if(1048575<u.generated&&(u.key=null),null===u.key)return d.util.nextTick(function(){!function(r){if(32<=u.pools[0].messageLength)return h(),r();var e=32-u.pools[0].messageLength<<5;u.seedFile(e,function(e,t){return e?r(e):(u.collect(t),h(),void r())})}(e)});t=i(u.key,u.seed);u.generated+=t.length,c.putBytes(t),u.key=o(i(u.key,s(u.seed))),u.seed=a(i(u.key,u.seed)),d.util.setImmediate(e)}()},u.generateSync=function(e){var t=u.plugin.cipher,r=u.plugin.increment,n=u.plugin.formatKey,i=u.plugin.formatSeed;u.key=null;for(var s=d.util.createBuffer();s.length()<e;){1048575<u.generated&&(u.key=null),null===u.key&&function(){if(32<=u.pools[0].messageLength)return h();var e=32-u.pools[0].messageLength<<5;u.collect(u.seedFileSync(e)),h()}();var o=t(u.key,u.seed);u.generated+=o.length,s.putBytes(o),u.key=n(t(u.key,r(u.seed))),u.seed=i(t(u.key,u.seed))}return s.getBytes(e)},s?(u.seedFile=function(e,r){s.randomBytes(e,function(e,t){return e?r(e):void r(null,t.toString())})},u.seedFileSync=function(e){return s.randomBytes(e).toString()}):(u.seedFile=function(e,t){try{t(null,i(e))}catch(e){t(e)}},u.seedFileSync=i),u.collect=function(e){for(var t=e.length,r=0;r<t;++r)u.pools[u.pool].update(e.substr(r,1)),u.pool=31===u.pool?0:u.pool+1},u.collectInt=function(e,t){for(var r="",n=0;n<t;n+=8)r+=String.fromCharCode(e>>n&255);u.collect(r)},u.registerWorker=function(r){r===self?u.seedFile=function(e,r){self.addEventListener("message",function e(t){t=t.data;t.forge&&t.forge.prng&&(self.removeEventListener("message",e),r(t.forge.prng.err,t.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:e}}})}:r.addEventListener("message",function(e){e=e.data;e.forge&&e.forge.prng&&u.seedFile(e.forge.prng.needed,function(e,t){r.postMessage({forge:{prng:{err:e,bytes:t}}})})})},u}},96007:(e,t,r)=>{var g=r(3832);r(49563),r(97116),(e.exports=g.pss=g.pss||{}).create=function(e){var h,l=(e=3===arguments.length?{md:arguments[0],mgf:arguments[1],saltLength:arguments[2]}:e).md,d=e.mgf,f=l.digestLength,p=e.salt||null;if("string"==typeof p&&(p=g.util.createBuffer(p)),"saltLength"in e)h=e.saltLength;else{if(null===p)throw new Error("Salt length not specified or specific salt not given.");h=p.length()}if(null!==p&&p.length()!==h)throw new Error("Given salt length does not match length of given salt.");var y=e.prng||g.random;return{encode:function(e,t){var r=t-1,n=Math.ceil(r/8),i=e.digest().getBytes();if(n<f+h+2)throw new Error("Message is too long to encrypt.");t=null===p?y.getBytesSync(h):p.bytes(),e=new g.util.ByteBuffer;e.fillWithByte(0,8),e.putBytes(i),e.putBytes(t),l.start(),l.update(e.getBytes());i=l.digest().getBytes(),e=new g.util.ByteBuffer;e.fillWithByte(0,n-h-f-2),e.putByte(1),e.putBytes(t);for(var s=e.getBytes(),o=n-f-1,a=d.generate(i,o),c="",u=0;u<o;u++)c+=String.fromCharCode(s.charCodeAt(u)^a.charCodeAt(u));r=65280>>8*n-r&255;return(c=String.fromCharCode(c.charCodeAt(0)&~r)+c.substr(1))+i+String.fromCharCode(188)},verify:function(e,t,r){var n=r-1,r=Math.ceil(n/8);if(t=t.substr(-r),r<f+h+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==t.charCodeAt(r-1))throw new Error("Encoded message does not end in 0xBC.");var i=r-f-1,s=t.substr(0,i),t=t.substr(i,f),n=65280>>8*r-n&255;if(0!=(s.charCodeAt(0)&n))throw new Error("Bits beyond keysize not zero as expected.");for(var o=d.generate(t,i),a="",c=0;c<i;c++)a+=String.fromCharCode(s.charCodeAt(c)^o.charCodeAt(c));var a=String.fromCharCode(a.charCodeAt(0)&~n)+a.substr(1),u=r-f-h-2;for(c=0;c<u;c++)if(0!==a.charCodeAt(c))throw new Error("Leftmost octets not zero as expected");if(1!==a.charCodeAt(u))throw new Error("Inconsistent PSS signature, 0x01 marker not found");n=a.substr(-h),r=new g.util.ByteBuffer;return r.fillWithByte(0,8),r.putBytes(e),r.putBytes(n),l.start(),l.update(r.getBytes()),t===l.digest().getBytes()}}}},49563:(l,e,t)=>{var d=t(3832);t(8925),t(41668),t(74933),t(97116),d.random&&d.random.getBytes?l.exports=d.random:function(e){var t={},r=new Array(4),n=d.util.createBuffer();function i(){var r=d.prng.create(t);return r.getBytes=function(e,t){return r.generate(e,t)},r.getBytesSync=function(e){return r.generate(e)},r}t.formatKey=function(e){var t=d.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),d.aes._expandKey(e,!1)},t.formatSeed=function(e){var t=d.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),e},t.cipher=function(e,t){return d.aes._updateBlock(e,t,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(e){return++e[3],e},t.md=d.md.sha256;var s=i(),o=null,a=d.util.globalScope,c=a.crypto||a.msCrypto;if(c&&c.getRandomValues&&(o=function(e){return c.getRandomValues(e)}),d.options.usePureJavaScript||!d.util.isNodejs&&!o){if(s.collectInt(+new Date,32),"undefined"!=typeof navigator){var u="";for(h in navigator)try{"string"==typeof navigator[h]&&(u+=navigator[h])}catch(e){}s.collect(u),u=null}e&&(e().mousemove(function(e){s.collectInt(e.clientX,16),s.collectInt(e.clientY,16)}),e().keypress(function(e){s.collectInt(e.charCode,8)}))}if(d.random)for(var h in s)d.random[h]=s[h];else d.random=s;d.random.createInstance=i,l.exports=d.random}("undefined"!=typeof jQuery?jQuery:null)},69372:(e,t,r)=>{var f=r(3832);r(97116);var o=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],p=[1,2,3,5];e.exports=f.rc2=f.rc2||{},f.rc2.expandKey=function(e,t){t=t||128;for(var r=e="string"==typeof e?f.util.createBuffer(e):e,n=e.length(),t=t,i=Math.ceil(t/8),t=255>>(7&t),s=n;s<128;s++)r.putByte(o[r.at(s-1)+r.at(s-n)&255]);for(r.setAt(128-i,o[r.at(128-i)&t]),s=127-i;0<=s;s--)r.setAt(s,o[r.at(s+1)^r.at(s+i)]);return r};function n(e,t,s){var r,o,a,n=!1,c=null,u=null,h=null,i=[];for(e=f.rc2.expandKey(e,t),o=0;o<64;o++)i.push(e.getInt16Le());var l=s?(r=function(e){for(o=0;o<4;o++)e[o]+=i[a]+(e[(o+3)%4]&e[(o+2)%4])+(~e[(o+3)%4]&e[(o+1)%4]),e[o]=(t=e[o])<<(r=p[o])&65535|(65535&t)>>16-r,a++;var t,r},function(e){for(o=0;o<4;o++)e[o]+=i[63&e[(o+3)%4]]}):(r=function(e){for(o=3;0<=o;o--)e[o]=(65535&(t=e[o]))>>(r=p[o])|t<<16-r&65535,e[o]-=i[a]+(e[(o+3)%4]&e[(o+2)%4])+(~e[(o+3)%4]&e[(o+1)%4]),a--;var t,r},function(e){for(o=3;0<=o;o--)e[o]-=i[63&e[(o+3)%4]]}),d=null;return d={start:function(e,t){e&&"string"==typeof e&&(e=f.util.createBuffer(e)),n=!1,c=f.util.createBuffer(),u=t||new f.util.createBuffer,h=e,d.output=u},update:function(e){for(n||c.putBuffer(e);8<=c.length();)!function(e){var t=[];for(o=0;o<4;o++){var r=c.getInt16Le();null!==h&&(s?r^=h.getInt16Le():h.putInt16Le(r)),t.push(65535&r)}a=s?0:63;for(var n=0;n<e.length;n++)for(var i=0;i<e[n][0];i++)e[n][1](t);for(o=0;o<4;o++)null!==h&&(s?h.putInt16Le(t[o]):t[o]^=h.getInt16Le()),u.putInt16Le(t[o])}([[5,r],[1,l],[6,r],[1,l],[5,r]])},finish:function(e){var t,r=!0;return s&&(e?r=e(8,c,!s):(t=8===c.length()?8:8-c.length(),c.fillWithByte(t,t))),r&&(n=!0,d.update()),!s&&(r=0===c.length())&&(e?r=e(8,u,!s):(e=u.length())<(e=u.at(e-1))?r=!1:u.truncate(e)),r}}}f.rc2.startEncrypting=function(e,t,r){e=f.rc2.createEncryptionCipher(e,128);return e.start(t,r),e},f.rc2.createEncryptionCipher=function(e,t){return n(e,t,!0)},f.rc2.startDecrypting=function(e,t,r){e=f.rc2.createDecryptionCipher(e,128);return e.start(t,r),e},f.rc2.createDecryptionCipher=function(e,t){return n(e,t,!1)}},28095:(e,t,r)=>{var h,l=r(3832);r(3068),r(15764),r(66270),r(18936),r(29654),r(49563),r(97116),void 0===h&&(h=l.jsbn.BigInteger);var o=l.util.isNodejs?r(25819):null,d=l.asn1,a=l.util;l.pki=l.pki||{},e.exports=l.pki.rsa=l.rsa=l.rsa||{};function u(e){if(!(e.algorithm in f.oids)){var t=new Error("Unknown message digest algorithm.");throw t.algorithm=e.algorithm,t}var r=f.oids[e.algorithm],n=d.oidToDer(r).getBytes(),t=d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[]);return(r=d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[])).value.push(d.create(d.Class.UNIVERSAL,d.Type.OID,!1,n)),r.value.push(d.create(d.Class.UNIVERSAL,d.Type.NULL,!1,"")),e=d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,e.digest().getBytes()),t.value.push(r),t.value.push(e),d.toDer(t).getBytes()}function c(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);var n;for(t.dP||(t.dP=t.d.mod(t.p.subtract(h.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(h.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));0<=(n=new h(l.util.bytesToHex(l.random.getBytes(t.n.bitLength()/8)),16)).compareTo(t.n)||!n.gcd(t.n).equals(h.ONE););for(var i=(e=e.multiply(n.modPow(t.e,t.n)).mod(t.n)).mod(t.p).modPow(t.dP,t.p),s=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(s)<0;)i=i.add(t.p);return i.subtract(s).multiply(t.qInv).mod(t.p).multiply(t.q).add(s).multiply(n.modInverse(t.n)).mod(t.n)}var f=l.pki,p=[6,4,2,4,2,4,6,2],y={name:"PrivateKeyInfo",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:d.Class.UNIVERSAL,type:d.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:d.Class.UNIVERSAL,type:d.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},g={name:"RSAPrivateKey",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},s={name:"RSAPublicKey",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},m=l.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:d.Class.UNIVERSAL,type:d.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:d.Class.UNIVERSAL,type:d.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]};function b(e,t,r){var n=l.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){t=new Error("Message is too long for PKCS#1 v1.5 padding.");throw t.length=e.length,t.max=i-11,t}n.putByte(0),n.putByte(r);var s=i-3-e.length;if(0===r||1===r)for(var o=0===r?0:255,a=0;a<s;++a)n.putByte(o);else for(;0<s;){for(var c=0,u=l.random.getBytes(s),a=0;a<s;++a)0===(o=u.charCodeAt(a))?++c:n.putByte(o);s=c}return n.putByte(0),n.putBytes(e),n}function v(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8),s=l.util.createBuffer(e),t=s.getByte(),e=s.getByte();if(0!==t||r&&0!==e&&1!==e||!r&&2!=e||r&&0===e&&void 0===n)throw new Error("Encryption block is invalid.");var o=0;if(0===e){for(var o=i-3-n,a=0;a<o;++a)if(0!==s.getByte())throw new Error("Encryption block is invalid.")}else if(1===e)for(o=0;1<s.length();){if(255!==s.getByte()){--s.read;break}++o}else if(2===e)for(o=0;1<s.length();){if(0===s.getByte()){--s.read;break}++o}if(0!==s.getByte()||o!==i-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}function n(e){e=e.toString(16);"8"<=e[0]&&(e="00"+e);e=l.util.hexToBytes(e);return 1<e.length&&(0===e.charCodeAt(0)&&0==(128&e.charCodeAt(1))||255===e.charCodeAt(0)&&128==(128&e.charCodeAt(1)))?e.substr(1):e}function w(e){return l.util.isNodejs&&"function"==typeof o[e]}function _(e){return void 0!==a.globalScope&&"object"==typeof a.globalScope.crypto&&"object"==typeof a.globalScope.crypto.subtle&&"function"==typeof a.globalScope.crypto.subtle[e]}function E(e){return void 0!==a.globalScope&&"object"==typeof a.globalScope.msCrypto&&"object"==typeof a.globalScope.msCrypto.subtle&&"function"==typeof a.globalScope.msCrypto.subtle[e]}function S(e){for(var t=l.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}f.rsa.encrypt=function(e,t,r){var n=r,i=Math.ceil(t.n.bitLength()/8);!1!==r&&!0!==r?(n=2===r,s=b(e,t,r)):(s=l.util.createBuffer()).putBytes(e);for(var s=new h(s.toHex(),16),n=c(s,t,n).toString(16),o=l.util.createBuffer(),a=i-Math.ceil(n.length/2);0<a;)o.putByte(0),--a;return o.putBytes(l.util.hexToBytes(n)),o.getBytes()},f.rsa.decrypt=function(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var s=new Error("Encrypted message length is invalid.");throw s.length=e.length,s.expected=i,s}e=new h(l.util.createBuffer(e).toHex(),16);if(0<=e.compareTo(t.n))throw new Error("Encrypted message is invalid.");for(var e=c(e,t,r).toString(16),o=l.util.createBuffer(),a=i-Math.ceil(e.length/2);0<a;)o.putByte(0),--a;return o.putBytes(l.util.hexToBytes(e)),!1!==n?v(o.getBytes(),t,r):o.getBytes()},f.rsa.createKeyPairGenerationState=function(e,t,r){e=(e="string"==typeof e?parseInt(e,10):e)||2048;var n=(r=r||{}).prng||l.random,i={nextBytes:function(e){for(var t=n.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}},r=r.algorithm||"PRIMEINC";if("PRIMEINC"!==r)throw new Error("Invalid key generation algorithm: "+r);return(e={algorithm:r,state:0,bits:e,rng:i,eInt:t||65537,e:new h(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null}).e.fromInt(e.eInt),e},f.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new h(null);r.fromInt(30);function n(e,t){return e|t}for(var i,s,o,a=0,c=+new Date,u=0;null===e.keys&&(t<=0||u<t);)0===e.state?(i=(o=null===e.p?e.pBits:e.qBits)-1,0===e.pqState?(e.num=new h(o,e.rng),e.num.testBit(i)||e.num.bitwiseTo(h.ONE.shiftLeft(i),n,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),a=0,++e.pqState):1===e.pqState?e.num.bitLength()>o?e.pqState=0:e.num.isProbablePrime((o=e.num.bitLength())<=100?27:o<=150?18:o<=200?15:o<=250?12:o<=300?9:o<=350?8:o<=400?7:o<=500?6:o<=600?5:o<=800?4:o<=1250?3:2)?++e.pqState:e.num.dAddOffset(p[a++%8],0):2===e.pqState?e.pqState=0===e.num.subtract(h.ONE).gcd(e.e).compareTo(h.ONE)?3:0:3===e.pqState&&(e.pqState=0,null===e.p?e.p=e.num:e.q=e.num,null!==e.p&&null!==e.q&&++e.state,e.num=null)):1===e.state?(e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state):2===e.state?(e.p1=e.p.subtract(h.ONE),e.q1=e.q.subtract(h.ONE),e.phi=e.p1.multiply(e.q1),++e.state):3===e.state?0===e.phi.gcd(e.e).compareTo(h.ONE)?++e.state:(e.p=null,e.q=null,e.state=0):4===e.state?(e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0)):5===e.state&&(s=e.e.modInverse(e.phi),e.keys={privateKey:f.rsa.setPrivateKey(e.n,e.e,s,e.p,e.q,s.mod(e.p1),s.mod(e.q1),e.q.modInverse(e.p)),publicKey:f.rsa.setPublicKey(e.n,e.e)}),u+=(s=+new Date)-c,c=s;return null!==e.keys},f.rsa.generateKeyPair=function(e,t,r,n){if(1===arguments.length?"object"==typeof e?(r=e,e=void 0):"function"==typeof e&&(n=e,e=void 0):2===arguments.length?"number"==typeof e?"function"==typeof t?(n=t,t=void 0):"number"!=typeof t&&(r=t,t=void 0):(r=e,n=t,t=e=void 0):3===arguments.length&&("number"==typeof t?"function"==typeof r&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},void 0===e&&(e=r.bits||2048),void 0===t&&(t=r.e||65537),!l.options.usePureJavaScript&&!r.prng&&256<=e&&e<=16384&&(65537===t||3===t))if(n){if(w("generateKeyPair"))return o.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(e,t,r){return e?n(e):void n(null,{privateKey:f.privateKeyFromPem(r),publicKey:f.publicKeyFromPem(t)})});if(_("generateKey")&&_("exportKey"))return a.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:S(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(e){return a.globalScope.crypto.subtle.exportKey("pkcs8",e.privateKey)}).then(void 0,function(e){n(e)}).then(function(e){e&&(e=f.privateKeyFromAsn1(d.fromDer(l.util.createBuffer(e))),n(null,{privateKey:e,publicKey:f.setRsaPublicKey(e.n,e.e)}))});if(E("generateKey")&&E("exportKey")){var i=a.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:S(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);return i.oncomplete=function(e){e=e.target.result,e=a.globalScope.msCrypto.subtle.exportKey("pkcs8",e.privateKey);e.oncomplete=function(e){e=e.target.result,e=f.privateKeyFromAsn1(d.fromDer(l.util.createBuffer(e)));n(null,{privateKey:e,publicKey:f.setRsaPublicKey(e.n,e.e)})},e.onerror=function(e){n(e)}},void(i.onerror=function(e){n(e)})}}else if(w("generateKeyPairSync")){var s=o.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:f.privateKeyFromPem(s.privateKey),publicKey:f.publicKeyFromPem(s.publicKey)}}s=f.rsa.createKeyPairGenerationState(e,t,r);if(!n)return f.rsa.stepKeyPairGenerationState(s,0),s.keys;!function(n,e,i){"function"==typeof e&&(i=e,e={});var r={algorithm:{name:(e=e||{}).algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};function s(){o(n.pBits,function(e,t){return e?i(e):(n.p=t,null!==n.q?a(e,n.q):void o(n.qBits,a))})}function o(e,t){l.prime.generateProbablePrime(e,r,t)}function a(e,t){if(e)return i(e);if(n.q=t,n.p.compareTo(n.q)<0&&(r=n.p,n.p=n.q,n.q=r),0!==n.p.subtract(h.ONE).gcd(n.e).compareTo(h.ONE))return n.p=null,void s();if(0!==n.q.subtract(h.ONE).gcd(n.e).compareTo(h.ONE))return n.q=null,void o(n.qBits,a);if(n.p1=n.p.subtract(h.ONE),n.q1=n.q.subtract(h.ONE),n.phi=n.p1.multiply(n.q1),0!==n.phi.gcd(n.e).compareTo(h.ONE))return n.p=n.q=null,void s();if(n.n=n.p.multiply(n.q),n.n.bitLength()!==n.bits)return n.q=null,void o(n.qBits,a);var r=n.e.modInverse(n.phi);n.keys={privateKey:f.rsa.setPrivateKey(n.n,n.e,r,n.p,n.q,r.mod(n.p1),r.mod(n.q1),n.q.modInverse(n.p)),publicKey:f.rsa.setPublicKey(n.n,n.e)},i(null,n.keys)}"prng"in e&&(r.prng=e.prng),s()}(s,r,n)},f.setRsaPublicKey=f.rsa.setPublicKey=function(e,t){var n={n:e,e:t,encrypt:function(e,t,r){if("string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===t)t={encode:function(e,t,r){return b(e,t,2).getBytes()}};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={encode:function(e,t){return l.pkcs1.encode_rsa_oaep(t,e,r)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(t))t={encode:function(e){return e}};else if("string"==typeof t)throw new Error('Unsupported encryption scheme: "'+t+'".');e=t.encode(e,n,!0);return f.rsa.encrypt(e,n,!0)},verify:function(e,t,r){"string"==typeof r?r=r.toUpperCase():void 0===r&&(r="RSASSA-PKCS1-V1_5"),"RSASSA-PKCS1-V1_5"===r?r={verify:function(e,t){return t=v(t,n,!0),e===d.fromDer(t).value[1].value}}:"NONE"!==r&&"NULL"!==r&&null!==r||(r={verify:function(e,t){return e===v(t,n,!0)}});t=f.rsa.decrypt(t,n,!0,!1);return r.verify(e,t,n.n.bitLength())}};return n},f.setRsaPrivateKey=f.rsa.setPrivateKey=function(e,t,r,n,i,s,o,a){var c={n:e,e:t,d:r,p:n,q:i,dP:s,dQ:o,qInv:a,decrypt:function(e,t,r){"string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5");e=f.rsa.decrypt(e,c,!1,!1);if("RSAES-PKCS1-V1_5"===t)t={decode:v};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={decode:function(e,t){return l.pkcs1.decode_rsa_oaep(t,e,r)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(t))throw new Error('Unsupported encryption scheme: "'+t+'".');t={decode:function(e){return e}}}return t.decode(e,c,!1)},sign:function(e,t){var r=!1;void 0===(t="string"==typeof t?t.toUpperCase():t)||"RSASSA-PKCS1-V1_5"===t?(t={encode:u},r=1):"NONE"!==t&&"NULL"!==t&&null!==t||(t={encode:function(){return e}},r=1);t=t.encode(e,c.n.bitLength());return f.rsa.encrypt(t,c,r)}};return c},f.wrapRsaPrivateKey=function(e){return d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,d.integerToDer(0).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(f.oids.rsaEncryption).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.NULL,!1,"")]),d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,d.toDer(e).getBytes())])},f.privateKeyFromAsn1=function(e){var t,r,n,i,s,o,a,c={};if(d.validate(e,y,c,a=[])&&(e=d.fromDer(l.util.createBuffer(c.privateKey))),d.validate(e,g,c={},a=[]))return t=l.util.createBuffer(c.privateKeyModulus).toHex(),r=l.util.createBuffer(c.privateKeyPublicExponent).toHex(),n=l.util.createBuffer(c.privateKeyPrivateExponent).toHex(),i=l.util.createBuffer(c.privateKeyPrime1).toHex(),s=l.util.createBuffer(c.privateKeyPrime2).toHex(),o=l.util.createBuffer(c.privateKeyExponent1).toHex(),e=l.util.createBuffer(c.privateKeyExponent2).toHex(),u=l.util.createBuffer(c.privateKeyCoefficient).toHex(),f.setRsaPrivateKey(new h(t,16),new h(r,16),new h(n,16),new h(i,16),new h(s,16),new h(o,16),new h(e,16),new h(u,16));var u=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw u.errors=a,u},f.privateKeyToAsn1=f.privateKeyToRSAPrivateKey=function(e){return d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,d.integerToDer(0).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,n(e.n)),d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,n(e.e)),d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,n(e.d)),d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,n(e.p)),d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,n(e.q)),d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,n(e.dP)),d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,n(e.dQ)),d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,n(e.qInv))])},f.publicKeyFromAsn1=function(e){var t,r={};if(d.validate(e,m,r,t=[])){var n=d.derToOid(r.publicKeyOid);if(n!==f.oids.rsaEncryption)throw(i=new Error("Cannot read public key. Unknown OID.")).oid=n,i;e=r.rsaPublicKey}if(!d.validate(e,s,r,t=[]))throw(i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=t,i;var i=l.util.createBuffer(r.publicKeyModulus).toHex(),r=l.util.createBuffer(r.publicKeyExponent).toHex();return f.setRsaPublicKey(new h(i,16),new h(r,16))},f.publicKeyToAsn1=f.publicKeyToSubjectPublicKeyInfo=function(e){return d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(f.oids.rsaEncryption).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.NULL,!1,"")]),d.create(d.Class.UNIVERSAL,d.Type.BITSTRING,!1,[f.publicKeyToRSAPublicKey(e)])])},f.publicKeyToRSAPublicKey=function(e){return d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,n(e.n)),d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,n(e.e))])}},137:(e,t,r)=>{var h=r(3832);r(28991),r(97116);e=e.exports=h.sha1=h.sha1||{};(h.md.sha1=h.md.algorithms.sha1=e).create=function(){n||(l=String.fromCharCode(128),l+=h.util.fillString(String.fromCharCode(0),64),n=!0);var o=null,a=h.util.createBuffer(),c=new Array(80),u={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){u.messageLength=0,u.fullMessageLength=u.messageLength64=[];for(var e=u.messageLengthSize/4,t=0;t<e;++t)u.fullMessageLength.push(0);return a=h.util.createBuffer(),o={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},u}};return u.start(),u.update=function(e,t){var r=(e="utf8"===t?h.util.encodeUtf8(e):e).length;u.messageLength+=r;for(var r=[r/4294967296>>>0,r>>>0],n=u.fullMessageLength.length-1;0<=n;--n)u.fullMessageLength[n]+=r[1],r[1]=r[0]+(u.fullMessageLength[n]/4294967296>>>0),u.fullMessageLength[n]=u.fullMessageLength[n]>>>0,r[0]=r[1]/4294967296>>>0;return a.putBytes(e),d(o,c,a),(2048<a.read||0===a.length())&&a.compact(),u},u.digest=function(){var e=h.util.createBuffer();e.putBytes(a.bytes());var t,r=u.fullMessageLength[u.fullMessageLength.length-1]+u.messageLengthSize&u.blockLength-1;e.putBytes(l.substr(0,u.blockLength-r));for(var n=8*u.fullMessageLength[0],i=0;i<u.fullMessageLength.length-1;++i)n+=(t=8*u.fullMessageLength[i+1])/4294967296>>>0,e.putInt32(n>>>0),n=t>>>0;e.putInt32(n);var s={h0:o.h0,h1:o.h1,h2:o.h2,h3:o.h3,h4:o.h4};d(s,c,e);r=h.util.createBuffer();return r.putInt32(s.h0),r.putInt32(s.h1),r.putInt32(s.h2),r.putInt32(s.h3),r.putInt32(s.h4),r},u};var l=null,n=!1;function d(e,t,r){for(var n,i,s,o,a,c,u,h=r.length();64<=h;){for(i=e.h0,s=e.h1,o=e.h2,a=e.h3,c=e.h4,u=0;u<16;++u)n=r.getInt32(),n=(i<<5|i>>>27)+(a^s&(o^a))+c+1518500249+(t[u]=n),c=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<20;++u)n=(n=t[u-3]^t[u-8]^t[u-14]^t[u-16])<<1|n>>>31,n=(i<<5|i>>>27)+(a^s&(o^a))+c+1518500249+(t[u]=n),c=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<32;++u)n=(n=t[u-3]^t[u-8]^t[u-14]^t[u-16])<<1|n>>>31,n=(i<<5|i>>>27)+(s^o^a)+c+1859775393+(t[u]=n),c=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<40;++u)n=(n=t[u-6]^t[u-16]^t[u-28]^t[u-32])<<2|n>>>30,n=(i<<5|i>>>27)+(s^o^a)+c+1859775393+(t[u]=n),c=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<60;++u)n=(n=t[u-6]^t[u-16]^t[u-28]^t[u-32])<<2|n>>>30,n=(i<<5|i>>>27)+(s&o|a&(s^o))+c+2400959708+(t[u]=n),c=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<80;++u)n=(n=t[u-6]^t[u-16]^t[u-28]^t[u-32])<<2|n>>>30,n=(i<<5|i>>>27)+(s^o^a)+c+3395469782+(t[u]=n),c=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+o|0,e.h3=e.h3+a|0,e.h4=e.h4+c|0,h-=64}}},41668:(e,t,r)=>{var h=r(3832);r(28991),r(97116);e=e.exports=h.sha256=h.sha256||{};(h.md.sha256=h.md.algorithms.sha256=e).create=function(){n||(l=String.fromCharCode(128),l+=h.util.fillString(String.fromCharCode(0),64),g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],n=!0);var o=null,a=h.util.createBuffer(),c=new Array(64),u={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){u.messageLength=0,u.fullMessageLength=u.messageLength64=[];for(var e=u.messageLengthSize/4,t=0;t<e;++t)u.fullMessageLength.push(0);return a=h.util.createBuffer(),o={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},u}};return u.start(),u.update=function(e,t){var r=(e="utf8"===t?h.util.encodeUtf8(e):e).length;u.messageLength+=r;for(var r=[r/4294967296>>>0,r>>>0],n=u.fullMessageLength.length-1;0<=n;--n)u.fullMessageLength[n]+=r[1],r[1]=r[0]+(u.fullMessageLength[n]/4294967296>>>0),u.fullMessageLength[n]=u.fullMessageLength[n]>>>0,r[0]=r[1]/4294967296>>>0;return a.putBytes(e),d(o,c,a),(2048<a.read||0===a.length())&&a.compact(),u},u.digest=function(){var e=h.util.createBuffer();e.putBytes(a.bytes());var t,r=u.fullMessageLength[u.fullMessageLength.length-1]+u.messageLengthSize&u.blockLength-1;e.putBytes(l.substr(0,u.blockLength-r));for(var n=8*u.fullMessageLength[0],i=0;i<u.fullMessageLength.length-1;++i)n+=(t=8*u.fullMessageLength[i+1])/4294967296>>>0,e.putInt32(n>>>0),n=t>>>0;e.putInt32(n);var s={h0:o.h0,h1:o.h1,h2:o.h2,h3:o.h3,h4:o.h4,h5:o.h5,h6:o.h6,h7:o.h7};d(s,c,e);r=h.util.createBuffer();return r.putInt32(s.h0),r.putInt32(s.h1),r.putInt32(s.h2),r.putInt32(s.h3),r.putInt32(s.h4),r.putInt32(s.h5),r.putInt32(s.h6),r.putInt32(s.h7),r},u};var l=null,n=!1,g=null;function d(e,t,r){for(var n,i,s,o,a,c,u,h,l,d,f,p,y=r.length();64<=y;){for(o=0;o<16;++o)t[o]=r.getInt32();for(;o<64;++o)n=((n=t[o-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=((i=t[o-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[o]=n+t[o-7]+i+t[o-16]|0;for(a=e.h0,c=e.h1,u=e.h2,h=e.h3,l=e.h4,d=e.h5,f=e.h6,p=e.h7,o=0;o<64;++o)s=a&c|u&(a^c),n=p+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(f^l&(d^f))+g[o]+t[o],p=f,f=d,d=l,l=h+n>>>0,h=u,u=c,a=n+(i=(((c=a)>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+s)>>>0;e.h0=e.h0+a|0,e.h1=e.h1+c|0,e.h2=e.h2+u|0,e.h3=e.h3+h|0,e.h4=e.h4+l|0,e.h5=e.h5+d|0,e.h6=e.h6+f|0,e.h7=e.h7+p|0,y-=64}}},63219:(e,t,r)=>{var f=r(3832);r(28991),r(97116);var n=e.exports=f.sha512=f.sha512||{};f.md.sha512=f.md.algorithms.sha512=n;e=f.sha384=f.sha512.sha384=f.sha512.sha384||{};e.create=function(){return n.create("SHA-384")},f.md.sha384=f.md.algorithms.sha384=e,f.sha512.sha256=f.sha512.sha256||{create:function(){return n.create("SHA-512/256")}},f.md["sha512/256"]=f.md.algorithms["sha512/256"]=f.sha512.sha256,f.sha512.sha224=f.sha512.sha224||{create:function(){return n.create("SHA-512/224")}},f.md["sha512/224"]=f.md.algorithms["sha512/224"]=f.sha512.sha224,n.create=function(c){if(i||(p=String.fromCharCode(128),p+=f.util.fillString(String.fromCharCode(0),128),P=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(s={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],s["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],s["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],s["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],i=!0),!((c=void 0===c?"SHA-512":c)in s))throw new Error("Invalid SHA-512 algorithm: "+c);for(var r=s[c],u=null,h=f.util.createBuffer(),l=new Array(80),e=0;e<80;++e)l[e]=new Array(2);var t=64;switch(c){case"SHA-384":t=48;break;case"SHA-512/256":t=32;break;case"SHA-512/224":t=28}var d={algorithm:c.replace("-","").toLowerCase(),blockLength:128,digestLength:t,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){d.messageLength=0,d.fullMessageLength=d.messageLength128=[];for(var e=d.messageLengthSize/4,t=0;t<e;++t)d.fullMessageLength.push(0);for(h=f.util.createBuffer(),u=new Array(r.length),t=0;t<r.length;++t)u[t]=r[t].slice(0);return d}};return d.start(),d.update=function(e,t){var r=(e="utf8"===t?f.util.encodeUtf8(e):e).length;d.messageLength+=r;for(var r=[r/4294967296>>>0,r>>>0],n=d.fullMessageLength.length-1;0<=n;--n)d.fullMessageLength[n]+=r[1],r[1]=r[0]+(d.fullMessageLength[n]/4294967296>>>0),d.fullMessageLength[n]=d.fullMessageLength[n]>>>0,r[0]=r[1]/4294967296>>>0;return h.putBytes(e),y(u,l,h),(2048<h.read||0===h.length())&&h.compact(),d},d.digest=function(){var e=f.util.createBuffer();e.putBytes(h.bytes());var t,r=d.fullMessageLength[d.fullMessageLength.length-1]+d.messageLengthSize&d.blockLength-1;e.putBytes(p.substr(0,d.blockLength-r));for(var n=8*d.fullMessageLength[0],i=0;i<d.fullMessageLength.length-1;++i)n+=(t=8*d.fullMessageLength[i+1])/4294967296>>>0,e.putInt32(n>>>0),n=t>>>0;e.putInt32(n);for(var s=new Array(u.length),i=0;i<u.length;++i)s[i]=u[i].slice(0);y(s,l,e);var o=f.util.createBuffer(),a="SHA-512"===c?s.length:"SHA-384"===c?s.length-2:s.length-4;for(i=0;i<a;++i)o.putInt32(s[i][0]),i===a-1&&"SHA-512/224"===c||o.putInt32(s[i][1]);return o},d};var p=null,i=!1,P=null,s=null;function y(e,t,r){for(var n,i,s,o,a,c,u,h,l,d,f,p,y,g,m,b,v,w,_,E,S,C,A,I,T,R=r.length();128<=R;){for(S=0;S<16;++S)t[S][0]=r.getInt32()>>>0,t[S][1]=r.getInt32()>>>0;for(;S<80;++S)n=(((C=(I=t[S-2])[0])>>>19|(A=I[1])<<13)^(A>>>29|C<<3)^C>>>6)>>>0,i=((C<<13|A>>>19)^(A<<3|C>>>29)^(C<<26|A>>>6))>>>0,s=(((C=(T=t[S-15])[0])>>>1|(A=T[1])<<31)^(C>>>8|A<<24)^C>>>7)>>>0,I=t[S-7],T=t[S-16],A=i+I[1]+(o=((C<<31|A>>>1)^(C<<24|A>>>8)^(C<<25|A>>>7))>>>0)+T[1],t[S][0]=n+I[0]+s+T[0]+(A/4294967296>>>0)>>>0,t[S][1]=A>>>0;for(a=e[0][0],c=e[0][1],u=e[1][0],h=e[1][1],l=e[2][0],d=e[2][1],f=e[3][0],p=e[3][1],y=e[4][0],g=e[4][1],m=e[5][0],b=e[5][1],v=e[6][0],w=e[6][1],_=e[7][0],E=e[7][1],S=0;S<80;++S)A=E+(((y<<18|g>>>14)^(y<<14|g>>>18)^(g<<23|y>>>9))>>>0)+((w^g&(b^w))>>>0)+P[S][1]+t[S][1],n=_+(((y>>>14|g<<18)^(y>>>18|g<<14)^(g>>>9|y<<23))>>>0)+((v^y&(m^v))>>>0)+P[S][0]+t[S][0]+(A/4294967296>>>0)>>>0,i=A>>>0,s=(((a>>>28|c<<4)^(c>>>2|a<<30)^(c>>>7|a<<25))>>>0)+((a&u|l&(a^u))>>>0)+((A=(((a<<4|c>>>28)^(c<<30|a>>>2)^(c<<25|a>>>7))>>>0)+((c&h|d&(c^h))>>>0))/4294967296>>>0)>>>0,o=A>>>0,_=v,E=w,v=m,w=b,m=y,b=g,y=f+n+((A=p+i)/4294967296>>>0)>>>0,g=A>>>0,f=l,p=d,l=u,d=h,u=a,h=c,a=n+s+((A=i+o)/4294967296>>>0)>>>0,c=A>>>0;A=e[0][1]+c,e[0][0]=e[0][0]+a+(A/4294967296>>>0)>>>0,e[0][1]=A>>>0,A=e[1][1]+h,e[1][0]=e[1][0]+u+(A/4294967296>>>0)>>>0,e[1][1]=A>>>0,A=e[2][1]+d,e[2][0]=e[2][0]+l+(A/4294967296>>>0)>>>0,e[2][1]=A>>>0,A=e[3][1]+p,e[3][0]=e[3][0]+f+(A/4294967296>>>0)>>>0,e[3][1]=A>>>0,A=e[4][1]+g,e[4][0]=e[4][0]+y+(A/4294967296>>>0)>>>0,e[4][1]=A>>>0,A=e[5][1]+b,e[5][0]=e[5][0]+m+(A/4294967296>>>0)>>>0,e[5][1]=A>>>0,A=e[6][1]+w,e[6][0]=e[6][0]+v+(A/4294967296>>>0)>>>0,e[6][1]=A>>>0,A=e[7][1]+E,e[7][0]=e[7][0]+_+(A/4294967296>>>0)>>>0,e[7][1]=A>>>0,R-=128}}},97116:(e,t,r)=>{var n,i,s,o,a,c,u=r(3832),h=r(78807),l=e.exports=u.util=u.util||{};function d(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function f(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(l.isArrayBuffer(e)||l.isArrayBufferView(e))if("undefined"!=typeof Buffer&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(e){for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof f||"object"==typeof e&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}"undefined"!=typeof process&&process.nextTick&&!process.browser?(l.nextTick=process.nextTick,"function"==typeof setImmediate?l.setImmediate=setImmediate:l.setImmediate=l.nextTick):"function"==typeof setImmediate?(l.setImmediate=function(){return setImmediate.apply(void 0,arguments)},l.nextTick=function(e){return setImmediate(e)}):(l.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage&&(n="forge.setImmediate",a=[],l.setImmediate=function(e){a.push(e),1===a.length&&window.postMessage(n,"*")},window.addEventListener("message",function(e){e.source===window&&e.data===n&&(e.stopPropagation(),e=a.slice(),a.length=0,e.forEach(function(e){e()}))},!0)),"undefined"!=typeof MutationObserver&&(i=Date.now(),s=!0,o=document.createElement("div"),a=[],new MutationObserver(function(){var e=a.slice();a.length=0,e.forEach(function(e){e()})}).observe(o,{attributes:!0}),c=l.setImmediate,l.setImmediate=function(e){15<Date.now()-i?(i=Date.now(),c(e)):(a.push(e),1===a.length&&o.setAttribute("a",s=!s))}),l.nextTick=l.setImmediate),l.isNodejs="undefined"!=typeof process&&process.versions&&process.versions.node,l.globalScope=l.isNodejs?r.g:"undefined"==typeof self?window:self,l.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},l.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},l.isArrayBufferView=function(e){return e&&l.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},l.ByteBuffer=f,l.ByteStringBuffer=f,l.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,4096<this._constructedStringLength&&(this.data.substr(0,1),this._constructedStringLength=0)},l.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},l.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},l.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},l.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;0<t;)1&t&&(r+=e),0<(t>>>=1)&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this},l.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},l.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(l.encodeUtf8(e))},l.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},l.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},l.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},l.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},l.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},l.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},l.ByteStringBuffer.prototype.putInt=function(e,t){d(t);for(var r="";t-=8,r+=String.fromCharCode(e>>t&255),0<t;);return this.putBytes(r)},l.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},l.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},l.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},l.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},l.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},l.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},l.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},l.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},l.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},l.ByteStringBuffer.prototype.getInt=function(e){d(e);for(var t=0;t=(t<<8)+this.data.charCodeAt(this.read++),0<(e-=8););return t},l.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),e=2<<e-2;return e<=t&&(t-=e<<1),t},l.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},l.ByteStringBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},l.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},l.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},l.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},l.ByteStringBuffer.prototype.copy=function(){var e=l.createBuffer(this.data);return e.read=this.read,e},l.ByteStringBuffer.prototype.compact=function(){return 0<this.read&&(this.data=this.data.slice(this.read),this.read=0),this},l.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},l.ByteStringBuffer.prototype.truncate=function(e){e=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,e),this.read=0,this},l.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e},l.ByteStringBuffer.prototype.toString=function(){return l.decodeUtf8(this.bytes())},l.DataBuffer=function(e,t){this.read=(t=t||{}).readOffset||0,this.growSize=t.growSize||1024;var r=l.isArrayBuffer(e),n=l.isArrayBufferView(e);if(r||n)return this.data=r?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in t?t.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=e&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)},l.DataBuffer.prototype.length=function(){return this.write-this.read},l.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},l.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);e=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),t=new Uint8Array(this.length()+t);return t.set(e),this.data=new DataView(t.buffer),this},l.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},l.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this},l.DataBuffer.prototype.putBytes=function(e,t){if(l.isArrayBufferView(e)){var r=(n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).byteLength-n.byteOffset;return this.accommodate(r),new Uint8Array(this.data.buffer,this.write).set(n),this.write+=r,this}if(l.isArrayBuffer(e)){var n=new Uint8Array(e);return this.accommodate(n.byteLength),new Uint8Array(this.data.buffer).set(n,this.write),this.write+=n.byteLength,this}if(e instanceof l.DataBuffer||"object"==typeof e&&"number"==typeof e.read&&"number"==typeof e.write&&l.isArrayBufferView(e.data))return n=new Uint8Array(e.data.byteLength,e.read,e.length()),this.accommodate(n.byteLength),new Uint8Array(e.data.byteLength,this.write).set(n),this.write+=n.byteLength,this;if(e instanceof l.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"!=typeof e)throw Error("Invalid parameter: "+e);var i;if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),i=new Uint8Array(this.data.buffer,this.write),this.write+=l.binary.hex.decode(e,i,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),i=new Uint8Array(this.data.buffer,this.write),this.write+=l.binary.base64.decode(e,i,this.write),this;if("utf8"===t&&(e=l.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),i=new Uint8Array(this.data.buffer,this.write),this.write+=l.binary.raw.decode(i),this;if("utf16"===t)return this.accommodate(2*e.length),i=new Uint16Array(this.data.buffer,this.write),this.write+=l.text.utf16.encode(i),this;throw new Error("Invalid encoding: "+t)},l.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},l.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},l.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},l.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},l.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},l.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},l.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},l.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},l.DataBuffer.prototype.putInt=function(e,t){for(d(t),this.accommodate(t/8);t-=8,this.data.setInt8(this.write++,e>>t&255),0<t;);return this},l.DataBuffer.prototype.putSignedInt=function(e,t){return d(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},l.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},l.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},l.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},l.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},l.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},l.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},l.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},l.DataBuffer.prototype.getInt=function(e){d(e);for(var t=0;t=(t<<8)+this.data.getInt8(this.read++),0<(e-=8););return t},l.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),e=2<<e-2;return e<=t&&(t-=e<<1),t},l.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},l.DataBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},l.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},l.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},l.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},l.DataBuffer.prototype.copy=function(){return new l.DataBuffer(this)},l.DataBuffer.prototype.compact=function(){var e,t;return 0<this.read&&(e=new Uint8Array(this.data.buffer,this.read),(t=new Uint8Array(e.byteLength)).set(e),this.data=new DataView(t),this.write-=this.read,this.read=0),this},l.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},l.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},l.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e},l.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return l.binary.raw.encode(t);if("hex"===e)return l.binary.hex.encode(t);if("base64"===e)return l.binary.base64.encode(t);if("utf8"===e)return l.text.utf8.decode(t);if("utf16"===e)return l.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)},l.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=l.encodeUtf8(e)),new l.ByteBuffer(e)},l.fillString=function(e,t){for(var r="";0<t;)1&t&&(r+=e),0<(t>>>=1)&&(e+=e);return r},l.xorBytes=function(e,t,r){for(var n,i="",s="",o=0,a=0;0<r;--r,++o)n=e.charCodeAt(o)^t.charCodeAt(o),10<=a&&(i+=s,s="",a=0),s+=String.fromCharCode(n),++a;return i+s},l.hexToBytes=function(e){var t="",r=0;for(!0&e.length&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t},l.bytesToHex=function(e){return l.createBuffer(e).toHex()},l.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",y=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],g="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";l.encode64=function(e,t){for(var r,n,i,s="",o="",a=0;a<e.length;)r=e.charCodeAt(a++),n=e.charCodeAt(a++),i=e.charCodeAt(a++),s+=p.charAt(r>>2),s+=p.charAt((3&r)<<4|n>>4),isNaN(n)?s+="==":(s+=p.charAt((15&n)<<2|i>>6),s+=isNaN(i)?"=":p.charAt(63&i)),t&&s.length>t&&(o+=s.substr(0,t)+"\r\n",s=s.substr(t));return o+s},l.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,r,n,i,s="",o=0;o<e.length;)t=y[e.charCodeAt(o++)-43],r=y[e.charCodeAt(o++)-43],n=y[e.charCodeAt(o++)-43],i=y[e.charCodeAt(o++)-43],s+=String.fromCharCode(t<<2|r>>4),64!==n&&(s+=String.fromCharCode((15&r)<<4|n>>2),64!==i&&(s+=String.fromCharCode((3&n)<<6|i)));return s},l.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},l.decodeUtf8=function(e){return decodeURIComponent(escape(e))},l.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:h.encode,decode:h.decode}},l.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},l.binary.raw.decode=function(e,t,r){for(var n=(n=t)||new Uint8Array(e.length),i=r=r||0,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n},l.binary.hex.encode=l.bytesToHex,l.binary.hex.decode=function(e,t,r){var n=(n=t)||new Uint8Array(Math.ceil(e.length/2)),i=0,s=r=r||0;for(1&e.length&&(i=1,n[s++]=parseInt(e[0],16));i<e.length;i+=2)n[s++]=parseInt(e.substr(i,2),16);return t?s-r:n},l.binary.base64.encode=function(e,t){for(var r,n,i,s="",o="",a=0;a<e.byteLength;)r=e[a++],n=e[a++],i=e[a++],s+=p.charAt(r>>2),s+=p.charAt((3&r)<<4|n>>4),isNaN(n)?s+="==":(s+=p.charAt((15&n)<<2|i>>6),s+=isNaN(i)?"=":p.charAt(63&i)),t&&s.length>t&&(o+=s.substr(0,t)+"\r\n",s=s.substr(t));return o+s},l.binary.base64.decode=function(e,t,r){var n,i,s,o,a=(a=t)||new Uint8Array(3*Math.ceil(e.length/4));e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var c=0,u=r=r||0;c<e.length;)n=y[e.charCodeAt(c++)-43],i=y[e.charCodeAt(c++)-43],s=y[e.charCodeAt(c++)-43],o=y[e.charCodeAt(c++)-43],a[u++]=n<<2|i>>4,64!==s&&(a[u++]=(15&i)<<4|s>>2,64!==o&&(a[u++]=(3&s)<<6|o));return t?u-r:a.subarray(0,u)},l.binary.base58.encode=function(e,t){return l.binary.baseN.encode(e,g,t)},l.binary.base58.decode=function(e,t){return l.binary.baseN.decode(e,g,t)},l.text={utf8:{},utf16:{}},l.text.utf8.encode=function(e,t,r){e=l.encodeUtf8(e);for(var n=(n=t)||new Uint8Array(e.length),i=r=r||0,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n},l.text.utf8.decode=function(e){return l.decodeUtf8(String.fromCharCode.apply(null,e))},l.text.utf16.encode=function(e,t,r){for(var n=(n=t)||new Uint8Array(2*e.length),i=new Uint16Array(n.buffer),s=r=r||0,o=r,a=0;a<e.length;++a)i[o++]=e.charCodeAt(a),s+=2;return t?s-r:n},l.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},l.deflate=function(e,t,r){return t=l.decode64(e.deflate(l.encode64(t)).rval),r&&(r=2,32&t.charCodeAt(1)&&(r=6),t=t.substring(r,t.length-4)),t},l.inflate=function(e,t,r){t=e.inflate(l.encode64(t)).rval;return null===t?null:l.decode64(t)};function m(e,t,r){if(!e)throw new Error("WebStorage not available.");if(void 0!==(t=null===r?e.removeItem(t):(r=l.encode64(JSON.stringify(r)),e.setItem(t,r)))&&!0!==t.rval){r=new Error(t.error.message);throw r.id=t.error.id,r.name=t.error.name,r}}function b(e,t){if(!e)throw new Error("WebStorage not available.");if(t=e.getItem(t),e.init)if(null===t.rval){if(t.error){e=new Error(t.error.message);throw e.id=t.error.id,e.name=t.error.name,e}t=null}else t=t.rval;return t=null!==t?JSON.parse(l.decode64(t)):t}function v(e,t,r,n){var i=b(e,t);(i=null===i?{}:i)[r]=n,m(e,t,i)}function w(e,t,r){return t=null!==(t=b(e,t))?r in t?t[r]:null:t}function _(e,t,r){var n=b(e,t);if(null!==n&&r in n){delete n[r];var i,s=!0;for(i in n){s=!1;break}m(e,t,n=s?null:n)}}function E(e,t){m(e,t,null)}function S(e,t,r){var n,i,s=null,o=!1,a=null;for(i in r=void 0===r?["web","flash"]:r){n=r[i];try{if("flash"===n||"both"===n){if(null===t[0])throw new Error("Flash local storage not available.");s=e.apply(this,t),o="flash"===n}"web"!==n&&"both"!==n||(t[0]=localStorage,s=e.apply(this,t),o=!0)}catch(e){a=e}if(o)break}if(!o)throw a;return s}l.setItem=function(e,t,r,n,i){S(v,arguments,i)},l.getItem=function(e,t,r,n){return S(w,arguments,n)},l.removeItem=function(e,t,r,n){S(_,arguments,n)},l.clearItems=function(e,t,r){S(E,arguments,r)},l.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;t=t.exec(e),t=null===t?null:{full:e,scheme:t[1],host:t[2],port:t[3],path:t[4]};return t&&(t.fullHost=t.host,t.port?(80!==t.port&&"http"===t.scheme||443!==t.port&&"https"===t.scheme)&&(t.fullHost+=":"+t.port):"http"===t.scheme?t.port=80:"https"===t.scheme&&(t.port=443),t.full=t.scheme+"://"+t.fullHost),t};var C=null;l.getQueryVariables=function(e){function t(e){for(var t={},r=e.split("&"),n=0;n<r.length;n++){var i,s=r[n].indexOf("="),s=0<s?(i=r[n].substring(0,s),r[n].substring(s+1)):(i=r[n],null);i in t||(t[i]=[]),i in Object.prototype||null===s||t[i].push(unescape(s))}return t}e=void 0===e?C=null===C?"undefined"!=typeof window&&window.location&&window.location.search?t(window.location.search.substring(1)):{}:C:t(e);return e},l.parseFragment=function(e){var t=e,r="",n=e.indexOf("?");0<n&&(t=e.substring(0,n),r=e.substring(n+1));n=t.split("/");return 0<n.length&&""===n[0]&&n.shift(),{pathString:t,queryString:r,path:n,query:""===r?{}:l.getQueryVariables(r)}},l.makeRequest=function(e){var n=l.parseFragment(e),r={path:n.pathString,query:n.queryString,getPath:function(e){return void 0===e?n.path:n.path[e]},getQuery:function(e,t){var r;return void 0===e?r=n.query:(r=n.query[e])&&void 0!==t&&(r=r[t]),r},getQueryLast:function(e,t){e=r.getQuery(e);return e?e[e.length-1]:t}};return r},l.makeLink=function(e,t,r){e=jQuery.isArray(e)?e.join("/"):e;t=jQuery.param(t||{});return e+(0<t.length?"?"+t:"")+(0<(r=r||"").length?"#"+r:"")},l.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},l.format=function(e){for(var t,r,n=/%./g,i=0,s=[],o=0;t=n.exec(e);){0<(r=e.substring(o,n.lastIndex-2)).length&&s.push(r);o=n.lastIndex;switch(t[0][1]){case"s":case"o":i<arguments.length?s.push(arguments[1+i++]):s.push("<?>");break;case"%":i.push("%");break;default:i.push("<%"+a+"?>")}}return s.push(e.substring(o)),s.join("")},l.formatNumber=function(e,t,r,n){var i=e,s=isNaN(t=Math.abs(t))?2:t,o=void 0===r?",":r,e=void 0===n?".":n,t=i<0?"-":"",r=parseInt(i=Math.abs(+i||0).toFixed(s),10)+"",n=3<r.length?r.length%3:0;return t+(n?r.substr(0,n)+e:"")+r.substr(n).replace(/(\d{3})(?=\d)/g,"$1"+e)+(s?o+Math.abs(i-r).toFixed(s).slice(2):"")},l.formatSize=function(e){return 1073741824<=e?l.formatNumber(e/1073741824,2,".","")+" GiB":1048576<=e?l.formatNumber(e/1048576,2,".","")+" MiB":1024<=e?l.formatNumber(e/1024,0)+" KiB":l.formatNumber(e,0)+" bytes"},l.bytesFromIP=function(e){return-1!==e.indexOf(".")?l.bytesFromIPv4(e):-1!==e.indexOf(":")?l.bytesFromIPv6(e):null},l.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=l.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()},l.bytesFromIPv6=function(e){for(var t,r=0,n=2*(8-(e=e.split(":").filter(function(e){return 0===e.length&&++r,!0})).length+r),i=l.createBuffer(),s=0;s<8;++s)e[s]&&0!==e[s].length?((t=l.hexToBytes(e[s])).length<2&&i.putByte(0),i.putBytes(t)):(i.fillWithByte(0,n),n=0);return i.getBytes()},l.bytesToIP=function(e){return 4===e.length?l.bytesToIPv4(e):16===e.length?l.bytesToIPv6(e):null},l.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")},l.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t,r=[],n=[],i=0,s=0;s<e.length;s+=2){for(var o,a,c=l.bytesToHex(e[s]+e[s+1]);"0"===c[0]&&"0"!==c;)c=c.substr(1);"0"===c&&(o=n[n.length-1],a=r.length,o&&a===o.end+1?(o.end=a,o.end-o.start>n[i].end-n[i].start&&(i=n.length-1)):n.push({start:a,end:a})),r.push(c)}return 0<n.length&&(0<(t=n[i]).end-t.start&&(r.splice(t.start,t.end-t.start+1,""),0===t.start&&r.unshift(""),7===t.end&&r.push(""))),r.join(":")},l.estimateCores=function(e,t){if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in l&&!e.update)return t(null,l.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&0<navigator.hardwareConcurrency)return l.cores=navigator.hardwareConcurrency,t(null,l.cores);if("undefined"==typeof Worker)return l.cores=1,t(null,l.cores);if("undefined"==typeof Blob)return l.cores=2,t(null,l.cores);var u=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(e){for(var t=Date.now(),r=t+4;Date.now()<r;);self.postMessage({st:t,et:r})})}.toString(),")()"],{type:"application/javascript"}));!function s(o,a,c){if(0===a){var e=Math.floor(o.reduce(function(e,t){return e+t},0)/o.length);return l.cores=Math.max(1,e),URL.revokeObjectURL(u),t(null,l.cores)}!function(r){for(var n=[],i=[],e=0;e<r;++e){var t=new Worker(u);t.addEventListener("message",function(e){if(i.push(e.data),i.length===r){for(var t=0;t<r;++t)n[t].terminate();o.push(function(e,t){for(var r,n=[],i=0;i<e;++i)for(var s=t[i],o=n[i]=[],a=0;a<e;++a)i!==a&&(r=t[a],(s.st>r.st&&s.st<r.et||r.st>s.st&&r.st<s.et)&&o.push(a));return n.reduce(function(e,t){return Math.max(e,t.length)},0)}(c,i)),s(o,a-1,c)}}),n.push(t)}for(e=0;e<r;++e)n[e].postMessage(e)}(c)}([],5,16)}},25414:(e,t,r)=>{var b=r(3832);r(8925),r(3068),r(33480),r(28991),r(86971),r(66270),r(26953),r(96007),r(28095),r(97116);var p=b.asn1,v=e.exports=b.pki=b.pki||{},y=v.oids,u={};u.CN=y.commonName,u.commonName="CN",u.C=y.countryName,u.countryName="C",u.L=y.localityName,u.localityName="L",u.ST=y.stateOrProvinceName,u.stateOrProvinceName="ST",u.O=y.organizationName,u.organizationName="O",u.OU=y.organizationalUnitName,u.organizationalUnitName="OU",u.E=y.emailAddress,u.emailAddress="E";var e=b.pki.rsa.publicKeyValidator,a={name:"Certificate",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:p.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:p.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:p.Class.UNIVERSAL,type:p.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:p.Class.UNIVERSAL,type:p.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:p.Class.UNIVERSAL,type:p.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:p.Class.UNIVERSAL,type:p.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},e,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:p.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:p.Class.UNIVERSAL,type:p.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:p.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:p.Class.UNIVERSAL,type:p.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:p.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:p.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:p.Class.UNIVERSAL,type:p.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},i={name:"rsapss",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:p.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:p.Class.UNIVERSAL,type:p.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:p.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:p.Class.UNIVERSAL,type:p.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:p.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:p.Class.UNIVERSAL,type:p.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:p.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:p.Class.UNIVERSAL,type:p.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},e={name:"CertificationRequestInfo",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},e,{name:"CertificationRequestInfo.attributes",tagClass:p.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:p.Class.UNIVERSAL,type:p.Type.SET,constructed:!0}]}]}]},c={name:"CertificationRequest",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[e,{name:"CertificationRequest.signatureAlgorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:p.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:p.Class.UNIVERSAL,type:p.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function h(e,t){"string"==typeof t&&(t={shortName:t});for(var r,n=null,i=0;null===n&&i<e.attributes.length;++i)r=e.attributes[i],(t.type&&t.type===r.type||t.name&&t.name===r.name||t.shortName&&t.shortName===r.shortName)&&(n=r);return n}v.RDNAttributesAsArray=function(e,t){for(var r,n,i=[],s=0;s<e.value.length;++s)for(var o=e.value[s],a=0;a<o.value.length;++a)r=o.value[a],(n={}).type=p.derToOid(r.value[0].value),n.value=r.value[1].value,n.valueTagClass=r.value[1].type,n.type in y&&(n.name=y[n.type],n.name in u&&(n.shortName=u[n.name])),t&&(t.update(n.type),t.update(n.value)),i.push(n);return i},v.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],i=p.derToOid(n.value[0].value),s=n.value[1].value,o=0;o<s.length;++o){var a={};if(a.type=i,a.value=s[o].value,a.valueTagClass=s[o].type,a.type in y&&(a.name=y[a.type],a.name in u&&(a.shortName=u[a.name])),a.type===y.extensionRequest){a.extensions=[];for(var c=0;c<a.value.length;++c)a.extensions.push(v.certificateExtensionFromAsn1(a.value[c]))}t.push(a)}return t};function l(e,t,r){var n={};if(e!==y["RSASSA-PSS"])return n;if(r&&(n={hash:{algorithmOid:y.sha1},mgf:{algorithmOid:y.mgf1,hash:{algorithmOid:y.sha1}},saltLength:20}),e={},r=[],p.validate(t,i,e,r))return void 0!==e.hashOid&&(n.hash=n.hash||{},n.hash.algorithmOid=p.derToOid(e.hashOid)),void 0!==e.maskGenOid&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=p.derToOid(e.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=p.derToOid(e.maskGenHashOid)),void 0!==e.saltLength&&(n.saltLength=e.saltLength.charCodeAt(0)),n;throw(n=new Error("Cannot read RSASSA-PSS parameter block.")).errors=r,n}function g(e){for(var t,r=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[]),n=e.attributes,i=0;i<n.length;++i){var s=(t=n[i]).value,o=p.Type.PRINTABLESTRING;"valueTagClass"in t&&(o=t.valueTagClass)===p.Type.UTF8&&(s=b.util.encodeUtf8(s)),s=p.create(p.Class.UNIVERSAL,p.Type.SET,!0,[p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(t.type).getBytes()),p.create(p.Class.UNIVERSAL,o,!1,s)])]),r.value.push(s)}return r}function d(e){for(var t,r,n=0;n<e.length;++n){if(void 0===(t=e[n]).name&&(t.type&&t.type in v.oids?t.name=v.oids[t.type]:t.shortName&&t.shortName in u&&(t.name=v.oids[u[t.shortName]])),void 0===t.type){if(!(t.name&&t.name in v.oids))throw(r=new Error("Attribute type not specified.")).attribute=t,r;t.type=v.oids[t.name]}if(void 0===t.shortName&&t.name&&t.name in u&&(t.shortName=u[t.name]),t.type===y.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=p.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var i=0;i<t.extensions.length;++i)t.value.push(v.certificateExtensionToAsn1(s(t.extensions[i])))}if(void 0===t.value)throw(r=new Error("Attribute value not specified.")).attribute=t,r}}function s(e,t){if(t=t||{},void 0===e.name&&e.id&&e.id in v.oids&&(e.name=v.oids[e.id]),void 0===e.id){if(!(e.name&&e.name in v.oids))throw(f=new Error("Extension ID not specified.")).extension=e,f;e.id=v.oids[e.name]}if(void 0!==e.value)return e;if("keyUsage"===e.name){var r=0,n=0,i=0;e.digitalSignature&&(n|=128,r=7),e.nonRepudiation&&(n|=64,r=6),e.keyEncipherment&&(n|=32,r=5),e.dataEncipherment&&(n|=16,r=4),e.keyAgreement&&(n|=8,r=3),e.keyCertSign&&(n|=4,r=2),e.cRLSign&&(n|=2,r=1),e.encipherOnly&&(n|=1,r=0),e.decipherOnly&&(i|=128,r=7);var s=String.fromCharCode(r);0!==i?s+=String.fromCharCode(n)+String.fromCharCode(i):0!==n&&(s+=String.fromCharCode(n)),e.value=p.create(p.Class.UNIVERSAL,p.Type.BITSTRING,!1,s)}else if("basicConstraints"===e.name)e.value=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(p.create(p.Class.UNIVERSAL,p.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,p.integerToDer(e.pathLenConstraint).getBytes()));else if("extKeyUsage"===e.name){e.value=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[]);var o,a=e.value.value;for(o in e)!0===e[o]&&(o in y?a.push(p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(y[o]).getBytes())):-1!==o.indexOf(".")&&a.push(p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(o).getBytes())))}else if("nsCertType"===e.name)n=r=0,e.client&&(n|=128,r=7),e.server&&(n|=64,r=6),e.email&&(n|=32,r=5),e.objsign&&(n|=16,r=4),e.reserved&&(n|=8,r=3),e.sslCA&&(n|=4,r=2),e.emailCA&&(n|=2,r=1),e.objCA&&(n|=1,r=0),s=String.fromCharCode(r),0!==n&&(s+=String.fromCharCode(n)),e.value=p.create(p.Class.UNIVERSAL,p.Type.BITSTRING,!1,s);else if("subjectAltName"===e.name||"issuerAltName"===e.name){e.value=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[]);for(var c=0;c<e.altNames.length;++c){if(s=(h=e.altNames[c]).value,7===h.type&&h.ip){if(null===(s=b.util.bytesFromIP(h.ip)))throw(f=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,f}else 8===h.type&&(s=h.oid?p.oidToDer(p.oidToDer(h.oid)):p.oidToDer(s));e.value.value.push(p.create(p.Class.CONTEXT_SPECIFIC,h.type,!1,s))}}else if("nsComment"===e.name&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||128<e.comment.length)throw new Error('Invalid "nsComment" content.');e.value=p.create(p.Class.UNIVERSAL,p.Type.IA5STRING,!1,e.comment)}else if("subjectKeyIdentifier"===e.name&&t.cert){n=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=n.toHex(),e.value=p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,n.getBytes())}else if("authorityKeyIdentifier"===e.name&&t.cert){var u;e.value=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[]),a=e.value.value,e.keyIdentifier&&(u=!0===e.keyIdentifier?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier,a.push(p.create(p.Class.CONTEXT_SPECIFIC,0,!1,u))),e.authorityCertIssuer&&(u=[p.create(p.Class.CONTEXT_SPECIFIC,4,!0,[g(!0===e.authorityCertIssuer?t.cert.issuer:e.authorityCertIssuer)])],a.push(p.create(p.Class.CONTEXT_SPECIFIC,1,!0,u))),e.serialNumber&&(l=b.util.hexToBytes((!0===e.serialNumber?t.cert:e).serialNumber),a.push(p.create(p.Class.CONTEXT_SPECIFIC,2,!1,l)))}else if("cRLDistributionPoints"===e.name){e.value=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[]);for(var h,a=e.value.value,l=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[]),d=p.create(p.Class.CONTEXT_SPECIFIC,0,!0,[]),c=0;c<e.altNames.length;++c){if(s=(h=e.altNames[c]).value,7===h.type&&h.ip){if(null===(s=b.util.bytesFromIP(h.ip)))throw(f=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,f}else 8===h.type&&(s=h.oid?p.oidToDer(p.oidToDer(h.oid)):p.oidToDer(s));d.value.push(p.create(p.Class.CONTEXT_SPECIFIC,h.type,!1,s))}l.value.push(p.create(p.Class.CONTEXT_SPECIFIC,0,!0,[d])),a.push(l)}var f;if(void 0===e.value)throw(f=new Error("Extension value not specified.")).extension=e,f;return e}function n(e,t){if(e!==y["RSASSA-PSS"])return p.create(p.Class.UNIVERSAL,p.Type.NULL,!1,"");e=[];return void 0!==t.hash.algorithmOid&&e.push(p.create(p.Class.CONTEXT_SPECIFIC,0,!0,[p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(t.hash.algorithmOid).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.NULL,!1,"")])])),void 0!==t.mgf.algorithmOid&&e.push(p.create(p.Class.CONTEXT_SPECIFIC,1,!0,[p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(t.mgf.algorithmOid).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(t.mgf.hash.algorithmOid).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.NULL,!1,"")])])])),void 0!==t.saltLength&&e.push(p.create(p.Class.CONTEXT_SPECIFIC,2,!0,[p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,p.integerToDer(t.saltLength).getBytes())])),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,e)}v.certificateFromPem=function(e,t,r){var n=b.pem.decode(e)[0];if("CERTIFICATE"!==n.type&&"X509 CERTIFICATE"!==n.type&&"TRUSTED CERTIFICATE"!==n.type){e=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw e.headerType=n.type,e}if(n.procType&&"ENCRYPTED"===n.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");r=p.fromDer(n.body,r);return v.certificateFromAsn1(r,t)},v.certificateToPem=function(e,t){e={type:"CERTIFICATE",body:p.toDer(v.certificateToAsn1(e)).getBytes()};return b.pem.encode(e,{maxline:t})},v.publicKeyFromPem=function(e){var t=b.pem.decode(e)[0];if("PUBLIC KEY"!==t.type&&"RSA PUBLIC KEY"!==t.type){e=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw e.headerType=t.type,e}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");t=p.fromDer(t.body);return v.publicKeyFromAsn1(t)},v.publicKeyToPem=function(e,t){e={type:"PUBLIC KEY",body:p.toDer(v.publicKeyToAsn1(e)).getBytes()};return b.pem.encode(e,{maxline:t})},v.publicKeyToRSAPublicKeyPem=function(e,t){e={type:"RSA PUBLIC KEY",body:p.toDer(v.publicKeyToRSAPublicKey(e)).getBytes()};return b.pem.encode(e,{maxline:t})},v.getPublicKeyFingerprint=function(e,t){var r,n=(t=t||{}).md||b.md.sha1.create();switch(t.type||"RSAPublicKey"){case"RSAPublicKey":r=p.toDer(v.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":r=p.toDer(v.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}n.start(),n.update(r);var i=n.digest();if("hex"===t.encoding){n=i.toHex();return t.delimiter?n.match(/.{2}/g).join(t.delimiter):n}if("binary"===t.encoding)return i.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return i},v.certificationRequestFromPem=function(e,t,r){var n=b.pem.decode(e)[0];if("CERTIFICATE REQUEST"!==n.type){e=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw e.headerType=n.type,e}if(n.procType&&"ENCRYPTED"===n.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");r=p.fromDer(n.body,r);return v.certificationRequestFromAsn1(r,t)},v.certificationRequestToPem=function(e,t){e={type:"CERTIFICATE REQUEST",body:p.toDer(v.certificationRequestToAsn1(e)).getBytes()};return b.pem.encode(e,{maxline:t})},v.createCertificate=function(){var u={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return u.siginfo.algorithmOid=null,u.validity={},u.validity.notBefore=new Date,u.validity.notAfter=new Date,u.issuer={},u.issuer.getField=function(e){return h(u.issuer,e)},u.issuer.addField=function(e){d([e]),u.issuer.attributes.push(e)},u.issuer.attributes=[],u.issuer.hash=null,u.subject={},u.subject.getField=function(e){return h(u.subject,e)},u.subject.addField=function(e){d([e]),u.subject.attributes.push(e)},u.subject.attributes=[],u.subject.hash=null,u.extensions=[],u.publicKey=null,u.md=null,u.setSubject=function(e,t){d(e),u.subject.attributes=e,delete u.subject.uniqueId,t&&(u.subject.uniqueId=t),u.subject.hash=null},u.setIssuer=function(e,t){d(e),u.issuer.attributes=e,delete u.issuer.uniqueId,t&&(u.issuer.uniqueId=t),u.issuer.hash=null},u.setExtensions=function(e){for(var t=0;t<e.length;++t)s(e[t],{cert:u});u.extensions=e},u.getExtension=function(e){"string"==typeof e&&(e={name:e});for(var t,r=null,n=0;null===r&&n<u.extensions.length;++n)t=u.extensions[n],(e.id&&t.id===e.id||e.name&&t.name===e.name)&&(r=t);return r},u.sign=function(e,t){u.md=t||b.md.sha1.create();var r=y[u.md.algorithm+"WithRSAEncryption"];if(!r){t=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw t.algorithm=u.md.algorithm,t}u.signatureOid=u.siginfo.algorithmOid=r,u.tbsCertificate=v.getTBSCertificate(u);r=p.toDer(u.tbsCertificate);u.md.update(r.getBytes()),u.signature=e.sign(u.md)},u.verify=function(e){var t=!1;if(!u.issued(e)){var r=e.issuer,n=u.subject;throw(a=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.")).expectedIssuer=r.attributes,a.actualIssuer=n.attributes,a}var i,s,o,a,c=e.md;if(null===c){if(e.signatureOid in y)switch(y[e.signatureOid]){case"sha1WithRSAEncryption":c=b.md.sha1.create();break;case"md5WithRSAEncryption":c=b.md.md5.create();break;case"sha256WithRSAEncryption":case"RSASSA-PSS":c=b.md.sha256.create();break;case"sha384WithRSAEncryption":c=b.md.sha384.create();break;case"sha512WithRSAEncryption":c=b.md.sha512.create()}if(null===c)throw(a=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=e.signatureOid,a;n=e.tbsCertificate||v.getTBSCertificate(e),n=p.toDer(n);c.update(n.getBytes())}if(null!==c){switch(e.signatureOid){case y.sha1WithRSAEncryption:i=void 0;break;case y["RSASSA-PSS"]:if(void 0===(s=y[e.signatureParameters.mgf.hash.algorithmOid])||void 0===b.md[s])throw(a=new Error("Unsupported MGF hash function.")).oid=e.signatureParameters.mgf.hash.algorithmOid,a.name=s,a;if(void 0===(o=y[e.signatureParameters.mgf.algorithmOid])||void 0===b.mgf[o])throw(a=new Error("Unsupported MGF function.")).oid=e.signatureParameters.mgf.algorithmOid,a.name=o,a;if(o=b.mgf[o].create(b.md[s].create()),void 0===(s=y[e.signatureParameters.hash.algorithmOid])||void 0===b.md[s])throw{message:"Unsupported RSASSA-PSS hash function.",oid:e.signatureParameters.hash.algorithmOid,name:s};i=b.pss.create(b.md[s].create(),o,e.signatureParameters.saltLength)}t=u.publicKey.verify(c.digest().getBytes(),e.signature,i)}return t},u.isIssuer=function(e){var t=!1,r=u.issuer,n=e.subject;if(r.hash&&n.hash)t=r.hash===n.hash;else if(r.attributes.length===n.attributes.length)for(var i,s,t=!0,o=0;t&&o<r.attributes.length;++o)i=r.attributes[o],s=n.attributes[o],i.type===s.type&&i.value===s.value||(t=!1);return t},u.issued=function(e){return e.isIssuer(u)},u.generateSubjectKeyIdentifier=function(){return v.getPublicKeyFingerprint(u.publicKey,{type:"RSAPublicKey"})},u.verifySubjectKeyIdentifier=function(){for(var e=y.subjectKeyIdentifier,t=0;t<u.extensions.length;++t){var r=u.extensions[t];if(r.id===e){var n=u.generateSubjectKeyIdentifier().getBytes();return b.util.hexToBytes(r.subjectKeyIdentifier)===n}}return!1},u},v.certificateFromAsn1=function(e,t){var r={},n=[];if(!p.validate(e,a,r,n))throw(s=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.")).errors=n,s;if(p.derToOid(r.publicKeyOid)!==v.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var i=v.createCertificate();i.version=r.certVersion?r.certVersion.charCodeAt(0):0;n=b.util.createBuffer(r.certSerialNumber);i.serialNumber=n.toHex(),i.signatureOid=b.asn1.derToOid(r.certSignatureOid),i.signatureParameters=l(i.signatureOid,r.certSignatureParams,!0),i.siginfo.algorithmOid=b.asn1.derToOid(r.certinfoSignatureOid),i.siginfo.parameters=l(i.siginfo.algorithmOid,r.certinfoSignatureParams,!1),i.signature=r.certSignature;var s,n=[];if(void 0!==r.certValidity1UTCTime&&n.push(p.utcTimeToDate(r.certValidity1UTCTime)),void 0!==r.certValidity2GeneralizedTime&&n.push(p.generalizedTimeToDate(r.certValidity2GeneralizedTime)),void 0!==r.certValidity3UTCTime&&n.push(p.utcTimeToDate(r.certValidity3UTCTime)),void 0!==r.certValidity4GeneralizedTime&&n.push(p.generalizedTimeToDate(r.certValidity4GeneralizedTime)),2<n.length)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(n.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(i.validity.notBefore=n[0],i.validity.notAfter=n[1],i.tbsCertificate=r.tbsCertificate,t){if(i.md=null,i.signatureOid in y)switch(y[i.signatureOid]){case"sha1WithRSAEncryption":i.md=b.md.sha1.create();break;case"md5WithRSAEncryption":i.md=b.md.md5.create();break;case"sha256WithRSAEncryption":case"RSASSA-PSS":i.md=b.md.sha256.create();break;case"sha384WithRSAEncryption":i.md=b.md.sha384.create();break;case"sha512WithRSAEncryption":i.md=b.md.sha512.create()}if(null===i.md)throw(s=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=i.signatureOid,s;var o=p.toDer(i.tbsCertificate);i.md.update(o.getBytes())}o=b.md.sha1.create();i.issuer.getField=function(e){return h(i.issuer,e)},i.issuer.addField=function(e){d([e]),i.issuer.attributes.push(e)},i.issuer.attributes=v.RDNAttributesAsArray(r.certIssuer,o),r.certIssuerUniqueId&&(i.issuer.uniqueId=r.certIssuerUniqueId),i.issuer.hash=o.digest().toHex();o=b.md.sha1.create();return i.subject.getField=function(e){return h(i.subject,e)},i.subject.addField=function(e){d([e]),i.subject.attributes.push(e)},i.subject.attributes=v.RDNAttributesAsArray(r.certSubject,o),r.certSubjectUniqueId&&(i.subject.uniqueId=r.certSubjectUniqueId),i.subject.hash=o.digest().toHex(),r.certExtensions?i.extensions=v.certificateExtensionsFromAsn1(r.certExtensions):i.extensions=[],i.publicKey=v.publicKeyFromAsn1(r.subjectPublicKeyInfo),i},v.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(v.certificateExtensionFromAsn1(n.value[i]));return t},v.certificateExtensionFromAsn1=function(e){var t,r={};if(r.id=p.derToOid(e.value[0].value),r.critical=!1,e.value[1].type===p.Type.BOOLEAN?(r.critical=0!==e.value[1].value.charCodeAt(0),r.value=e.value[2].value):r.value=e.value[1].value,r.id in y)if(r.name=y[r.id],"keyUsage"===r.name){var n=0,i=0;1<(s=p.fromDer(r.value)).value.length&&(n=s.value.charCodeAt(1),i=2<s.value.length?s.value.charCodeAt(2):0),r.digitalSignature=128==(128&n),r.nonRepudiation=64==(64&n),r.keyEncipherment=32==(32&n),r.dataEncipherment=16==(16&n),r.keyAgreement=8==(8&n),r.keyCertSign=4==(4&n),r.cRLSign=2==(2&n),r.encipherOnly=1==(1&n),r.decipherOnly=128==(128&i)}else if("basicConstraints"===r.name){0<(s=p.fromDer(r.value)).value.length&&s.value[0].type===p.Type.BOOLEAN?r.cA=0!==s.value[0].value.charCodeAt(0):r.cA=!1;i=null;0<s.value.length&&s.value[0].type===p.Type.INTEGER?i=s.value[0].value:1<s.value.length&&(i=s.value[1].value),null!==i&&(r.pathLenConstraint=p.derToInteger(i))}else if("extKeyUsage"===r.name)for(var s=p.fromDer(r.value),o=0;o<s.value.length;++o){var a=p.derToOid(s.value[o].value);a in y?r[y[a]]=!0:r[a]=!0}else if("nsCertType"===r.name)n=0,1<(s=p.fromDer(r.value)).value.length&&(n=s.value.charCodeAt(1)),r.client=128==(128&n),r.server=64==(64&n),r.email=32==(32&n),r.objsign=16==(16&n),r.reserved=8==(8&n),r.sslCA=4==(4&n),r.emailCA=2==(2&n),r.objCA=1==(1&n);else if("subjectAltName"===r.name||"issuerAltName"===r.name){r.altNames=[];for(var s=p.fromDer(r.value),c=0;c<s.value.length;++c){var u={type:(t=s.value[c]).type,value:t.value};switch(r.altNames.push(u),t.type){case 1:case 2:case 6:break;case 7:u.ip=b.util.bytesToIP(t.value);break;case 8:u.oid=p.derToOid(t.value)}}}else"subjectKeyIdentifier"===r.name&&(s=p.fromDer(r.value),r.subjectKeyIdentifier=b.util.bytesToHex(s.value));return r},v.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!p.validate(e,c,r,n))throw(i=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.")).errors=n,i;if(p.derToOid(r.publicKeyOid)!==v.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var i,s=v.createCertificationRequest();if(s.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,s.signatureOid=b.asn1.derToOid(r.csrSignatureOid),s.signatureParameters=l(s.signatureOid,r.csrSignatureParams,!0),s.siginfo.algorithmOid=b.asn1.derToOid(r.csrSignatureOid),s.siginfo.parameters=l(s.siginfo.algorithmOid,r.csrSignatureParams,!1),s.signature=r.csrSignature,s.certificationRequestInfo=r.certificationRequestInfo,t){if(s.md=null,s.signatureOid in y)switch(y[s.signatureOid]){case"sha1WithRSAEncryption":s.md=b.md.sha1.create();break;case"md5WithRSAEncryption":s.md=b.md.md5.create();break;case"sha256WithRSAEncryption":case"RSASSA-PSS":s.md=b.md.sha256.create();break;case"sha384WithRSAEncryption":s.md=b.md.sha384.create();break;case"sha512WithRSAEncryption":s.md=b.md.sha512.create()}if(null===s.md)throw(i=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=s.signatureOid,i;var o=p.toDer(s.certificationRequestInfo);s.md.update(o.getBytes())}o=b.md.sha1.create();return s.subject.getField=function(e){return h(s.subject,e)},s.subject.addField=function(e){d([e]),s.subject.attributes.push(e)},s.subject.attributes=v.RDNAttributesAsArray(r.certificationRequestInfoSubject,o),s.subject.hash=o.digest().toHex(),s.publicKey=v.publicKeyFromAsn1(r.subjectPublicKeyInfo),s.getAttribute=function(e){return h(s,e)},s.addAttribute=function(e){d([e]),s.attributes.push(e)},s.attributes=v.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),s},v.createCertificationRequest=function(){var a={version:0,signatureOid:null,signature:null,siginfo:{}};return a.siginfo.algorithmOid=null,a.subject={},a.subject.getField=function(e){return h(a.subject,e)},a.subject.addField=function(e){d([e]),a.subject.attributes.push(e)},a.subject.attributes=[],a.subject.hash=null,a.publicKey=null,a.attributes=[],a.getAttribute=function(e){return h(a,e)},a.addAttribute=function(e){d([e]),a.attributes.push(e)},a.md=null,a.setSubject=function(e){d(e),a.subject.attributes=e,a.subject.hash=null},a.setAttributes=function(e){d(e),a.attributes=e},a.sign=function(e,t){a.md=t||b.md.sha1.create();var r=y[a.md.algorithm+"WithRSAEncryption"];if(!r){t=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw t.algorithm=a.md.algorithm,t}a.signatureOid=a.siginfo.algorithmOid=r,a.certificationRequestInfo=v.getCertificationRequestInfo(a);r=p.toDer(a.certificationRequestInfo);a.md.update(r.getBytes()),a.signature=e.sign(a.md)},a.verify=function(){var e,t,r,n,i=!1,s=a.md;if(null===s){if(a.signatureOid in y)switch(y[a.signatureOid]){case"sha1WithRSAEncryption":s=b.md.sha1.create();break;case"md5WithRSAEncryption":s=b.md.md5.create();break;case"sha256WithRSAEncryption":case"RSASSA-PSS":s=b.md.sha256.create();break;case"sha384WithRSAEncryption":s=b.md.sha384.create();break;case"sha512WithRSAEncryption":s=b.md.sha512.create()}if(null===s)throw(n=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=a.signatureOid,n;var o=a.certificationRequestInfo||v.getCertificationRequestInfo(a),o=p.toDer(o);s.update(o.getBytes())}if(null!==s){switch(a.signatureOid){case y.sha1WithRSAEncryption:break;case y["RSASSA-PSS"]:if(void 0===(t=y[a.signatureParameters.mgf.hash.algorithmOid])||void 0===b.md[t])throw(n=new Error("Unsupported MGF hash function.")).oid=a.signatureParameters.mgf.hash.algorithmOid,n.name=t,n;if(void 0===(r=y[a.signatureParameters.mgf.algorithmOid])||void 0===b.mgf[r])throw(n=new Error("Unsupported MGF function.")).oid=a.signatureParameters.mgf.algorithmOid,n.name=r,n;if(r=b.mgf[r].create(b.md[t].create()),void 0===(t=y[a.signatureParameters.hash.algorithmOid])||void 0===b.md[t])throw(n=new Error("Unsupported RSASSA-PSS hash function.")).oid=a.signatureParameters.hash.algorithmOid,n.name=t,n;e=b.pss.create(b.md[t].create(),r,a.signatureParameters.saltLength)}i=a.publicKey.verify(s.digest().getBytes(),a.signature,e)}return i},a};var o=new Date("1950-01-01T00:00:00Z"),f=new Date("2050-01-01T00:00:00Z");function m(e){return o<=e&&e<f?p.create(p.Class.UNIVERSAL,p.Type.UTCTIME,!1,p.dateToUtcTime(e)):p.create(p.Class.UNIVERSAL,p.Type.GENERALIZEDTIME,!1,p.dateToGeneralizedTime(e))}v.getTBSCertificate=function(e){var t=m(e.validity.notBefore),r=m(e.validity.notAfter),r=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.CONTEXT_SPECIFIC,0,!0,[p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,p.integerToDer(e.version).getBytes())]),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,b.util.hexToBytes(e.serialNumber)),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(e.siginfo.algorithmOid).getBytes()),n(e.siginfo.algorithmOid,e.siginfo.parameters)]),g(e.issuer),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[t,r]),g(e.subject),v.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&r.value.push(p.create(p.Class.CONTEXT_SPECIFIC,1,!0,[p.create(p.Class.UNIVERSAL,p.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&r.value.push(p.create(p.Class.CONTEXT_SPECIFIC,2,!0,[p.create(p.Class.UNIVERSAL,p.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),0<e.extensions.length&&r.value.push(v.certificateExtensionsToAsn1(e.extensions)),r},v.getCertificationRequestInfo=function(e){return p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,p.integerToDer(e.version).getBytes()),g(e.subject),v.publicKeyToAsn1(e.publicKey),function(e){var t=p.create(p.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===e.attributes.length)return t;for(var r=e.attributes,n=0;n<r.length;++n){var i=r[n],s=i.value,o=p.Type.UTF8;(o="valueTagClass"in i?i.valueTagClass:o)===p.Type.UTF8&&(s=b.util.encodeUtf8(s));var a=!1;"valueConstructed"in i&&(a=i.valueConstructed);s=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(i.type).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.SET,!0,[p.create(p.Class.UNIVERSAL,o,a,s)])]);t.value.push(s)}return t}(e)])},v.distinguishedNameToAsn1=g,v.certificateToAsn1=function(e){var t=e.tbsCertificate||v.getTBSCertificate(e);return p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[t,p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(e.signatureOid).getBytes()),n(e.signatureOid,e.signatureParameters)]),p.create(p.Class.UNIVERSAL,p.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},v.certificateExtensionsToAsn1=function(e){var t=p.create(p.Class.CONTEXT_SPECIFIC,3,!0,[]),r=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(v.certificateExtensionToAsn1(e[n]));return t},v.certificateExtensionToAsn1=function(e){var t=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[]);t.value.push(p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(e.id).getBytes())),e.critical&&t.value.push(p.create(p.Class.UNIVERSAL,p.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=e.value;return"string"!=typeof e.value&&(r=p.toDer(r).getBytes()),t.value.push(p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,r)),t},v.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||v.getCertificationRequestInfo(e);return p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[t,p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(e.signatureOid).getBytes()),n(e.signatureOid,e.signatureParameters)]),p.create(p.Class.UNIVERSAL,p.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},v.createCaStore=function(e){var s={certs:{}};function o(e){return a(e),s.certs[e.hash]||null}function a(e){var t;e.hash||(t=b.md.sha1.create(),e.attributes=v.RDNAttributesAsArray(g(e),t),e.hash=t.digest().toHex())}if(s.getIssuer=function(e){return o(e.issuer)},s.addCertificate=function(e){var t;a((e="string"==typeof e?b.pki.certificateFromPem(e):e).subject),s.hasCertificate(e)||(e.subject.hash in s.certs?(t=s.certs[e.subject.hash],(t=!b.util.isArray(t)?[t]:t).push(e),s.certs[e.subject.hash]=t):s.certs[e.subject.hash]=e)},s.hasCertificate=function(e){var t=o((e="string"==typeof e?b.pki.certificateFromPem(e):e).subject);if(!t)return!1;b.util.isArray(t)||(t=[t]);for(var r=p.toDer(v.certificateToAsn1(e)).getBytes(),n=0;n<t.length;++n)if(r===p.toDer(v.certificateToAsn1(t[n])).getBytes())return!0;return!1},s.listAllCertificates=function(){var e,t=[];for(e in s.certs)if(s.certs.hasOwnProperty(e)){var r=s.certs[e];if(b.util.isArray(r))for(var n=0;n<r.length;++n)t.push(r[n]);else t.push(r)}return t},s.removeCertificate=function(e){var t;if(a((e="string"==typeof e?b.pki.certificateFromPem(e):e).subject),!s.hasCertificate(e))return null;var r=o(e.subject);if(!b.util.isArray(r))return t=s.certs[e.subject.hash],delete s.certs[e.subject.hash],t;for(var n=p.toDer(v.certificateToAsn1(e)).getBytes(),i=0;i<r.length;++i)n===p.toDer(v.certificateToAsn1(r[i])).getBytes()&&(t=r[i],r.splice(i,1));return 0===r.length&&delete s.certs[e.subject.hash],t},e)for(var t=0;t<e.length;++t){var r=e[t];s.addCertificate(r)}return s},v.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},v.verifyCertificateChain=function(e,t,r){r=(r="function"==typeof r?{verify:r}:r)||{};var n=(t=t.slice(0)).slice(0),i=r.validityCheckDate;void 0===i&&(i=new Date);var s=!0,o=null,a=0;do{var c=t.shift(),u=null,h=!1;if(null===(o=i&&(i<c.validity.notBefore||i>c.validity.notAfter)?{message:"Certificate is not valid yet or has expired.",error:v.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:i}:o)){if(null===(u=t[0]||e.getIssuer(c))&&c.isIssuer(c)&&(h=!0,u=c),u){var l=u;b.util.isArray(l)||(l=[l]);for(var d=!1;!d&&0<l.length;){u=l.shift();try{d=u.verify(c)}catch(e){}}d||(o={message:"Certificate signature is invalid.",error:v.certificateError.bad_certificate})}null!==o||u&&!h||e.hasCertificate(c)||(o={message:"Certificate is not trusted.",error:v.certificateError.unknown_ca})}if(null===(o=null===o&&u&&!c.isIssuer(u)?{message:"Certificate issuer is invalid.",error:v.certificateError.bad_certificate}:o))for(var f={keyUsage:!0,basicConstraints:!0},p=0;null===o&&p<c.extensions.length;++p){var y=c.extensions[p];!y.critical||y.name in f||(o={message:"Certificate has an unsupported critical extension.",error:v.certificateError.unsupported_certificate})}null!==o||s&&(0!==t.length||u&&!h)||(m=c.getExtension("basicConstraints"),null!==(g=c.getExtension("keyUsage"))&&(g.keyCertSign&&null!==m||(o={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:v.certificateError.bad_certificate})),null===(o=null===o&&null!==m&&!m.cA?{message:"Certificate basicConstraints indicates the certificate is not a CA.",error:v.certificateError.bad_certificate}:o)&&null!==g&&"pathLenConstraint"in m&&a-1>m.pathLenConstraint&&(o={message:"Certificate basicConstraints pathLenConstraint violated.",error:v.certificateError.bad_certificate}));var g=null===o||o.error,m=r.verify?r.verify(g,a,n):g;if(!0!==m)throw!0===g&&(o={message:"The application rejected the certificate.",error:v.certificateError.bad_certificate}),!m&&0!==m||("object"!=typeof m||b.util.isArray(m)?"string"==typeof m&&(o.error=m):(m.message&&(o.message=m.message),m.error&&(o.error=m.error))),o}while(o=null,s=!1,++a,0<t.length);return!0}},61750:(e,t,r)=>{"use strict";const n=r(97759),i=r(15663);e.exports=(e,t)=>{const r=n(e,{...t,count:1});return i.fn(async e=>{e(()=>{r.cancel()});var[e]=await r;return e})()},e.exports.AggregateError=n.AggregateError},15663:e=>{"use strict";class t extends Error{constructor(e){super(e||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}}class r{static fn(i){return(...n)=>new r((e,t,r)=>{n.push(r),i(...n).then(e,t)})}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((t,r)=>{this._reject=r;const n=e=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(e)};return Object.defineProperties(n,{shouldReject:{get:()=>this._rejectOnCancel,set:e=>{this._rejectOnCancel=e}}}),e(e=>{this._isCanceled&&n.shouldReject||(this._isPending=!1,t(e))},e=>{this._isPending=!1,r(e)},n)})}then(e,t){return this._promise.then(e,t)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(this._isPending&&!this._isCanceled){if(this._isCanceled=!0,0<this._cancelHandlers.length)try{for(const e of this._cancelHandlers)e()}catch(e){return void this._reject(e)}this._rejectOnCancel&&this._reject(new t(e))}}get isCanceled(){return this._isCanceled}}Object.setPrototypeOf(r.prototype,Promise.prototype),e.exports=r,e.exports.CancelError=t},63931:e=>{"use strict";e.exports=()=>{const r={};return r.promise=new Promise((e,t)=>{r.resolve=e,r.reject=t}),r}},35103:(e,t,r)=>{const n=r(91607),i=r(63931);e.exports=class{constructor(){this._buffer=new n,this._waitingConsumers=new n}push(e){var{promise:t,resolve:r}=i();return this._buffer.push({chunk:e,resolve:r}),this._consume(),t}_consume(){for(;!this._waitingConsumers.isEmpty()&&!this._buffer.isEmpty();){const e=this._waitingConsumers.shift(),t=this._buffer.shift();e.resolve(t.chunk),t.resolve()}}shift(){var{promise:e,resolve:t}=i();return this._waitingConsumers.push({resolve:t}),this._consume(),e}isEmpty(){return this._buffer.isEmpty()}}},27345:e=>{"use strict";e.exports=(e,t)=>(t=t||(()=>{}),e.then(e=>new Promise(e=>{e(t())}).then(()=>e),e=>new Promise(e=>{e(t())}).then(()=>{throw e})))},45860:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(26729),s=r(58147),i=r(66506),o=()=>{},a=new s.TimeoutError;t.default=class extends n{constructor(e){var t;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=o,this._resolveIdle=o,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:i.default},e)).intervalCap&&1<=e.intervalCap))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(t=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==t?t:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&0<=e.interval))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(t=null===(t=e.interval)||void 0===t?void 0:t.toString())&&void 0!==t?t:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=o,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=o,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){var e=Date.now();if(void 0===this._intervalId){e=this._intervalEnd-e;if(!(e<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},e)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){var e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&1<=e))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(n,i={}){return new Promise((t,r)=>{this._queue.enqueue(async()=>{this._pendingCount++,this._intervalCount++;try{var e=void 0===this._timeout&&void 0===i.timeout?n():s.default(Promise.resolve(n()),void 0===i.timeout?this._timeout:i.timeout,()=>{(void 0===i.throwOnTimeout?this._throwOnTimeout:i.throwOnTimeout)&&r(a)});t(await e)}catch(e){r(e)}this._next()},i),this._tryToStartAnother(),this.emit("add")})}async addAll(e,t){return Promise.all(e.map(async e=>this.add(e,t)))}start(){return this._isPaused&&(this._isPaused=!1,this._processQueue()),this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise(e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}})}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise(e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}},87489:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){let n=0,i=e.length;for(;0<i;){var s=i/2|0,o=n+s;r(e[o],t)<=0?(n=++o,i-=1+s):i=s}return n}},66506:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(87489);t.default=class{constructor(){this._queue=[]}enqueue(e,t){e={priority:(t=Object.assign({priority:0},t)).priority,run:e};this.size&&this._queue[this.size-1].priority>=t.priority?this._queue.push(e):(t=n.default(this._queue,e,(e,t)=>t.priority-e.priority),this._queue.splice(t,0,e))}dequeue(){var e=this._queue.shift();return null==e?void 0:e.run}filter(t){return this._queue.filter(e=>e.priority===t.priority).map(e=>e.run)}get size(){return this._queue.length}}},47924:e=>{"use strict";var t=async e=>{try{return{isFulfilled:!0,isRejected:!1,value:await e}}catch(e){return{isFulfilled:!1,isRejected:!0,reason:e}}};e.exports=t,e.exports.default=t},42693:(e,t,r)=>{"use strict";const n=r(48837),c=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class u extends Error{constructor(e){super(),e instanceof Error?e=(this.originalError=e)["message"]:(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}r=(o,a)=>new Promise((e,i)=>{a={onFailedAttempt:()=>{},retries:10,...a};const s=n.operation(a);s.attempt(async t=>{try{e(await o(t))}catch(e){if(!(e instanceof Error))return void i(new TypeError(`Non-error was thrown: "${e}". You should only throw errors.`));if(e instanceof u)s.stop(),i(e.originalError);else if(e instanceof TypeError&&(n=e.message,!c.includes(n)))s.stop(),i(e);else{r=e,n=a.retries-(t-1),r.attemptNumber=t,r.retriesLeft=n;try{await a.onFailedAttempt(e)}catch(e){return void i(e)}s.retry(e)||i(s.mainError())}}var r,n})});e.exports=r,e.exports.default=r,e.exports.AbortError=u},48837:(e,t,r)=>{e.exports=r(42280)},42280:(e,a,t)=>{var r=t(70793);a.operation=function(e){var t=a.timeouts(e);return new r(t,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},a.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t,r={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(t in e)r[t]=e[t];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],i=0;i<r.retries;i++)n.push(this.createTimeout(i,r));return e&&e.forever&&!n.length&&n.push(this.createTimeout(i,r)),n.sort(function(e,t){return e-t}),n},a.createTimeout=function(e,t){var r=t.randomize?Math.random()+1:1,e=Math.round(r*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return Math.min(e,t.maxTimeout)},a.wrap=function(i,s,e){if(s instanceof Array&&(e=s,s=null),!e)for(var t in e=[],i)"function"==typeof i[t]&&e.push(t);for(var r=0;r<e.length;r++){var n=e[r],o=i[n];i[n]=function(e){var t=a.operation(s),r=Array.prototype.slice.call(arguments,1),n=r.pop();r.push(function(e){t.retry(e)||(e&&(arguments[0]=t.mainError()),n.apply(this,arguments))}),t.attempt(function(){e.apply(i,r)})}.bind(i,o),i[n].options=s}}},70793:e=>{function t(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}(e.exports=t).prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);e=this._timeouts.shift();if(void 0===e){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),e=this._cachedTimeouts.slice(-1)}var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},e),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],s=i.message,o=(e[s]||0)+1;r<=(e[s]=o)&&(t=i,r=o)}return t}},13296:(e,t,r)=>{"use strict";const i=r(47924),s=r(97020);e.exports=async(e,t={})=>{const{concurrency:r=1/0}=t,n=s(r);return Promise.all(e.map(e=>e&&"function"==typeof e.then?i(e):i("function"==typeof e?n(()=>e()):Promise.resolve(e))))}},97020:(e,t,r)=>{"use strict";const c=r(89161),n=n=>{if(!Number.isInteger(n)&&n!==1/0||!(0<n))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const i=[];let s=0;const o=()=>{s--,0<i.length&&i.shift()()},a=(e,t,...r)=>{s++;const n=c(e,...r);t(n),n.then(o,o)},e=(t,...r)=>new Promise(e=>((e,t,...r)=>{s<n?a(e,t,...r):i.push(a.bind(null,e,t,...r))})(t,e,...r));return Object.defineProperties(e,{activeCount:{get:()=>s},pendingCount:{get:()=>i.length},clearQueue:{value:()=>{i.length=0}}}),e};e.exports=n,e.exports.default=n},97759:(e,t,r)=>{"use strict";const f=r(56455),n=r(52670);class p extends Error{}e.exports=(l,d)=>new n((n,i,e)=>{const{count:s,filter:o=()=>!0}=d;if(Number.isFinite(s)){const a=[],c=[];let t=0,r=!1;const u=new Set,h=()=>{for(const e of l)u.has(e)||"function"!=typeof e.cancel||e.cancel()};e(h);for(const d of l)t++,(async()=>{try{var e=await d;if(r)return;if(!o(e))throw new p("Value does not satisfy filter");a.push(e)}catch(e){c.push(e)}finally{u.add(d),!r&&(a.length===s&&(n(a),r=!0),t-c.length<s&&(i(new f(c)),r=!0),r)&&h()}})();s>t&&(i(new RangeError(`Expected input to contain at least ${d.count} items, but contains ${t} items`)),h())}else i(new TypeError("Expected a finite number, got "+typeof d.count))}),e.exports.AggregateError=f,e.exports.FilterError=p},52670:e=>{"use strict";class t extends Error{constructor(e){super(e||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}}class r{static fn(i){return(...n)=>new r((e,t,r)=>{n.push(r),i(...n).then(e,t)})}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((t,r)=>{this._reject=r;const n=e=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(e)};return Object.defineProperties(n,{shouldReject:{get:()=>this._rejectOnCancel,set:e=>{this._rejectOnCancel=e}}}),e(e=>{this._isCanceled&&n.shouldReject||(this._isPending=!1,t(e))},e=>{this._isPending=!1,r(e)},n)})}then(e,t){return this._promise.then(e,t)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(this._isPending&&!this._isCanceled){if(this._isCanceled=!0,0<this._cancelHandlers.length)try{for(const e of this._cancelHandlers)e()}catch(e){return void this._reject(e)}this._rejectOnCancel&&this._reject(new t(e))}}get isCanceled(){return this._isCanceled}}Object.setPrototypeOf(r.prototype,Promise.prototype),e.exports=r,e.exports.CancelError=t},58147:(e,t,r)=>{"use strict";const o=r(27345);class a extends Error{constructor(e){super(e),this.name="TimeoutError"}}r=(n,i,s)=>new Promise((t,r)=>{if("number"!=typeof i||i<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(i!==1/0){const e=setTimeout(()=>{if("function"!=typeof s){var e=s instanceof Error?s:new a("string"==typeof s?s:`Promise timed out after ${i} milliseconds`);"function"==typeof n.cancel&&n.cancel(),r(e)}else try{t(s())}catch(e){r(e)}},i);o(n.then(t,r),()=>{clearTimeout(e)})}else t(n)});e.exports=r,e.exports.default=r,e.exports.TimeoutError=a},89161:e=>{"use strict";var t=(t,...r)=>new Promise(e=>{e(t(...r))});e.exports=t,e.exports.default=t},81830:(e,t)=>{t.encode=function(e){var t,r="";for(t in e)e.hasOwnProperty(t)&&(r.length&&(r+="&"),r+=encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return r},t.decode=function(e){for(var t={},r=e.split("&"),n=0,i=r.length;n<i;n++){var s=r[n].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}},64187:e=>{var c=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,u=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,r=e.indexOf("["),n=e.indexOf("]");-1!=r&&-1!=n&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));for(var i,s=c.exec(e||""),o={},a=14;a--;)o[u[a]]=s[a]||"";return-1!=r&&-1!=n&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=(t=(n=o.path).replace(/\/{2,9}/g,"/").split("/"),"/"!=n.substr(0,1)&&0!==n.length||t.splice(0,1),"/"==n.substr(n.length-1,1)&&t.splice(t.length-1,1),t),o.queryKey=(t=o.query,i={},t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,r){t&&(i[t]=r)}),i),o}},88785:(e,r,t)=>{"use strict";const n=t(81362)["CID"],i=t(22817),s=t(98441),o=t(99086),a=t(9885),c=t(99086)["base58btc"],u=t(22817)["base32"],h=t(84835)["base16"],l=t(28924),d=t(14437),f=t(98514),p=t(28780)["PeerIdProto"],y=t(19588)["equals"],g=t(52217)["fromString"],m=t(92263)["toString"],b=t(78103)["identity"],v={...i,...s,...o,...a},w=Object.keys(v).reduce((e,t)=>e.or(v[t]),u.decoder),_=f(class{constructor(e,t,r){if(!(e instanceof Uint8Array))throw new Error("invalid id provided");if(t&&r&&!y(t.public.bytes,r.bytes))throw new Error("inconsistent arguments");this._id=e,this._idB58String=c.encode(this.id).substring(1),this._privKey=t,this._pubKey=r}get id(){return this._id}set id(e){throw new Error("Id is immutable")}get privKey(){return this._privKey}set privKey(e){this._privKey=e}get pubKey(){if(this._pubKey)return this._pubKey;if(this._privKey)return this._privKey.public;try{var e=l.decode(this.id);e.code===b.code&&(this._pubKey=d.unmarshalPublicKey(e.digest))}catch(e){}return this._pubKey}set pubKey(e){this._pubKey=e}marshalPubKey(){if(this.pubKey)return d.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return d.marshalPrivateKey(this.privKey)}marshal(e){return p.encode({id:this.toBytes(),pubKey:this.marshalPubKey(),privKey:e?null:this.marshalPrivKey()}).finish()}toPrint(){let e=this.toB58String();e.startsWith("Qm")&&(e=e.slice(2));let t=6;return e.length<t&&(t=e.length),"<peer.ID "+e.substr(0,t)+">"}toJSON(){return{id:this.toB58String(),privKey:A(this.marshalPrivKey()),pubKey:A(this.marshalPubKey())}}toHexString(){return h.encode(this.id).substring(1)}toBytes(){return this.id}toB58String(){return this._idB58String}toString(){if(!this._idCIDString){const e=n.createV1(114,l.decode(this.id));Object.defineProperty(this,"_idCIDString",{value:e.toString(),enumerable:!1})}return this._idCIDString}equals(e){if(e instanceof Uint8Array)return y(this.id,e);if(e.id)return y(this.id,e.id);throw new Error("not valid Id")}isEqual(e){return this.equals(e)}isValid(){return Boolean(this.privKey&&this.privKey.public&&this.privKey.public.bytes&&this.pubKey.bytes instanceof Uint8Array&&y(this.privKey.public.bytes,this.pubKey.bytes))}hasInlinePublicKey(){try{if(l.decode(this.id).code===b.code)return!0}catch(e){}return!1}},{className:"PeerId",symbolName:"@libp2p/js-peer-id/PeerId"});r=e.exports=_;const E=e=>e.bytes.length<=42?l.create(b.code,e.bytes).bytes:e.hash(),S=async(e,t)=>{var r=await E(t);return new _(r,e,t)};r.create=async e=>{(e=e||{}).bits=e.bits||2048,e.keyType=e.keyType||"RSA";e=await d.generateKeyPair(e.keyType,e.bits);return S(e,e.public)},r.createFromHexString=e=>new _(h.decode("f"+e)),r.createFromBytes=e=>{try{var t=n.decode(e);if(!C(t))throw new Error("Supplied PeerID CID is invalid");return r.createFromCID(t)}catch{if(l.decode(e).code!==b.code)throw new Error("Supplied PeerID CID is invalid");return new _(e)}},r.createFromB58String=e=>r.createFromBytes(c.decode("z"+e));const C=e=>114===e.code||112===e.code;function A(e){if(e)return m(e,"base64pad")}r.createFromCID=e=>{if(!(e=n.asCID(e))||!C(e))throw new Error("Supplied PeerID CID is invalid");return new _(e.multihash.bytes)},r.createFromPubKey=async e=>{let t=e;if("string"==typeof t&&(t=g(e,"base64pad")),!(t instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");e=await d.unmarshalPublicKey(t);return S(void 0,e)},r.createFromPrivKey=async e=>{if(!((e="string"==typeof e?g(e,"base64pad"):e)instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");e=await d.unmarshalPrivateKey(e);return S(e,e.public)},r.createFromJSON=async e=>{var t=c.decode("z"+e.id),r=e.privKey&&g(e.privKey,"base64pad"),n=e.pubKey&&g(e.pubKey,"base64pad"),e=n&&await d.unmarshalPublicKey(n);if(!r)return new _(t,void 0,e);n=await d.unmarshalPrivateKey(r),r=await E(n.public);let i;if(e&&(i=await E(e)),e&&!y(r,i))throw new Error("Public and private key do not match");if(t&&!y(r,t))throw new Error("Id and private key do not match");return new _(t,n,e)},r.createFromProtobuf=async e=>{"string"==typeof e&&(e=g(e,"base16"));let t,r,{id:n,privKey:i,pubKey:s}=p.decode(e);if(i=!!i&&await d.unmarshalPrivateKey(i),s=!!s&&await d.unmarshalPublicKey(s),i&&(r=await E(i.public)),s&&(t=await E(s)),i){if(s&&!y(r,t))throw new Error("Public and private key do not match");return new _(r,i,i.public)}if(s)return new _(t,void 0,s);if(n)return new _(n);throw new Error("Protobuf did not contain any usable key material")},r.parse=e=>("1"!==e.charAt(0)&&"Q"!==e.charAt(0)||(e="z"+e),r.createFromBytes(w.decode(e))),r.isPeerId=e=>Boolean("object"==typeof e&&e._id&&e._idB58String)},28780:(e,t,r)=>{"use strict";var n=r(62100),s=n.Reader,i=n.Writer,o=n.util,a=n.roots["libp2p-peer-id"]||(n.roots["libp2p-peer-id"]={});function c(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}a.PeerIdProto=(c.prototype.id=o.newBuffer([]),c.prototype.pubKey=o.newBuffer([]),c.prototype.privKey=o.newBuffer([]),c.encode=function(e,t){return(t=t||i.create()).uint32(10).bytes(e.id),null!=e.pubKey&&Object.hasOwnProperty.call(e,"pubKey")&&t.uint32(18).bytes(e.pubKey),null!=e.privKey&&Object.hasOwnProperty.call(e,"privKey")&&t.uint32(26).bytes(e.privKey),t},c.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.PeerIdProto;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.id=e.bytes();break;case 2:n.pubKey=e.bytes();break;case 3:n.privKey=e.bytes();break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("id"))throw o.ProtocolError("missing required 'id'",{instance:n});return n},c.fromObject=function(e){if(e instanceof a.PeerIdProto)return e;var t=new a.PeerIdProto;return null!=e.id&&("string"==typeof e.id?o.base64.decode(e.id,t.id=o.newBuffer(o.base64.length(e.id)),0):e.id.length&&(t.id=e.id)),null!=e.pubKey&&("string"==typeof e.pubKey?o.base64.decode(e.pubKey,t.pubKey=o.newBuffer(o.base64.length(e.pubKey)),0):e.pubKey.length&&(t.pubKey=e.pubKey)),null!=e.privKey&&("string"==typeof e.privKey?o.base64.decode(e.privKey,t.privKey=o.newBuffer(o.base64.length(e.privKey)),0):e.privKey.length&&(t.privKey=e.privKey)),t},c.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(t.bytes===String?r.id="":(r.id=[],t.bytes!==Array&&(r.id=o.newBuffer(r.id))),t.bytes===String?r.pubKey="":(r.pubKey=[],t.bytes!==Array&&(r.pubKey=o.newBuffer(r.pubKey))),t.bytes===String?r.privKey="":(r.privKey=[],t.bytes!==Array&&(r.privKey=o.newBuffer(r.privKey)))),null!=e.id&&e.hasOwnProperty("id")&&(r.id=t.bytes===String?o.base64.encode(e.id,0,e.id.length):t.bytes===Array?Array.prototype.slice.call(e.id):e.id),null!=e.pubKey&&e.hasOwnProperty("pubKey")&&(r.pubKey=t.bytes===String?o.base64.encode(e.pubKey,0,e.pubKey.length):t.bytes===Array?Array.prototype.slice.call(e.pubKey):e.pubKey),null!=e.privKey&&e.hasOwnProperty("privKey")&&(r.privKey=t.bytes===String?o.base64.encode(e.privKey,0,e.privKey.length):t.bytes===Array?Array.prototype.slice.call(e.privKey):e.privKey),r},c.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},c),e.exports=a},290:(e,t,r)=>{"use strict";e.exports=r(96114).default},96114:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(28951),s=n(r(1476)),o=n(r(5003)),a=r(56512),c=["0.0.0.0/8","10.0.0.0/8","100.64.0.0/10","127.0.0.0/8","169.254.0.0/16","172.16.0.0/12","192.0.0.0/24","192.0.0.0/29","192.0.0.8/32","192.0.0.9/32","192.0.0.10/32","192.0.0.170/32","192.0.0.171/32","192.0.2.0/24","192.31.196.0/24","192.52.193.0/24","192.88.99.0/24","192.168.0.0/16","192.175.48.0/24","198.18.0.0/15","198.51.100.0/24","203.0.113.0/24","240.0.0.0/4","255.255.255.255/32"].map(e=>new i.Netmask(e));function u(e){return/^::$/.test(e)||/^::1$/.test(e)||/^::f{4}:([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(e)||/^::f{4}:0.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(e)||/^64:ff9b::([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(e)||/^100::([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(e)||/^2001::([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(e)||/^2001:2[0-9a-fA-F]:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(e)||/^2001:db8:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(e)||/^2002:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(e)||/^f[c-d]([0-9a-fA-F]{2,2}):/i.test(e)||/^fe[8-9a-bA-B][0-9a-fA-F]:/i.test(e)||/^ff([0-9a-fA-F]{2,2}):/i.test(e)}t.default=e=>{if(a.isValid(e)){const t=a.parse(e);return"ipv4"===t.kind()?function(e){for(var t of c)if(t.contains(e))return!0;return!1}(t.toNormalizedString()):"ipv6"===t.kind()?u(e):void 0}if(o.default(e)&&s.default.v6().test(e))return u(e)}},62100:(e,t,r)=>{"use strict";e.exports=r(89482)},89482:(e,t,r)=>{"use strict";var n=t;function i(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(41173),n.BufferWriter=r(43155),n.Reader=r(51408),n.BufferReader=r(50593),n.util=r(99693),n.rpc=r(35994),n.roots=r(85054),n.configure=i,i()},51408:(e,t,r)=>{"use strict";e.exports=c;var n,i=r(99693),s=i.LongBits,o=i.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}function u(){return i.Buffer?function(e){return(c.create=function(e){return i.Buffer.isBuffer(e)?new n(e):l(e)})(e)}:l}var h,l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")};function d(){var e=new s(0,0),t=0;if(!(4<this.len-this.pos)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,4<this.len-this.pos){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function f(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw a(this,8);return new s(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}c.create=u(),c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=(h=4294967295,function(){if(h=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return h;if(h=(h|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return h;if(h=(h|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return h;if(h=(h|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return h;if(h=(h|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return h;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return h}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return f(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|f(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw a(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},c.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){n=e,c.create=u(),n._configure();var t=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return p.call(this)[t](!0)},sfixed64:function(){return p.call(this)[t](!1)}})}},50593:(e,t,r)=>{"use strict";e.exports=s;var n=r(51408);(s.prototype=Object.create(n.prototype)).constructor=s;var i=r(99693);function s(e){n.call(this,e)}s._configure=function(){i.Buffer&&(s.prototype._slice=i.Buffer.prototype.slice)},s.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},s._configure()},85054:e=>{"use strict";e.exports={}},35994:(e,t,r)=>{"use strict";t.Service=r(77948)},77948:(e,t,r)=>{"use strict";e.exports=n;var a=r(99693);function n(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");a.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}((n.prototype=Object.create(a.EventEmitter.prototype)).constructor=n).prototype.rpcCall=function e(r,t,n,i,s){if(!i)throw TypeError("request must be specified");var o=this;if(!s)return a.asPromise(e,o,r,t,n,i);if(o.rpcImpl)try{return o.rpcImpl(r,t[o.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(e,t){if(e)return o.emit("error",e,r),s(e);if(null!==t){if(!(t instanceof n))try{t=n[o.responseDelimited?"decodeDelimited":"decode"](t)}catch(e){return o.emit("error",e,r),s(e)}return o.emit("data",t,r),s(null,t)}o.end(!0)})}catch(e){return o.emit("error",e,r),void setTimeout(function(){s(e)},0)}else setTimeout(function(){s(Error("already ended"))},0)},n.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(e,t,r)=>{"use strict";e.exports=i;var n=r(99693);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var s=i.zero=new i(0,0);s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1};i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return s;var t=e<0,r=(e=t?-e:e)>>>0,e=(e-r)/4294967296>>>0;return t&&(e=~e>>>0,r=~r>>>0,4294967295<++r&&(r=0,4294967295<++e&&(e=0))),new i(r,e)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(n.isString(e)){if(!n.Long)return i.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):s},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,e=~this.hi>>>0;return-(t+4294967296*(e=!t?e+1>>>0:e))}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var o=String.prototype.charCodeAt;i.fromHash=function(e){return"\0\0\0\0\0\0\0\0"===e?s:new i((o.call(e,0)|o.call(e,1)<<8|o.call(e,2)<<16|o.call(e,3)<<24)>>>0,(o.call(e,4)|o.call(e,5)<<8|o.call(e,6)<<16|o.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0==r?0==t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},99693:function(e,t,r){"use strict";var n=t;function i(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function s(e){function r(e,t){if(!(this instanceof r))return new r(e,t);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,r):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),t&&i(this,t)}return(r.prototype=Object.create(Error.prototype)).constructor=r,Object.defineProperty(r.prototype,"name",{get:function(){return e}}),r.prototype.toString=function(){return this.name+": "+this.message},r}n.asPromise=r(34537),n.base64=r(97419),n.EventEmitter=r(19211),n.float=r(10945),n.inquire=r(67199),n.utf8=r(94997),n.pool=r(76662),n.LongBits=r(1945),n.isNode=Boolean(void 0!==r.g&&r.g&&r.g.process&&r.g.process.versions&&r.g.process.versions.node),n.global=n.isNode&&r.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||0<(Array.isArray(r)?r:Object.keys(r)).length)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){e=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(e.lo,e.hi,t):e.toNumber(Boolean(t))},n.merge=i,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=s,n.ProtocolError=s("ProtocolError"),n.oneOfGetter=function(e){for(var r={},t=0;t<e.length;++t)r[e[t]]=1;return function(){for(var e=Object.keys(this),t=e.length-1;-1<t;--t)if(1===r[e[t]]&&void 0!==this[e[t]]&&null!==this[e[t]])return e[t]}},n.oneOfSetter=function(r){return function(e){for(var t=0;t<r.length;++t)r[t]!==e&&delete this[r[t]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var r=n.Buffer;r?(n._Buffer_from=r.from!==Uint8Array.from&&r.from||function(e,t){return new r(e,t)},n._Buffer_allocUnsafe=r.allocUnsafe||function(e){return new r(e)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},41173:(e,t,r)=>{"use strict";e.exports=l;var n,i=r(99693),s=i.LongBits,o=i.base64,a=i.utf8;function c(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function u(){}function h(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function l(){this.len=0,this.head=new c(u,0,0),this.tail=this.head,this.states=null}function d(){return i.Buffer?function(){return(l.create=function(){return new n})()}:function(){return new l}}function f(e,t,r){t[r]=255&e}function p(e,t){this.len=e,this.next=void 0,this.val=t}function y(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;127<e.lo;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function g(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}l.create=d(),l.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(l.alloc=i.pool(l.alloc,i.Array.prototype.subarray)),l.prototype._push=function(e,t,r){return this.tail=this.tail.next=new c(e,t,r),this.len+=t,this},(p.prototype=Object.create(c.prototype)).fn=function(e,t,r){for(;127<e;)t[r++]=127&e|128,e>>>=7;t[r]=e},l.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},l.prototype.int32=function(e){return e<0?this._push(y,10,s.fromNumber(e)):this.uint32(e)},l.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},l.prototype.int64=l.prototype.uint64=function(e){e=s.from(e);return this._push(y,e.length(),e)},l.prototype.sint64=function(e){e=s.from(e).zzEncode();return this._push(y,e.length(),e)},l.prototype.bool=function(e){return this._push(f,1,e?1:0)},l.prototype.sfixed32=l.prototype.fixed32=function(e){return this._push(g,4,e>>>0)},l.prototype.sfixed64=l.prototype.fixed64=function(e){e=s.from(e);return this._push(g,4,e.lo)._push(g,4,e.hi)},l.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},l.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var m=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};l.prototype.bytes=function(e){var t,r=e.length>>>0;return r?(i.isString(e)&&(t=l.alloc(r=o.length(e)),o.decode(e,t,0),e=t),this.uint32(r)._push(m,r,e)):this._push(f,1,0)},l.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(f,1,0)},l.prototype.fork=function(){return this.states=new h(this),this.head=this.tail=new c(u,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(u,0,0),this.len=0),this},l.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},l.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},l._configure=function(e){n=e,l.create=d(),n._configure()}},43155:(e,t,r)=>{"use strict";e.exports=s;var n=r(41173);(s.prototype=Object.create(n.prototype)).constructor=s;var i=r(99693);function s(){n.call(this)}function o(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}s._configure=function(){s.alloc=i._Buffer_allocUnsafe,s.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},s.prototype.bytes=function(e){var t=(e=i.isString(e)?i._Buffer_from(e,"base64"):e).length>>>0;return this.uint32(t),t&&this._push(s.writeBytesBuffer,t,e),this},s.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this},s._configure()},76446:(t,r,n)=>{"use strict";n.d(r,{Z:()=>u});class u{static hasCamera(){return u.listCameras(!1).then(e=>!!e.length).catch(()=>!1)}static listCameras(e=!1){if(!navigator.mediaDevices)return Promise.resolve([]);let t=null;return(e?navigator.mediaDevices.getUserMedia({audio:!1,video:!0}).then(e=>t=e).catch(()=>{}):Promise.resolve()).then(()=>navigator.mediaDevices.enumerateDevices()).then(e=>e.filter(e=>"videoinput"===e.kind).map((e,t)=>({id:e.deviceId,label:e.label||(0===t?"Default Camera":"Camera "+(t+1))}))).finally(()=>{if(t)for(const e of t.getTracks())e.stop(),t.removeTrack(e)})}constructor(t,e,r=this._onDecodeError,n=this._calculateScanRegion,i="environment"){this.$video=t,this.$canvas=document.createElement("canvas"),this._onDecode=e,this._legacyCanvasSize=u.DEFAULT_CANVAS_SIZE,this._preferredCamera=i,this._active=!1,this._paused=!1,this._flashOn=!1,"number"==typeof r?(this._legacyCanvasSize=r,console.warn("You're using a deprecated version of the QrScanner constructor which will be removed in the future")):this._onDecodeError=r,"number"==typeof n?(this._legacyCanvasSize=n,console.warn("You're using a deprecated version of the QrScanner constructor which will be removed in the future")):this._calculateScanRegion=n,this._scanRegion=this._calculateScanRegion(t),this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),t.disablePictureInPicture=!0,t.playsInline=!0;let s=!(t.muted=!0);t.hidden&&(t.hidden=!1,s=!0),document.body.contains(t)||(document.body.appendChild(t),s=!0),requestAnimationFrame(()=>{var e=window.getComputedStyle(t);"none"===e.display&&(t.style.setProperty("display","block","important"),s=!0),"visible"!==e.visibility&&(t.style.setProperty("visibility","visible","important"),s=!0),s&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),t.style.opacity=0,t.style.width=0,t.style.height=0)}),t.addEventListener("play",this._onPlay),t.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),this._qrEnginePromise=u.createQrEngine()}hasFlash(){let t=null;return(this.$video.srcObject?Promise.resolve(this.$video.srcObject.getVideoTracks()[0]):this._getCameraStream().then(({stream:e})=>(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),(t=e).getVideoTracks()[0]))).then(e=>"torch"in e.getSettings()).catch(()=>!1).finally(()=>{if(t)for(const e of t.getTracks())e.stop(),t.removeTrack(e)})}isFlashOn(){return this._flashOn}toggleFlash(){return this._flashOn?this.turnFlashOff():this.turnFlashOn()}turnFlashOn(){return this._flashOn?Promise.resolve():(this._flashOn=!0,!this._active||this._paused?Promise.resolve():this.hasFlash().then(e=>e?this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]}):Promise.reject("No flash available")).catch(()=>{throw this._flashOn=!1,e}))}turnFlashOff(){if(this._flashOn)return this._flashOn=!1,this._restartVideoStream()}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),this.stop(),u._postWorkerMessage(this._qrEnginePromise,"close")}start(){return this._active&&!this._paused?Promise.resolve():("https:"!==window.location.protocol&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,document.hidden?Promise.resolve():(this._paused=!1,this.$video.srcObject?(this.$video.play(),Promise.resolve()):this._getCameraStream().then(({stream:e,facingMode:t})=>{this.$video.srcObject=e,this.$video.play(),this._setVideoMirror(t),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{}))}).catch(e=>{throw this._active=!1,e})))}stop(){this.pause(),this._active=!1}pause(e=!1){if(this._paused=!0,!this._active)return Promise.resolve(!0);this.$video.pause();const t=()=>{for(const e of this.$video.srcObject?this.$video.srcObject.getTracks():[])e.stop(),this.$video.srcObject.removeTrack(e);this.$video.srcObject=null};return e?(t(),Promise.resolve(!0)):new Promise(e=>setTimeout(e,300)).then(()=>!!this._paused&&(t(),!0))}setCamera(e){return e===this._preferredCamera?Promise.resolve():(this._preferredCamera=e,this._restartVideoStream())}static scanImage(e,r=null,a=null,c=null,n=!1,t=!1){const i=a instanceof Worker;let s=Promise.all([a||u.createQrEngine(),u._loadImage(e)]).then(([e,t])=>{let o;return a=e,[c,o]=this._drawToCanvas(t,r,c,n),a instanceof Worker?(i||a.postMessage({type:"inversionMode",data:"both"}),new Promise((t,r)=>{let n,i,s;i=e=>{"qrResult"===e.data.type&&(a.removeEventListener("message",i),a.removeEventListener("error",s),clearTimeout(n),null!==e.data.data?t(e.data.data):r(u.NO_QR_CODE_FOUND))},s=e=>{a.removeEventListener("message",i),a.removeEventListener("error",s),clearTimeout(n);e=e?e.message||e:"Unknown Error";r("Scanner error: "+e)},a.addEventListener("message",i),a.addEventListener("error",s),n=setTimeout(()=>s("timeout"),1e4);var e=o.getImageData(0,0,c.width,c.height);a.postMessage({type:"decode",data:e},[e.data.buffer])})):new Promise((t,r)=>{const e=setTimeout(()=>r("Scanner error: timeout"),1e4);a.detect(c).then(e=>{e.length?t(e[0].rawValue):r(u.NO_QR_CODE_FOUND)}).catch(e=>r("Scanner error: "+(e.message||e))).finally(()=>clearTimeout(e))})});return r&&t&&(s=s.catch(()=>u.scanImage(e,null,a,c,n))),s=s.finally(()=>{i||u._postWorkerMessage(a,"close")}),s}setGrayscaleWeights(e,t,r,n=!0){u._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:e,green:t,blue:r,useIntegerApproximation:n})}setInversionMode(e){u._postWorkerMessage(this._qrEnginePromise,"inversionMode",e)}static createQrEngine(t=u.WORKER_PATH){return("BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats?BarcodeDetector.getSupportedFormats():Promise.resolve([])).then(e=>-1!==e.indexOf("qr_code")?new BarcodeDetector({formats:["qr_code"]}):new Worker(t))}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video)}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(e){var t=Math.min(e.videoWidth,e.videoHeight),t=Math.round(2/3*t);return{x:Math.round((e.videoWidth-t)/2),y:Math.round((e.videoHeight-t)/2),width:t,height:t,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_scanFrame(){if(!this._active||this.$video.paused||this.$video.ended)return!1;requestAnimationFrame(()=>{this.$video.readyState<=1?this._scanFrame():this._qrEnginePromise.then(e=>u.scanImage(this.$video,this._scanRegion,e,this.$canvas)).then(this._onDecode,e=>{this._active&&(-1!==(e.message||e).indexOf("service unavailable")&&(this._qrEnginePromise=u.createQrEngine()),this._onDecodeError(e))}).then(()=>this._scanFrame())})}_onDecodeError(e){e!==u.NO_QR_CODE_FOUND&&console.log(e)}_getCameraStream(){if(!navigator.mediaDevices)return Promise.reject("Camera not found.");const t="environment"===this._preferredCamera||"user"===this._preferredCamera?"facingMode":"deviceId",e=[{width:{min:1024}},{width:{min:768}},{}];return[...e.map(e=>Object.assign({},e,{[t]:{exact:this._preferredCamera}})),...e].reduceRight((e,t)=>()=>navigator.mediaDevices.getUserMedia({video:t,audio:!1}).then(e=>({stream:e,facingMode:this._getFacingMode(e)||(t.facingMode?this._preferredCamera:"environment"===this._preferredCamera?"user":"environment")})).catch(e),()=>Promise.reject("Camera not found."))()}_restartVideoStream(){const t=this._paused;return this.pause(!0).then(e=>{if(e&&!t&&this._active)return this.start()})}_setVideoMirror(e){this.$video.style.transform="scaleX("+("user"===e?-1:1)+")"}_getFacingMode(e){e=e.getVideoTracks()[0];return e?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}static _drawToCanvas(e,t=null,r=null,n=!1){r=r||document.createElement("canvas");var i=t&&t.x?t.x:0,s=t&&t.y?t.y:0,o=t&&t.width?t.width:e.width||e.videoWidth,a=t&&t.height?t.height:e.height||e.videoHeight;if(!n){const e=t&&t.downScaledWidth?t.downScaledWidth:o,n=t&&t.downScaledHeight?t.downScaledHeight:a;r.width!==e&&(r.width=e),r.height!==n&&(r.height=n)}const c=r.getContext("2d",{alpha:!1});return c.imageSmoothingEnabled=!1,c.drawImage(e,i,s,o,a,0,0,r.width,r.height),[r,c]}static _loadImage(e){if(e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||window.ImageBitmap&&e instanceof window.ImageBitmap||window.OffscreenCanvas&&e instanceof window.OffscreenCanvas)return Promise.resolve(e);if(e instanceof Image)return u._awaitImageLoad(e).then(()=>e);if(e instanceof File||e instanceof Blob||e instanceof URL||"string"==typeof e){const t=new Image;return e instanceof File||e instanceof Blob?t.src=URL.createObjectURL(e):t.src=e,u._awaitImageLoad(t).then(()=>((e instanceof File||e instanceof Blob)&&URL.revokeObjectURL(t.src),t))}return Promise.reject("Unsupported image type.")}static _awaitImageLoad(i){return new Promise((r,n)=>{if(i.complete&&0!==i.naturalWidth)r();else{let e,t;e=()=>{i.removeEventListener("load",e),i.removeEventListener("error",t),r()},t=()=>{i.removeEventListener("load",e),i.removeEventListener("error",t),n("Image load error")},i.addEventListener("load",e),i.addEventListener("error",t)}})}static _postWorkerMessage(e,t,r){return Promise.resolve(e).then(e=>{e instanceof Worker&&e.postMessage({type:t,data:r})})}}u.DEFAULT_CANVAS_SIZE=400,u.NO_QR_CODE_FOUND="No QR code found",u.WORKER_PATH="qr-scanner-worker.min.js"},54375:(e,t,r)=>{let n;e.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:r.g):e=>(n=n||Promise.resolve()).then(e).catch(e=>setTimeout(()=>{throw e},0))},61798:(e,t,r)=>{"use strict";var i=r(89509).Buffer,s=r.g.crypto||r.g.msCrypto;s&&s.getRandomValues?e.exports=function(e,t){if(4294967295<e)throw new RangeError("requested too many random bytes");var r=i.allocUnsafe(e);if(0<e)if(65536<e)for(var n=0;n<e;n+=65536)s.getRandomValues(r.slice(n,n+65536));else s.getRandomValues(r);return"function"==typeof t?process.nextTick(function(){t(null,r)}):r}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},73692:(e,t,r)=>{"use strict";e.exports=s;var n=r(93276),r=s.prototype,i=new Date%1e9;function s(e){this.id=(e=e||{}).id||(1e9*Math.random()>>>0)+i++,this.max=e.max||1/0,this.items=e.items||[],this._lookup={},this.size=this.items.length,this.lastModified=new Date(e.lastModified||new Date);for(var t,r,n=this.items.length;n--;)t=this.items[n],r=new Date(t.expires)-new Date,this._lookup[t.key]=t,0<r?this.expire(t.key,r):r<=0&&this.delete(t.key)}r.has=function(e){return e in this._lookup},r.get=function(e){if(!this.has(e))return null;var t=this._lookup[e];return t.refresh&&this.expire(e,t.refresh),this.items.splice(this.items.indexOf(t),1),this.items.push(t),t.value},r.meta=function(e){if(!this.has(e))return null;e=this._lookup[e];return"meta"in e?e.meta:null},r.set=function(e,t,r){var n=this._lookup[e],t=this._lookup[e]={key:e,value:t};return this.lastModified=new Date,n?(clearTimeout(n.timeout),this.items.splice(this.items.indexOf(n),1,t)):(this.size>=this.max&&this.delete(this.items[0].key),this.items.push(t),this.size++),r&&("ttl"in r&&this.expire(e,r.ttl),"meta"in r&&(t.meta=r.meta),r.refresh&&(t.refresh=r.ttl)),this},r.delete=function(e){var t=this._lookup[e];return!!t&&(this.lastModified=new Date,this.items.splice(this.items.indexOf(t),1),clearTimeout(t.timeout),delete this._lookup[e],this.size--,this)},r.expire=function(e,t){var r=t||0,e=this._lookup[e];if(!e)return this;if("number"!=typeof(r="string"==typeof r?n(t):r))throw new TypeError("Expiration time must be a string or number.");return clearTimeout(e.timeout),e.timeout=setTimeout(this.delete.bind(this,e.key),r),e.expires=Number(new Date)+r,this},r.clear=function(){for(var e=this.items.length;e--;)this.delete(this.items[e].key);return this},r.toJSON=function(){for(var e,t=new Array(this.items.length),r=t.length;r--;)e=this.items[r],t[r]={key:e.key,meta:e.meta,value:e.value,expires:e.expires,refresh:e.refresh};return{id:this.id,max:isFinite(this.max)?this.max:void 0,lastModified:this.lastModified,items:t}}},93276:e=>{function s(e,t,r,n){t=1.5*r<=t;return Math.round(e/r)+" "+n+(t?"s":"")}e.exports=function(r,e){e=e||{};var t,n,i=typeof r;if("string"==i&&0<r.length)return function(e){if(!(100<(e=String(r)).length)){e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(e){var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"weeks":case"week":case"w":return 6048e5*t;case"days":case"day":case"d":return 864e5*t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}(r);if("number"==i&&isFinite(r))return e.long?(n=r,864e5<=(t=Math.abs(n))?s(n,t,864e5,"day"):36e5<=t?s(n,t,36e5,"hour"):6e4<=t?s(n,t,6e4,"minute"):1e3<=t?s(n,t,1e3,"second"):n+" ms"):(t=r,864e5<=(n=Math.abs(t))?Math.round(t/864e5)+"d":36e5<=n?Math.round(t/36e5)+"h":6e4<=n?Math.round(t/6e4)+"m":1e3<=n?Math.round(t/1e3)+"s":t+"ms");throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))}},82916:(e,t,r)=>{"use strict";const i=r(41807);class n{constructor(e,t,r){const n=this;this._started=i(),this._rescheduled=0,this._scheduled=t,this._args=r,this._triggered=!1,this._timerWrapper=()=>{0<n._rescheduled?(n._scheduled=n._rescheduled-(i()-n._started),n._schedule(n._scheduled)):(n._triggered=!0,e.apply(null,n._args))},this._timer=setTimeout(this._timerWrapper,t)}reschedule(e){e=e||this._scheduled;var t=i();t+e-(this._started+this._scheduled)<0?(clearTimeout(this._timer),this._schedule(e)):this._triggered?this._schedule(e):(this._started=t,this._rescheduled=e)}_schedule(e){this._triggered=!1,this._started=i(),this._rescheduled=0,this._scheduled=e,this._timer=setTimeout(this._timerWrapper,e)}clear(){clearTimeout(this._timer)}}e.exports=function(){if("function"!=typeof arguments[0])throw new Error("callback needed");if("number"!=typeof arguments[1])throw new Error("timeout needed");let e;if(0<arguments.length){e=new Array(arguments.length-2);for(var t=0;t<e.length;t++)e[t]=arguments[t+2]}return new n(arguments[0],arguments[1],e)}},41807:e=>{"use strict";e.exports=function(){return Date.now()}},89509:(e,t,r)=>{var n=r(48764),i=n.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=o),s(i,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");e=i(e);return void 0!==t?"string"==typeof r?e.fill(t,r):e.fill(t):e.fill(0),e},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},50202:(e,t,r)=>{"use strict";var n=r(63700),i=/[\/\?<>\\:\*\|"]/g,s=/[\x00-\x1f\x80-\x9f]/g,o=/^\.+$/,a=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,c=/[\. ]+$/;function u(e,t){if("string"!=typeof e)throw new Error("Input must be string");t=e.replace(i,t).replace(s,t).replace(o,t).replace(a,t).replace(c,t);return n(t,255)}e.exports=function(e,t){t=t&&t.replacement||"",e=u(e,t);return""===t?e:u(e,"")}},17221:(e,t,r)=>{e.exports=r(59119)(r(58573))},58573:(e,t,r)=>{const h=new(r(86266).ec)("secp256k1"),l=h.curve,d=l.n.constructor;function f(e){var t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){let r=new d(t);if(0<=r.cmp(l.p))return null;r=r.toRed(l.red);let n=r.redSqr().redIMul(r).redIAdd(l.b).redSqrt();return 3===e!==n.isOdd()&&(n=n.redNeg()),h.keyPair({pub:{x:r,y:n}})}(t,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){let n=new d(t),i=new d(r);if(0<=n.cmp(l.p)||0<=i.cmp(l.p))return null;if(n=n.toRed(l.red),i=i.toRed(l.red),(6===e||7===e)&&i.isOdd()!==(7===e))return null;const s=n.redSqr().redIMul(n);return i.redSqr().redISub(s.redIAdd(l.b)).isZero()?h.keyPair({pub:{x:n,y:i}}):null}(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function c(t,e){var r=e.encode(null,33===t.length);for(let e=0;e<t.length;++e)t[e]=r[e]}e.exports={contextRandomize:()=>0,privateKeyVerify(e){const t=new d(e);return t.cmp(l.n)<0&&!t.isZero()?0:1},privateKeyNegate(e){var t=new d(e),t=l.n.sub(t).umod(l.n).toArrayLike(Uint8Array,"be",32);return e.set(t),0},privateKeyTweakAdd(e,t){const r=new d(t);if(0<=r.cmp(l.n))return 1;if(r.iadd(new d(e)),0<=r.cmp(l.n)&&r.isub(l.n),r.isZero())return 1;t=r.toArrayLike(Uint8Array,"be",32);return e.set(t),0},privateKeyTweakMul(e,t){let r=new d(t);if(0<=r.cmp(l.n)||r.isZero())return 1;r.imul(new d(e)),0<=r.cmp(l.n)&&(r=r.umod(l.n));t=r.toArrayLike(Uint8Array,"be",32);return e.set(t),0},publicKeyVerify:e=>null===f(e)?1:0,publicKeyCreate(e,t){const r=new d(t);return 0<=r.cmp(l.n)||r.isZero()?1:(c(e,h.keyFromPrivate(t).getPublic()),0)},publicKeyConvert(e,t){const r=f(t);return null===r?1:(c(e,r.getPublic()),0)},publicKeyNegate(e,t){const r=f(t);if(null===r)return 1;const n=r.getPublic();return n.y=n.y.redNeg(),c(e,n),0},publicKeyCombine(e,t){const r=new Array(t.length);for(let e=0;e<t.length;++e)if(r[e]=f(t[e]),null===r[e])return 1;let n=r[0].getPublic();for(let e=1;e<r.length;++e)n=n.add(r[e].pub);return n.isInfinity()?2:(c(e,n),0)},publicKeyTweakAdd(e,t,r){const n=f(t);if(null===n)return 1;if(0<=(r=new d(r)).cmp(l.n))return 2;const i=n.getPublic().add(l.g.mul(r));return i.isInfinity()?2:(c(e,i),0)},publicKeyTweakMul(e,t,r){const n=f(t);return null===n?1:0<=(r=new d(r)).cmp(l.n)||r.isZero()?2:(c(e,n.getPublic().mul(r)),0)},signatureNormalize(e){const t=new d(e.subarray(0,32)),r=new d(e.subarray(32,64));return 0<=t.cmp(l.n)||0<=r.cmp(l.n)?1:(1===r.cmp(h.nh)&&e.set(l.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){var r=t.subarray(0,32),t=t.subarray(32,64);if(0<=new d(r).cmp(l.n))return 1;if(0<=new d(t).cmp(l.n))return 1;const n=e["output"];let i=n.subarray(4,37);i[0]=0,i.set(r,1);let s=33,o=0;for(;1<s&&0===i[o]&&!(128&i[o+1]);--s,++o);if(i=i.subarray(o),128&i[0])return 1;if(1<s&&0===i[0]&&!(128&i[1]))return 1;let a=n.subarray(39,72);a[0]=0,a.set(t,1);let c=33,u=0;for(;1<c&&0===a[u]&&!(128&a[u+1]);--c,++u);return a=a.subarray(u),128&a[0]||1<c&&0===a[0]&&!(128&a[1])?1:(e.outputlen=6+s+c,n[0]=48,n[1]=e.outputlen-2,n[2]=2,n[3]=i.length,n.set(i,4),n[4+s]=2,n[5+s]=a.length,n.set(a,6+s),0)},signatureImport(e,t){if(t.length<8)return 1;if(72<t.length)return 1;if(48!==t[0])return 1;if(t[1]!==t.length-2)return 1;if(2!==t[2])return 1;var r=t[3];if(0===r)return 1;if(5+r>=t.length)return 1;if(2!==t[4+r])return 1;var n=t[5+r];if(0===n)return 1;if(6+r+n!==t.length)return 1;if(128&t[4])return 1;if(1<r&&0===t[4]&&!(128&t[5]))return 1;if(128&t[r+6])return 1;if(1<n&&0===t[r+6]&&!(128&t[r+7]))return 1;let i=t.subarray(4,4+r);if(33===i.length&&0===i[0]&&(i=i.subarray(1)),32<i.length)return 1;let s=t.subarray(6+r);if(33===s.length&&0===s[0]&&(s=s.slice(1)),32<s.length)throw new Error("S length is too long");let o=new d(i);0<=o.cmp(l.n)&&(o=new d(0));let a=new d(t.subarray(6+r));return 0<=a.cmp(l.n)&&(a=new d(0)),e.set(o.toArrayLike(Uint8Array,"be",32),0),e.set(a.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,r,n,i,e){if(e){const t=e;e=e=>{e=t(r,n,null,i,e);if(!(e instanceof Uint8Array&&32===e.length))throw new Error("This is the way");return new d(e)}}const s=new d(n);if(0<=s.cmp(l.n)||s.isZero())return 1;let o;try{o=h.sign(r,n,{canonical:!0,k:e,pers:i})}catch(t){return 1}return t.signature.set(o.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(o.s.toArrayLike(Uint8Array,"be",32),32),t.recid=o.recoveryParam,0},ecdsaVerify(e,t,r){const n={r:e.subarray(0,32),s:e.subarray(32,64)},i=new d(n.r),s=new d(n.s);if(0<=i.cmp(l.n)||0<=s.cmp(l.n))return 1;if(1===s.cmp(h.nh)||i.isZero()||s.isZero())return 3;const o=f(r);if(null===o)return 2;r=o.getPublic();return h.verify(t,n,r)?0:3},ecdsaRecover(e,t,r,n){const i={r:t.slice(0,32),s:t.slice(32,64)},s=new d(i.r),o=new d(i.s);if(0<=s.cmp(l.n)||0<=o.cmp(l.n))return 1;if(s.isZero()||o.isZero())return 2;let a;try{a=h.recoverPubKey(n,i,r)}catch(e){return 2}return c(e,a),0},ecdh(t,r,n,e,i,s,o){const a=f(r);if(null===a)return 1;const c=new d(n);if(0<=c.cmp(l.n)||c.isZero())return 2;const u=a.getPublic().mul(c);if(void 0===i){const r=u.encode(null,!0),n=h.hash().update(r).digest();for(let e=0;e<32;++e)t[e]=n[e]}else{s=s||new Uint8Array(32);const r=u.getX().toArray("be",32);for(let e=0;e<32;++e)s[e]=r[e];o=o||new Uint8Array(32);const n=u.getY().toArray("be",32);for(let e=0;e<32;++e)o[e]=n[e];const h=i(s,o,e);if(!(h instanceof Uint8Array&&h.length===t.length))return 2;t.set(h)}return 0}}},59119:e=>{const o="Impossible case. Please create issue.",i="The tweak was out of range or the resulted private key is invalid",a="The tweak was out of range or equal to zero",c="Public Key could not be parsed",n="Public Key serialization error",u="Signature could not be parsed";function h(e,t){if(!e)throw new Error(t)}function l(e,t,r){var n;h(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),void 0!==r&&(Array.isArray(r)?(n=`Expected ${e} to be an Uint8Array with length [${r.join(", ")}]`,h(r.includes(t.length),n)):h(t.length===r,`Expected ${e} to be an Uint8Array with length `+r))}function d(e){h("Boolean"===p(e),"Expected compressed to be a Boolean")}function f(e=e=>new Uint8Array(e),t){return l("output",e="function"==typeof e?e(t):e,t),e}function p(e){return Object.prototype.toString.call(e).slice(8,-1)}e.exports=s=>({contextRandomize(e){if(h(null===e||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==e&&l("seed",e,32),1===s.contextRandomize(e))throw new Error("Unknow error on context randomization")},privateKeyVerify:e=>(l("private key",e,32),0===s.privateKeyVerify(e)),privateKeyNegate(e){switch(l("private key",e,32),s.privateKeyNegate(e)){case 0:return e;case 1:throw new Error(o)}},privateKeyTweakAdd(e,t){switch(l("private key",e,32),l("tweak",t,32),s.privateKeyTweakAdd(e,t)){case 0:return e;case 1:throw new Error(i)}},privateKeyTweakMul(e,t){switch(l("private key",e,32),l("tweak",t,32),s.privateKeyTweakMul(e,t)){case 0:return e;case 1:throw new Error(a)}},publicKeyVerify:e=>(l("public key",e,[33,65]),0===s.publicKeyVerify(e)),publicKeyCreate(e,t=!0,r){switch(l("private key",e,32),d(t),r=f(r,t?33:65),s.publicKeyCreate(r,e)){case 0:return r;case 1:throw new Error("Private Key is invalid");case 2:throw new Error(n)}},publicKeyConvert(e,t=!0,r){switch(l("public key",e,[33,65]),d(t),r=f(r,t?33:65),s.publicKeyConvert(r,e)){case 0:return r;case 1:throw new Error(c);case 2:throw new Error(n)}},publicKeyNegate(e,t=!0,r){switch(l("public key",e,[33,65]),d(t),r=f(r,t?33:65),s.publicKeyNegate(r,e)){case 0:return r;case 1:throw new Error(c);case 2:throw new Error(o);case 3:throw new Error(n)}},publicKeyCombine(e,t=!0,r){h(Array.isArray(e),"Expected public keys to be an Array"),h(0<e.length,"Expected public keys array will have more than zero items");for(const s of e)l("public key",s,[33,65]);switch(d(t),r=f(r,t?33:65),s.publicKeyCombine(r,e)){case 0:return r;case 1:throw new Error(c);case 2:throw new Error("The sum of the public keys is not valid");case 3:throw new Error(n)}},publicKeyTweakAdd(e,t,r=!0,n){switch(l("public key",e,[33,65]),l("tweak",t,32),d(r),n=f(n,r?33:65),s.publicKeyTweakAdd(n,e,t)){case 0:return n;case 1:throw new Error(c);case 2:throw new Error(i)}},publicKeyTweakMul(e,t,r=!0,n){switch(l("public key",e,[33,65]),l("tweak",t,32),d(r),n=f(n,r?33:65),s.publicKeyTweakMul(n,e,t)){case 0:return n;case 1:throw new Error(c);case 2:throw new Error(a)}},signatureNormalize(e){switch(l("signature",e,64),s.signatureNormalize(e)){case 0:return e;case 1:throw new Error(u)}},signatureExport(e,t){l("signature",e,64);var r={output:t=f(t,72),outputlen:72};switch(s.signatureExport(r,e)){case 0:return t.slice(0,r.outputlen);case 1:throw new Error(u);case 2:throw new Error(o)}},signatureImport(e,t){switch(l("signature",e),t=f(t,64),s.signatureImport(t,e)){case 0:return t;case 1:throw new Error(u);case 2:throw new Error(o)}},ecdsaSign(e,t,r={},n){l("message",e,32),l("private key",t,32),h("Object"===p(r),"Expected options to be an Object"),void 0!==r.data&&l("options.data",r.data),void 0!==r.noncefn&&h("Function"===p(r.noncefn),"Expected options.noncefn to be a Function");var i={signature:n=f(n,64),recid:null};switch(s.ecdsaSign(i,e,t,r.data,r.noncefn)){case 0:return i;case 1:throw new Error("The nonce generation function failed, or the private key was invalid");case 2:throw new Error(o)}},ecdsaVerify(e,t,r){switch(l("signature",e,64),l("message",t,32),l("public key",r,[33,65]),s.ecdsaVerify(e,t,r)){case 0:return!0;case 3:return!1;case 1:throw new Error(u);case 2:throw new Error(c)}},ecdsaRecover(e,t,r,n=!0,i){switch(l("signature",e,64),h("Number"===p(t)&&0<=t&&t<=3,"Expected recovery id to be a Number within interval [0, 3]"),l("message",r,32),d(n),i=f(i,n?33:65),s.ecdsaRecover(i,e,t,r)){case 0:return i;case 1:throw new Error(u);case 2:throw new Error("Public key could not be recover");case 3:throw new Error(o)}},ecdh(e,t,r={},n){switch(l("public key",e,[33,65]),l("private key",t,32),h("Object"===p(r),"Expected options to be an Object"),void 0!==r.data&&l("options.data",r.data),void 0!==r.hashfn?(h("Function"===p(r.hashfn),"Expected options.hashfn to be a Function"),void 0!==r.xbuf&&l("options.xbuf",r.xbuf,32),void 0!==r.ybuf&&l("options.ybuf",r.ybuf,32),l("output",n)):n=f(n,32),s.ecdh(n,e,t,r.data,r.hashfn,r.xbuf,r.ybuf)){case 0:return n;case 1:throw new Error(c);case 2:throw new Error("Scalar was invalid (zero or overflow)")}}})},27695:e=>{"use strict";const s=new Map;e.exports={setDelayedInterval:function(e,t,r){r=r||t;const n=Date.now()+":"+Math.floor(1e6*Math.random()),i=setTimeout(()=>{!async function(e,t,r){for(;s.get(r);){try{await e()}catch(e){setTimeout(()=>{throw e},1);break}if(!s.get(r))break;await new Promise(e=>{e=setTimeout(e,t);s.set(r,e)})}}(e,t,n)},r);return s.set(n,i),n},clearDelayedInterval:function(e){var t=s.get(e);t&&(clearTimeout(t),s.delete(e))}}},8975:(t,r,n)=>{var i;!function(){"use strict";var f={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function p(e){return function(e,t){var r,n,i,s,o,a,c,u,h=1,l=e.length,d="";for(n=0;n<l;n++)if("string"==typeof e[n])d+=e[n];else if("object"==typeof e[n]){if((s=e[n]).keys)for(r=t[h],i=0;i<s.keys.length;i++){if(null==r)throw new Error(p('[sprintf] Cannot access property "%s" of undefined value "%s"',s.keys[i],s.keys[i-1]));r=r[s.keys[i]]}else r=s.param_no?t[s.param_no]:t[h++];if(f.not_type.test(s.type)&&f.not_primitive.test(s.type)&&r instanceof Function&&(r=r()),f.numeric_arg.test(s.type)&&"number"!=typeof r&&isNaN(r))throw new TypeError(p("[sprintf] expecting number but found %T",r));switch(f.number.test(s.type)&&(c=0<=r),s.type){case"b":r=parseInt(r,10).toString(2);break;case"c":r=String.fromCharCode(parseInt(r,10));break;case"d":case"i":r=parseInt(r,10);break;case"j":r=JSON.stringify(r,null,s.width?parseInt(s.width):0);break;case"e":r=s.precision?parseFloat(r).toExponential(s.precision):parseFloat(r).toExponential();break;case"f":r=s.precision?parseFloat(r).toFixed(s.precision):parseFloat(r);break;case"g":r=s.precision?String(Number(r.toPrecision(s.precision))):parseFloat(r);break;case"o":r=(parseInt(r,10)>>>0).toString(8);break;case"s":r=String(r),r=s.precision?r.substring(0,s.precision):r;break;case"t":r=String(!!r),r=s.precision?r.substring(0,s.precision):r;break;case"T":r=Object.prototype.toString.call(r).slice(8,-1).toLowerCase(),r=s.precision?r.substring(0,s.precision):r;break;case"u":r=parseInt(r,10)>>>0;break;case"v":r=r.valueOf(),r=s.precision?r.substring(0,s.precision):r;break;case"x":r=(parseInt(r,10)>>>0).toString(16);break;case"X":r=(parseInt(r,10)>>>0).toString(16).toUpperCase()}f.json.test(s.type)?d+=r:(!f.number.test(s.type)||c&&!s.sign?u="":(u=c?"+":"-",r=r.toString().replace(f.sign,"")),o=s.pad_char?"0"===s.pad_char?"0":s.pad_char.charAt(1):" ",a=s.width-(u+r).length,a=s.width&&0<a?o.repeat(a):"",d+=s.align?u+r+a:"0"===o?u+a+r:a+u+r)}return d}(function(e){if(c[e])return c[e];for(var t,r=e,n=[],i=0;r;){if(null!==(t=f.text.exec(r)))n.push(t[0]);else if(null!==(t=f.modulo.exec(r)))n.push("%");else{if(null===(t=f.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){i|=1;var s=[],o=t[2],a=[];if(null===(a=f.key.exec(o)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s.push(a[1]);""!==(o=o.substring(a[0].length));)if(null!==(a=f.key_access.exec(o)))s.push(a[1]);else{if(null===(a=f.index_access.exec(o)))throw new SyntaxError("[sprintf] failed to parse named argument key");s.push(a[1])}t[2]=s}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}r=r.substring(t[0].length)}return c[e]=n}(e),arguments)}function e(e,t){return p.apply(null,[e].concat(t||[]))}var c=Object.create(null);r.sprintf=p,r.vsprintf=e,"undefined"!=typeof window&&(window.sprintf=p,window.vsprintf=e,void 0===(i=function(){return{sprintf:p,vsprintf:e}}.call(r,n,r,t))||(t.exports=i))}()},50458:(e,t,r)=>{const n=r(31116),i=r(50590);e.exports=e=>({sink:n(e),source:i(e)})},79407:(e,t,r)=>{e.exports=r(50590),e.exports.source=r(50590),e.exports.sink=r(31116),e.exports.transform=r(95212),e.exports.duplex=r(50458)},31116:(e,t,r)=>{const p=r(22412);e.exports=f=>async t=>{t=p(t);const r=e=>{"function"==typeof e.return&&e.return()};let n=null,i=null;var e=e=>{n=e,i&&i(e),r(t)};let s=null,o=!1;var a=()=>{o=!0,s&&s()};let c=null,u=!1;var h=()=>{u=!0,c&&c()};let l=null;const d=()=>{l&&l()};f.once("error",e),f.once("close",a),f.once("finish",h);try{for await(const r of t){if(!f.writable||f.destroyed||n)break;!1===f.write(r)&&await new Promise((e,t)=>{s=l=e,i=t,f.once("drain",d)})}}catch(t){n||f.destroy(),n=t}try{if(f.writable&&f.end(),r(t),await new Promise((e,t)=>{if(o||u||n)return e();c=s=e,i=t}),n)throw n}finally{f.removeListener("error",e),f.removeListener("close",a),f.removeListener("finish",h),f.removeListener("drain",d)}}},50590:e=>{e.exports=r=>{if(r[Symbol.asyncIterator])return r;if(r.getReader)return async function*(){const e=r.getReader();try{for(;;){const{done:r,value:t}=await e.read();if(r)return;yield t}}finally{e.releaseLock()}}();throw new Error("unknown stream")}},95212:(e,t,r)=>{const i=r(50458);e.exports=n=>async function*(e){const t=i(n);let r;if(t.sink(e).catch(e=>{r=e}),yield*t.source,r)throw r}},38386:function(e,t){!function(e){"use strict";function f(e){if("function"==typeof e.next)return e;if("function"==typeof e[Symbol.iterator])return e[Symbol.iterator]();if("function"==typeof e[Symbol.asyncIterator])return e[Symbol.asyncIterator]();throw new TypeError('"values" does not to conform to any of the iterator or iterable protocols')}function p(){let r,n;return{promise:new Promise((e,t)=>{n=e,r=t}),reject:r,resolve:n}}function s(t,e){return void 0===e?e=>s(t,e):0===t?e:(e[Symbol.asyncIterator]?function(t,e){const r=f(e),i=[],s=[];let n=!1,o=!1;async function a(){if(!o&&!(n||i.length>=t)){n=!0;try{const{done:t,value:e}=await r.next();t?o=!0:i.push({value:e})}catch(e){o=!0,i.push({error:e})}(function(){for(;0<s.length&&0<i.length;){const e=s.shift(),{error:t,value:r}=i.shift();t?e.reject(t):e.resolve({done:!1,value:r})}for(;0<s.length&&o;){const n=s.shift()["resolve"];n({done:!0,value:void 0})}})(),n=!1,a()}}const c={next:async function(){if(0<i.length){const{error:e,value:t}=i.shift();if(e)throw e;return a(),{done:!1,value:t}}if(o)return{done:!0,value:void 0};const e=p();return s.push(e),a(),e.promise},[Symbol.asyncIterator]:()=>c};return c}:function*(e,t){const r=[];let n;try{for(const n of t)r.push(n),r.length<=e||(yield r.shift())}catch(e){n=e}for(const e of r)yield e;if(n)throw n})(t,e)}async function*r(e,t){for await(const r of t)await e(r)&&(yield r)}function i(t,e){return void 0===e?e=>r(t,e):r(t,e)}async function*o(e){for await(const t of e)t&&"string"!=typeof t&&(t[Symbol.iterator]||t[Symbol.asyncIterator])?yield*o(t):yield t}async function*n(e,t){for await(const r of t)yield await e(r)}function a(t,e){return void 0===e?e=>n(t,e):n(t,e)}function c(t,r,e){const n=f(e),i=[],s=[];let o=!1,a=!1,c=0,u=null;function h(){for(;0<s.length&&0<i.length;){const e=s.shift()["resolve"];e({done:!1,value:i.shift()})}for(;0<s.length&&0===c&&o;){const{resolve:t,reject:r}=s.shift();u?(r(u),u=null):t({done:!0,value:void 0})}}async function l(){if(o)h();else if(!(a||c+i.length>=t)){a=!0,c++;try{const{done:t,value:e}=await n.next();t?(o=!0,c--,h()):async function(e){try{var t=await r(e);if(t&&t[Symbol.asyncIterator])for await(const e of t)i.push(e);else i.push(t)}catch(e){o=!0,u=e}c--,h(),l()}(e)}catch(e){o=!0,c--,u=e,h()}a=!1,l()}}const d={next:async function(){if(0===i.length){const e=p();return s.push(e),l(),e.promise}const e=i.shift();return l(),{done:!1,value:e}},[Symbol.asyncIterator]:()=>d};return d}function u(e,...t){let r=e();for(const e of t)r=e(r);return r}function h(r,t,e){return void 0===t?(e,t)=>h(r,e,t):void 0===e?e=>h(r,t,e):1===r?a(t,e):async function*(e,t,r){let n=null;const i=f(u(()=>r,s(1),async function*(e){for await(const t of e){if(n)return;yield t}},a(e=>({value:t(e)})),s(e-1)));for(;;){const{value:e,done:f}=await i.next();if(f)break;try{const f=await e.value;n||(yield f)}catch(e){n=e}}if(n)throw n}(r,t,e)}async function l(e,t,r){let n=t;for await(const t of r)n=await e(n,t);return n}async function*d(e,t){for await(const r of t)await e(r),yield r}function y(e,t){let r=e[0]+t[0],n=e[1]+t[1];if(1e9<=n){const e=n%1e9;r+=(n-e)/1e9,n=e}return[r,n]}function g(t,r,e){const n=f(e),i=[],s=[];let o=!1,a=!1,c=0,u=null;function h(){for(;0<s.length&&0<i.length;){const e=s.shift()["resolve"];e({done:!1,value:i.shift()})}for(;0<s.length&&0===c&&o;){const{resolve:t,reject:r}=s.shift();u?(r(u),u=null):t({done:!0,value:void 0})}}async function l(){if(o)h();else if(!(a||c+i.length>=t)){a=!0,c++;try{const{done:t,value:e}=await n.next();t?(o=!0,c--,h()):async function(e){try{var t=await r(e);i.push(t)}catch(e){o=!0,u=e}c--,h(),l()}(e)}catch(e){o=!0,c--,u=e,h()}a=!1,l()}}const d={next:async function(){if(0===i.length){const e=p();return s.push(e),l(),e.promise}const e=i.shift();return l(),{done:!1,value:e}},[Symbol.asyncIterator]:()=>d};return d}async function m(r,e){let n=null,i=null,s=null;const t=e=>{n=e,i&&i(e)},o=()=>{s&&s()};r.once("error",t);for await(const t of e)if(!1===r.write(t)&&await new Promise((e,t)=>{if(n)return t(n);r.once("drain",o),s=e,i=t}),n)break;if(r.removeListener("error",t),r.removeListener("drain",o),n)throw n}e.batch=function t(r,e){return void 0===e?e=>t(r,e):(e[Symbol.asyncIterator]?async function*(e,t){let r=[];for await(const n of t)r.push(n),r.length===e&&(yield r,r=[]);0<r.length&&(yield r)}:function*(e,t){let r=[];for(const n of t)r.push(n),r.length===e&&(yield r,r=[]);0<r.length&&(yield r)})(r,e)},e.buffer=s,e.collect=function(r){return r[Symbol.asyncIterator]?async function(){const e=[];for await(const t of r)e.push(t);return e}():Array.from(r)},e.concat=function(...e){return(e.find(e=>void 0!==e[Symbol.asyncIterator])?async function*(e){for await(const t of e)yield*t}:function*(e){for(const t of e)yield*t})(e)},e.consume=function(t){if(t[Symbol.asyncIterator])return async function(){for await(const e of t);}();for(const e of t);},e.filter=i,e.flatMap=function t(r,e){return void 0===e?e=>t(r,e):i(e=>null!=e,o(a(r,e)))},e.flatTransform=function r(n,t,e){return void 0===t?(e,t)=>t?r(n,e,t):r(n,e):void 0===e?e=>r(n,t,e):i(e=>null!=e,o(c(n,t,e)))},e.flatten=o,e.fromStream=function(e){return"function"==typeof e[Symbol.asyncIterator]?e:async function*(e){for(;;){var t=e.read();if(null===t){if(e._readableState.ended)break;await async function(t){return new Promise(e=>{t.once("readable",()=>{e()})})}(e)}else yield t}}(e)},e.getIterator=f,e.map=a,e.merge=async function*(...e){const t=new Set(e.map(f));for(;0<t.size;)for(const e of t){const f=await e.next();f.done?t.delete(e):yield f.value}},e.parallelFlatMap=function r(n,t,e){return void 0===t?(e,t)=>t?r(n,e,t):r(n,e):void 0===e?e=>r(n,t,e):i(e=>null!=e,o(h(n,t,e)))},e.parallelMap=h,e.parallelMerge=async function*(...e){const t=e.map(f),i=new Set,s=new Map;let r=null,n=null,o=null;const a=e=>{r=e,n&&n(e)},c=e=>{o&&o(e)},u=r=>{const n=Promise.resolve(r.next()).then(async({done:e,value:t})=>{e||s.set(r,t),i.delete(n)});i.add(n),n.then(c,a)};for(const e of t)u(e);for(;;){if(0===i.size&&0===s.size)return;await new Promise((e,t)=>{if(r&&t(r),0<s.size)return e();o=e,n=t});for(const[e,f]of s)s.delete(e),yield f,u(e)}},e.pipeline=u,e.reduce=function r(n,t,e){return void 0===t?(e,t)=>t?l(n,e,t):r(n,e):void 0===e?e=>r(n,t,e):l(n,t,e)},e.take=function t(r,e){return void 0===e?e=>t(r,e):(e[Symbol.asyncIterator]?async function*(e,t){let r=0;for await(const n of t)if(yield await n,r++,r>=e)break}:function*(e,t){let r=0;for(const n of t)if(yield n,r++,r>=e)break})(r,e)},e.tap=function(t,e){return void 0===e?e=>d(t,e):d(t,e)},e.time=function t(r={},e){return void 0===e?e=>t(r,e):(void 0!==e[Symbol.asyncIterator]?async function*(e,t){const r=t[Symbol.asyncIterator]();let n=[0,0];for(;;){const t=process.hrtime(),{value:i,done:s}=await r.next(),o=process.hrtime(t);if(n=y(n,o),e.progress&&e.progress(o,n),s)return e.total&&e.total(n),i;yield i}}:function*(e,t){const r=t[Symbol.iterator]();let n=[0,0];for(;;){const t=process.hrtime(),{value:i,done:s}=r.next(),o=process.hrtime(t);if(n=y(n,o),e.progress&&e.progress(o,n),s)return e.total&&e.total(n),i;yield i}})(r,e)},e.transform=function r(n,t,e){return void 0===t?(e,t)=>t?r(n,e,t):r(n,e):void 0===e?e=>r(n,t,e):g(n,t,e)},e.writeToStream=function(t,e){return void 0===e?e=>m(t,e):m(t,e)},Object.defineProperty(e,"__esModule",{value:!0})}(t)},32553:(e,t,r)=>{"use strict";var n=r(89509).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=h,this.end=l,t=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t,r,n=this.lastTotal-this.lastNeed,t=(t=this,128!=(192&(r=e)[0])?(t.lastNeed=0,""):1<t.lastNeed&&1<r.length?128!=(192&r[1])?(t.lastNeed=1,""):2<t.lastNeed&&2<r.length&&128!=(192&r[2])?(t.lastNeed=2,""):void 0:void 0);return void 0!==t?t:this.lastNeed<=e.length?(e.copy(this.lastChar,n,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,n,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2!=0)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1);var r=e.toString("utf16le",t);if(r){t=r.charCodeAt(r.length-1);if(55296<=t&&t<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){e=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,e)}return t}function h(e,t){var r=(e.length-t)%3;return 0==r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1==r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function l(e){e=e&&e.length?this.write(e):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}(t.s=s).prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=function(e){e=e&&e.length?this.write(e):"";return this.lastNeed?e+"":e},s.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=o(t[n]);return 0<=i?(0<i&&(e.lastNeed=i-1),i):--n<r||-2===i?0:0<=(i=o(t[n]))?(0<i&&(e.lastNeed=i-2),i):!(--n<r||-2===i)&&0<=(i=o(t[n]))?(0<i&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;r=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},11273:(e,t,r)=>{"use strict";const o=r(93096);e.exports=function e(t){if(!(this instanceof e))return new e(t);const n=(t=t||{}).validity||30,i=new Map,s=o(()=>{i.forEach((e,t)=>{var r=e.validity||n;(function(e){e=(new Date).getTime()-e.getTime();return Math.floor(e/1e3)})(e.timestamp)>r&&i.delete(t)})},200);this.put=(e,t,r)=>{this.has(e)||i.set(e,{value:t,timestamp:new Date,validity:r}),s()},this.get=e=>{if(i.has(e))return i.get(e).value;throw new Error("key does not exist")},this.has=e=>i.has(e)}},10715:(e,t,r)=>{"use strict";const n=("undefined"!=typeof self?self:"undefined"!=typeof window?window:r(28599))["AbortController"],i=r(9539);class s extends n{constructor(e){super(),this._ms=e,this._timer=i(()=>this.abort(),e),Object.setPrototypeOf(this,s.prototype)}abort(){return this._timer.clear(),super.abort()}clear(){this._timer.clear()}reset(){this._timer.clear(),this._timer=i(()=>this.abort(),this._ms)}}e.exports=s,e.exports.TimeoutController=s},9539:(e,t,r)=>{"use strict";var i=r(41283);function n(t,e,r){var n=this;this._started=i(),this._rescheduled=0,this._scheduled=e,this._args=r,this._timer=setTimeout(function e(){0<n._rescheduled?(n._scheduled=n._rescheduled-(i()-n._started),n._timer=setTimeout(e,n._scheduled),n._rescheduled=0):t.apply(null,n._args)},e)}n.prototype.reschedule=function(e){var t=i();return!(t+e-(this._started+this._scheduled)<0||(this._started=t,this._rescheduled=e,0))},n.prototype.clear=function(){clearTimeout(this._timer)},e.exports=function(){if("function"!=typeof arguments[0])throw new Error("callback needed");if("number"!=typeof arguments[1])throw new Error("timeout needed");if(0<arguments.length)for(var e=new Array(arguments.length-2),t=0;t<e.length;t++)e[t]=arguments[t+2];return new n(arguments[0],arguments[1],e)}},41283:e=>{"use strict";e.exports=function(){return Date.now()}},63700:(e,t,r)=>{"use strict";var n=r(71156),r=r(90793);e.exports=n.bind(null,r)},71156:e=>{"use strict";e.exports=function(e,t,r){if("string"!=typeof t)throw new Error("Input must be string");for(var n,i,s=t.length,o=0,a=0;a<s;a+=1){if(i=t.charCodeAt(a),n=t[a],55296<=(i=i)&&i<=56319&&(56320<=(i=t.charCodeAt(a+1))&&i<=57343)&&(n+=t[a+=1]),(o+=e(n))===r)return t.slice(0,a+1);if(r<o)return t.slice(0,a-n.length+1)}return t}},90793:e=>{"use strict";e.exports=function(e){if("string"!=typeof e)throw new Error("Input must be string");for(var t,r,n=e.length,i=0,s=null,o=0;o<n;o++)56320<=(r=t=e.charCodeAt(o))&&r<=57343?null!=s&&(55296<=(r=s)&&r<=56319)?i+=1:i+=3:t<=127?i+=1:128<=t&&t<=2047?i+=2:2048<=t&&t<=65535&&(i+=3),s=t;return i}},94927:(e,t,r)=>{function n(e){try{if(!r.g.localStorage)return}catch(e){return}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},98745:(e,t,r)=>{"use strict";function M(e){var t=this;e="object"==typeof e?e:{},t.revision=3,t.imageTypes={bmp:"image/bmp",gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpg",png:"image/png","svg+xml":"image/svg+xml",tiff:"image/tiff",webp:"image/webp","x-icon":"image/x-icon"},t.toTable=e.toTable,t.domElement=t.toTable?document.createElement("div"):document.createElement("canvas"),t.url=e.url||"",t.size=e.size||280,t.qrc=!1,t.colorLight=e.colorLight||"#fff",t.colorDark=e.colorDark||"#000",t.ecclevel=e.ecclevel||1,t.noBorder=e.noBorder,t.borderSize=e.borderSize||4;function d(e,t){var r;for(C[e+m*t]=1,r=-2;r<2;r++)C[e+r+m*(t-2)]=1,C[e-2+m*(t+r+1)]=1,C[e+2+m*(t+r)]=1,C[e+r+1+m*(t+2)]=1;for(r=0;r<2;r++)R(e-1,t+r),R(e+1,t-r),R(e-r,t-1),R(e+r,t+1)}function f(e,t,r,n){for(var i,s,o=M.gexp,a=M.glog,c=0;c<n;c++)E[r+c]=0;for(c=0;c<t;c++){if(255!=(s=a[E[e+c]^E[r]]))for(i=1;i<n;i++)E[r+i-1]=E[r+i]^o[P(s+T[n-i])];else for(i=r;i<r+n;i++)E[i]=E[i+1];E[r+n-1]=255==s?0:o[P(s+T[0])]}}function p(e){var t,r,n,i;switch(e){case 0:for(r=0;r<m;r++)for(t=0;t<m;t++)t+r&1||k(t,r)||(C[t+r*m]^=1);break;case 1:for(r=0;r<m;r++)for(t=0;t<m;t++)1&r||k(t,r)||(C[t+r*m]^=1);break;case 2:for(r=0;r<m;r++)for(t=n=0;t<m;t++,n++)(n=3==n?0:n)||k(t,r)||(C[t+r*m]^=1);break;case 3:for(r=i=0;r<m;r++,i++)for(n=i=3==i?0:i,t=0;t<m;t++,n++)(n=3==n?0:n)||k(t,r)||(C[t+r*m]^=1);break;case 4:for(r=0;r<m;r++)for(i=r>>1&1,t=n=0;t<m;t++,n++)3==n&&(n=0,i=!i),i||k(t,r)||(C[t+r*m]^=1);break;case 5:for(r=i=0;r<m;r++,i++)for(3==i&&(i=0),t=n=0;t<m;t++,n++)(t&r&1)+!(!(n=3==n?0:n)|!i)||k(t,r)||(C[t+r*m]^=1);break;case 6:for(r=i=0;r<m;r++,i++)for(3==i&&(i=0),t=n=0;t<m;t++,n++)(t&r&1)+((n=3==n?0:n)&&n==i)&1||k(t,r)||(C[t+r*m]^=1);break;case 7:for(r=i=0;r<m;r++,i++)for(3==i&&(i=0),t=n=0;t<m;t++,n++)((n=3==n?0:n)&&n==i)+(t+r&1)&1||k(t,r)||(C[t+r*m]^=1)}}var y,g,m,b,v,w,_,E=[],S=[],C=[],A=[],I=[],T=[],R=function(e,t){var r;t<e&&(r=e,e=t,t=r),r=t,r*=t,r+=t,r>>=1,A[r+=e]=1},P=function(e){for(;255<=e;)e=((e-=255)>>8)+(255&e);return e},k=function(e,t){var r;return t<e&&(r=e,e=t,t=r),r=t,r+=t*t,r>>=1,A[r+=e]},O=function(e){for(var t=0,r=0;r<=e;r++)5<=I[r]&&(t+=M.N1+I[r]-5);for(r=3;r<e-1;r+=2)I[r-2]==I[r+2]&&I[r+2]==I[r-1]&&I[r-1]==I[r+1]&&3*I[r-1]==I[r]&&(0==I[r-3]||e<r+3||3*I[r-3]>=4*I[r]||3*I[r+3]>=4*I[r])&&(t+=M.N3);return t};t.genframe=function(e){var t,r,n,i,s,o,a,c=M.eccblocks,u=M.gexp,h=M.glog,l=e.length;g=0;do{if(n=4*(y-1)+16*(++g-1),b=c[n++],v=c[n++],w=c[n++],_=c[n],l<=(n=w*(b+v)+v-3+(g<=9)))break}while(g<40);for(m=17+4*g,i=w+(w+_)*(b+v)+v,l=0;l<i;l++)S[l]=0;for(E=e.slice(0),l=0;l<m*m;l++)C[l]=0;for(l=0;l<(m*(m+1)+1)/2;l++)A[l]=0;for(l=0;l<3;l++){for(r=n=0,C[(r=2==l?m-7:r)+3+m*((n=1==l?m-7:n)+3)]=1,t=0;t<6;t++)C[r+t+m*n]=1,C[r+m*(n+t+1)]=1,C[r+6+m*(n+t)]=1,C[r+t+1+m*(n+6)]=1;for(t=1;t<5;t++)R(r+t,n+1),R(r+1,n+t+1),R(r+5,n+t),R(r+t+1,n+5);for(t=2;t<4;t++)C[r+t+m*(n+2)]=1,C[r+2+m*(n+t+1)]=1,C[r+4+m*(n+t)]=1,C[r+t+1+m*(n+4)]=1}if(1<g)for(l=M.adelta[g],r=m-7;;){for(t=m-7;l-3<t&&(d(t,r),!(t<l));)t-=l;if(r<=l+9)break;d(6,r-=l),d(r,6)}for(C[8+m*(m-8)]=1,r=0;r<7;r++)R(7,r),R(m-8,r),R(7,r+m-7);for(t=0;t<8;t++)R(t,7),R(t+m-8,7),R(t,m-8);for(t=0;t<9;t++)R(t,8);for(t=0;t<8;t++)R(t+m-8,8),R(8,t);for(r=0;r<7;r++)R(8,r+m-7);for(t=0;t<m-14;t++)1&t?(R(8+t,6),R(6,8+t)):(C[8+t+6*m]=1,C[6+m*(8+t)]=1);if(6<g)for(l=M.vpat[g-7],n=17,t=0;t<6;t++)for(r=0;r<3;r++,n--)1&(11<n?g>>n-12:l>>n)?(C[5-t+m*(2-r+m-11)]=1,C[2-r+m-11+m*(5-t)]=1):(R(5-t,2-r+m-11),R(2-r+m-11,5-t));for(r=0;r<m;r++)for(t=0;t<=r;t++)C[t+m*r]&&R(t,r);for(i=E.length,s=0;s<i;s++)S[s]=E.charCodeAt(s);if(E=S.slice(0),i>=(t=w*(b+v)+v)-2&&(i=t-2,9<g&&i--),s=i,9<g){for(E[s+2]=0,E[s+3]=0;s--;)l=E[s],E[s+3]|=255&l<<4,E[s+2]=l>>4;E[2]|=255&i<<4,E[1]=i>>4,E[0]=64|i>>12}else{for(E[s+1]=0,E[s+2]=0;s--;)l=E[s],E[s+2]|=255&l<<4,E[s+1]=l>>4;E[1]|=255&i<<4,E[0]=64|i>>4}for(s=i+3-(g<10);s<t;)E[s++]=236,E[s++]=17;for(T[0]=1,s=0;s<_;s++){for(T[s+1]=1,o=s;0<o;o--)T[o]=T[o]?T[o-1]^u[P(h[T[o]]+s)]:T[o-1];T[0]=u[P(h[T[0]]+s)]}for(s=0;s<=_;s++)T[s]=h[T[s]];for(n=t,s=r=0;s<b;s++)f(r,w,n,_),r+=w,n+=_;for(s=0;s<v;s++)f(r,w+1,n,_),r+=w+1,n+=_;for(s=r=0;s<w;s++){for(o=0;o<b;o++)S[r++]=E[s+o*w];for(o=0;o<v;o++)S[r++]=E[b*w+s+o*(w+1)]}for(o=0;o<v;o++)S[r++]=E[b*w+s+o*(w+1)];for(s=0;s<_;s++)for(o=0;o<b+v;o++)S[r++]=E[t+s+o*_];for(E=S,t=r=m-1,n=i=1,a=(w+_)*(b+v)+v,s=0;s<a;s++)for(l=E[s],o=0;o<8;o++,l<<=1)for(128&l&&(C[t+m*r]=1);i?t--:(t++,n?0!=r?r--:(n=!n,6==(t-=2)&&(t--,r=9)):r!=m-1?r++:(n=!n,6==(t-=2)&&(t--,r-=8))),i=!i,k(t,r););for(E=C.slice(0),r=3e4,n=l=0;n<8&&(p(n),(t=function(){for(var e,t,r,n,i=0,s=0,o=0;o<m-1;o++)for(e=0;e<m-1;e++)(C[e+m*o]&&C[e+1+m*o]&&C[e+m*(o+1)]&&C[e+1+m*(o+1)]||!(C[e+m*o]||C[e+1+m*o]||C[e+m*(o+1)]||C[e+1+m*(o+1)]))&&(i+=M.N2);for(o=0;o<m;o++){for(t=r=e=I[0]=0;e<m;e++)(n=C[e+m*o])==r?I[t]++:I[++t]=1,s+=(r=n)?1:-1;i+=O(t)}var a=s=s<0?-s:s,c=0;for(a+=a<<2,a<<=1;m*m<a;)a-=m*m,c++;for(i+=c*M.N4,e=0;e<m;e++){for(t=r=o=I[0]=0;o<m;o++)(n=C[e+m*o])==r?I[t]++:I[++t]=1,r=n;i+=O(t)}return i}())<r&&(r=t,l=n),7!=l);n++)C=E.slice(0);for(l!=n&&p(l),r=M.fmtword[l+(y-1<<3)],n=0;n<8;n++,r>>=1)1&r&&(C[m-1-n+8*m]=1,n<6?C[8+m*n]=1:C[8+m*(n+1)]=1);for(n=0;n<7;n++,r>>=1)1&r&&(C[8+m*(m-7+n)]=1,n?C[6-n+8*m]=1:C[7+8*m]=1);return C},t.init=function(){y=t.ecclevel;var e=t.genframe(t.url);t.toTable?t.tableWrite(e,m):t.canvasWrite(e,m)},t.init()}r.d(t,{Z:()=>n}),M.prototype={canvasWrite:function(e,t){var r=this;if(!r.qrc&&(r.qrc=r.getContext(r.domElement),!r.qrc))return r.toTable=!0,r.domElement=document.createElement("div"),void r.tableWrite(e,t);var n=r.size,i=r.qrc;i.lineWidth=1;var s=n;s/=t+10;var s=Math.round(s-.5),o=4;r.noBorder?(i.canvas.width=i.canvas.height=s*t,o=0):i.canvas.width=i.canvas.height=n,i.clearRect(0,0,n,n),i.fillStyle=r.colorLight,i.fillRect(0,0,s*(t+8),s*(t+8)),i.fillStyle=r.colorDark;for(var a=0;a<t;a++)for(var c=0;c<t;c++)e[c*t+a]&&i.fillRect(s*(o+a),s*(o+c),s,s)},tableWrite:function(e,t){var o=this,r=Math.round(this.size/t-3.5)+"px",a=t+(o.noBorder?0:2*o.borderSize),n=o.borderSize,i="width:"+r+";height:"+r+";",s=o.colorLight,c=o.colorDark,u=document.createElement("table");u.style.cssText="border:0;border-collapse:collapse;";for(var h=document.createElement("tr"),l=document.createElement("td"),d=function(){return l.cloneNode()},f=function(){var e=d();return e.style.cssText=i+"background:"+s,e},p=0;p<t;p++){var y=h.cloneNode();u.appendChild(y);for(var g,m=0;m<t;m++)1===e[p*t+m]?(g=void 0,(g=d()).style.cssText=i+"background:"+c,g=g,y.appendChild(g)):(g=f(),y.appendChild(g));o.noBorder||function(e){for(var t=e.firstChild,r=0;r<n;r++)e.insertBefore(f(),t),e.appendChild(f())}(y)}o.noBorder||function(e){for(var t=e.firstChild,r=0;r<o.borderSize;r++){for(var n=h.cloneNode(),i=0;i<a;i++){var s=f();n.appendChild(s)}e.appendChild(n),e.insertBefore(n.cloneNode(!0),t)}}(u),o.domElement.innerHTML="",o.domElement.appendChild(u)},getContext:function(e){return e.getContext&&e.getContext("2d")?e.getContext("2d"):(console.log("Browser does not have 2d Canvas support"),!1)},toImage:function(e){if(this.qrc){var t=this.imageTypes[e];if(!t)throw new Error(e+" is not a valid image type ");e=new Image;return e.src=this.domElement.toDataURL(t),e}}},M.adelta=[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28],M.vpat=[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177],M.fmtword=[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],M.eccblocks=[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],M.glog=[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],M.gexp=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],M.N1=3,M.N2=3,M.N3=40,M.N4=10;const n=M},26988:e=>{e.exports=function e(t,r){var n,i=0,s=0,o=r=r||0,a=t.length;do{if(a<=o||49<s)throw e.bytes=0,new RangeError("Could not decode varint")}while(n=t[o++],i+=s<28?(127&n)<<s:(127&n)*Math.pow(2,s),s+=7,128<=n);return e.bytes=o-r,i}},1312:e=>{e.exports=function e(t,r,n){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw e.bytes=0,new RangeError("Could not encode varint");r=r||[];for(var i=n=n||0;s<=t;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r};var s=Math.pow(2,31)},94676:(e,t,r)=>{e.exports={encode:r(1312),decode:r(26988),encodingLength:r(10082)}},10082:e=>{var t=Math.pow(2,7),r=Math.pow(2,14),n=Math.pow(2,21),i=Math.pow(2,28),s=Math.pow(2,35),o=Math.pow(2,42),a=Math.pow(2,49),c=Math.pow(2,56),u=Math.pow(2,63);e.exports=function(e){return e<t?1:e<r?2:e<n?3:e<i?4:e<s?5:e<o?6:e<a?7:e<c?8:e<u?9:10}},97916:(e,t,r)=>{"use strict";const n=r(59134),i="object"==typeof window&&"object"==typeof document&&9===document.nodeType,s=n(),o=i&&!s,a=s&&!i,c=s&&i,u="undefined"!=typeof process&&void 0!==process.release&&"node"===process.release.name&&!s,h="function"==typeof importScripts&&"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,l="undefined"!=typeof process&&void 0!==process.env&&!1;e.exports={isTest:l,isElectron:s,isElectronMain:a,isElectronRenderer:c,isNode:u,isBrowser:o,isWebWorker:h,isEnvWithDom:i}},82281:e=>{"use strict";var t,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),n={},i=0,s=0;function o(e){for(var t="";t=r[e%64]+t,0<(e=Math.floor(e/64)););return t}function a(){var e=o(+new Date);return e!==t?(i=0,t=e):e+"."+o(i++)}for(;s<64;s++)n[r[s]]=s;a.encode=o,a.decode=function(e){var t=0;for(s=0;s<e.length;s++)t=64*t+n[e.charAt(s)];return t},e.exports=a},12533:function(i){!function(){var e,t=function(e){null!=allModules.debugmodule.modulesToDebug.audioanalysermodule&&console.log("[audioanalysermodule]: "+e)},r=null,n=null;(e={name:"audioanalysermodule"}).initialize=function(){t("audioanalysermodule.initialize"),r=allModules.audiomodule},e.start=function(){t("audioanalysermodule.start"),n=r.createAnalyzer(4096)},e.getBufferLength=function(){return n.frequencyBinCount},e.fillTimeDomainData=function(e){return n.getByteTimeDomainData(e)},e.fillFrequencyData=function(e){return n.getByteFrequencyData(e)},i.exports=e}.call(this)},79125:function(t){!function(){var e,n=function(e){null!=allModules.debugmodule.modulesToDebug.audiomodule&&console.log("[audiomodule]: "+e)},i=null,r=!1,s=[],o=[],a=null,c=null,u=null,h=null,l=null;(e={name:"audiomodule"}).initialize=function(){n("audiomodule.initialize"),i=new window.AudioContext},e.createSineOscillator=function(e){var t,r;if(n("audiomodule.createSineOscillator"),r=i.createOscillator(),(t=i.createGain()).gain.setValueAtTime(0,i.currentTime),r.frequency.value=e,r.connect(t),t.connect(i.destination),(r=s.push(r))!==o.push(t))throw new Error("Inconsistent Array lengths for oscillators and gains");return r},e.startAllOscillators=function(){var e,t;if(!r){for(e=0,t=s.length;e<t;e++)s[e].start();r=!0}},e.setGainTo=function(e,t){var r;if(null==(r=o[e]))throw new Error("No gain found for index: "+e);r.gain.setValueAtTime(t,i.currentTime)},e.createAnalyzer=function(e){var t,r;for((a=i.createAnalyser()).fftSize=e,t=0,r=o.length;t<r;t++)o[t].connect(a);return a},e.createMic=async function(){var e,t;n("audimodule.createMic"),c=i.createGain(),u=i.createBiquadFilter(),h=i.createConvolver(),e={audio:!0};try{t=await navigator.mediaDevices.getUserMedia(e),i.createMediaStreamSource(t).connect(u),u.connect(c),h.connect(c),c.connect(a)}catch(e){n("Error on getUserMedia: "+e)}},e.destroyMic=function(){n("audiomodule.destroyMic"),n("Not Implemented yet!")},e.createSystemSound=async function(){var e,t,r;n("audiomodule.createSystemSound"),l=i.createGain(),e={audio:{mandatory:{chromeMediaSource:"system"}}};try{if(null!=navigator.mozGetUserMedia)t=await navigator.mozGetUserMedia(constraints);else{if("undefined"==typeof chrome||null===chrome)throw new Error("Neither Firefox nor Chrome Environment detected!");r=await chrome.desktopCapture.chooseDesktopMedia(["screen","window"]),e.audio.chromeMediaSourceId=r,t=await navigator.webkitGetUserMedia(e)}i.createMediaStreamSource(t).connect(l),l.connect(a)}catch(e){n("Error on getUserMedia: "+e)}},e.destroySystemSound=function(){n("audiomodule.destroySystemSound"),n("Not Implemented yet!")},t.exports=e}.call(this)},54134:function(r){!function(){var e,t=function(e){null!=allModules.debugmodule.modulesToDebug.authoritysymbolmodule&&console.log("[authoritysymbolmodule]: "+e)};(e={name:"authoritysymbolmodule"}).initialize=function(){t("authoritysymbolmodule.initialize")},r.exports=e}.call(this)},12820:function(s){!function(){var e,t,r=function(e){null!=allModules.debugmodule.modulesToDebug.backgroundmodule&&console.log("[backgroundmodule]: "+e)},n=-1,i=["muladhara","svadhistana","manipura","anahata","vissudha","ajna","sahasrara"];(e={name:"backgroundmodule"}).initialize=function(){r("backgroundmodule.initialize"),setInterval(t,700)},t=function(){0<=n&&background.classList.remove(i[n]),n=(n+1)%i.length,background.classList.add(i[n])},s.exports=e}.call(this)},81284:function(C,e,A){!function(){var n,i,t,s,o,r,a,c,u,h,l,d,f,p,y,g,m,b,v,w,_={name:"chatmodule"},e=function(e){null!=allModules.debugmodule.modulesToDebug.chatmodule&&console.log("[chatmodule]: "+e)},E=A(27484),S=A(84110);E.extend(S),d=window.localStorage.getItem("chat.nick"),m=c=f=l=i=w=null,o=function(e){return`${c[e]||"(unnamed)"} `+e.substr(2,18)},s={help:{desc:"This helptext",cmd:function(){var e,t,r;for(e in v("Help:"),r=[],s)t=s[e],r.push(v(` - /${e}${t.param?" "+t.param:""}: `+t.desc));return r}},nick:{param:"<nick>",desc:"Change nick",cmd:function(e){return _.nick(e),v(e?"Nick is now "+e:"Nick has been cleared")}}},b=function(){if(i)return i.emit("chat.presence",{nick:d})},setInterval(b,5e3),p=function(){var e,t,r,n,i,s;for(chatMessages.innerHTML="",i=[],e=0,t=l.length;e<t;e++)r=l[e],s=document.createTextNode(`<${r.system?"#system#":o(r.sender)} @ ${E(r.ts).fromNow()}> `+r.msg),(n=document.createElement("p")).appendChild(s),r.session!==m&&n.classList.add("inactive"),i.push(chatMessages.appendChild(n));return i},y=function(){var e,t,r,n,i,s;for(e in(r=document.getElementById("chat-present")).innerHTML="",n=[],f)i=f[e],36e5<Date.now()-i.lastSeen?delete f[e]:(1e4<Date.now()-i.lastSeen&&!i.inactive&&(i.inactive=!0,v(o(e)+" has left")),s=document.createTextNode(""+o(e)),(t=document.createElement("p")).appendChild(s),t.classList.add("present"),i.inactive&&t.classList.add("inactive"),s=document.createTextNode(""+E(i.lastSeen).fromNow()),(i=document.createElement("p")).appendChild(s),i.classList.add("seen"),t.appendChild(i),n.push(r.appendChild(t)));return n},r=function(e,t){return c[e.toB58String()]=t.nick,l.push({sender:e.toB58String(),msg:t.msg,ts:Date.now(),session:m}),l=l.slice(0,1024),g("messages",l),g("id2nick",c)},a=function(e,t){return c[e.toB58String()]=t.nick,f[e.toB58String()]&&!f[e.toB58String()].inactive||v(o(e.toB58String())+" has "+(f[e.toB58String()]?"returned":"joined")),f[e.toB58String()]={lastSeen:Date.now()},g("present",f,!1),g("id2nick",c)},t=function(){if(chatInput.value)return _.chat(chatInput.value),chatInput.value=""},_.initialize=function(){e("chatmodule.initialize"),chatForm.onsubmit=function(e){return e.preventDefault(),t()}},v=function(e){return l.push({system:!0,msg:e,ts:Date.now(),session:m}),g("messages",l)},n=null,g=function(e,t,r=!0){return(r?n.save:n.set)(i.id+"."+e,t,!0)},h=function(e,t){return n.load(i.id+"."+e)||t},u=function(e,t){return n.setChangeDetectionFunction(i.id+"."+e,function(){return!0}),n.addOnChangeListener(i.id+"."+e,t)},_.start=async function(e){return n=allModules.statemodule,i=await allModules.eventexchangemodule.channel(e),m=String(Math.random()),l=h("messages",[]),f={},c=h("id2nick",{}),w=allModules.peertopeermodule.getNode().peerId.toB58String(),i.handle("chat",r),i.handle("chat.presence",a),chatInput.disabled=!1,v(`Connected via pubsub to ${e} as `+(d||"(unnamed)")),u("messages",p),u("present",y),u("id2nick",function(){return p(),y()}),b(),p(),y()},_.chat=function(e){var t,r;if(!i)throw new Error("Not started");return e.startsWith("/")?(t=(r=e.split(" "))[0].substr(1),s[t]||v(`Unknown command /${t}. /help for help`),void s[t].cmd(r.slice(1).join(" "))):i.emit("chat",{msg:e,nick:d})},_.stop=function(){return v("Disconnected from "+i.id),i=null,f={},chatInput.disabled=!0},_.nick=function(e){return window.localStorage.setItem("chat.nick",e),c[w]=e,d=e,g("id2nick",c)},_.getPresent=function(){return f},C.exports=_}.call(this)},1333:function(r){!function(){var e,t=function(e){null!=allModules.debugmodule.modulesToDebug.dancingvirusmodule&&console.log("[dancingvirusmodule]: "+e)};(e={name:"dancingvirusmodule"}).initialize=function(){t("dancingvirusmodule.initialize")},r.exports=e}.call(this)},18712:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n}),(t={name:"debugmodule",uimodule:!1}).modulesToDebug={unbreaker:!0,audiomodule:!0,systemsoundbuttonmodule:!0};const n=t},57249:function(i,e,s){!function(){var e,t,r={name:"eventexchangemodule"},a=function(...e){null!=allModules.debugmodule.modulesToDebug.eventexchangemodule&&console.log("[eventexchangemodule]: "+e[0],...e.slice(1))},n={},c=s(88785);e=s(48764).Buffer,t=async function(e,n){var t,i,s={},o=allModules.configmodule.appId+"."+e;try{await n.pubsub.subscribe(o)}catch(e){a(e)}return i=function(e,t,r){if(s[t])try{return s[t](e,r)}catch(r){console.error("eventexchangemodule.handler handler failure for %s from %s: %s",e,t,r)}else console.warn("eventexchangemodule.handler received unkown event %s from %s",t,e)},t=function(e){var t=null,r=null,n=null;try{if(r=(t=JSON.parse(e.data.toString())).type,n=t.value,"string"!=typeof r)throw new Error("No valid type");if("object"!=typeof n)throw new Error("No valid value")}catch(e){console.error("eventexchangemodule.handler readError %s %s %o",o,e,t)}return i(c.createFromB58String(e.from),r,n)},n.pubsub.on(o,t),{emit:function(e,t,r=!0){return r&&i(n.peerId,e,t),n.pubsub.publish(o,(new TextEncoder).encode(JSON.stringify({type:e,value:t})))},handle:function(e,t){return s[e]=t},id:e}},r.initialize=function(){a("eventexchangemodule.initialize")},r.channel=async function(e){return n[e]||(n[e]=await t(e,allModules.peertopeermodule.getNode())),n[e]},i.exports=r}.call(this)},11062:function(t,e,r){!function(){var e;(e={name:"indexdomconnect"}).initialize=function(){r.g.qrreaderBackground=document.getElementById("qrreader-background"),r.g.qrreaderVideoElement=document.getElementById("qrreader-video-element"),r.g.qrdisplayBackground=document.getElementById("qrdisplay-background"),r.g.qrdisplayContent=document.getElementById("qrdisplay-content"),r.g.qrdisplayQr=document.getElementById("qrdisplay-qr"),r.g.messagebox=document.getElementById("messagebox"),r.g.piano=document.getElementById("piano"),r.g.visualsCanvas=document.getElementById("visuals-canvas"),r.g.chat=document.getElementById("chat"),r.g.chatMessages=document.getElementById("chat-messages"),r.g.chatForm=document.getElementById("chat-form"),r.g.chatInput=document.getElementById("chat-input"),r.g.background=document.getElementById("background")},t.exports=e}.call(this)},63826:function(o){!function(){var e,t,r,n=function(e){null!=allModules.debugmodule.modulesToDebug.messageboxmodule&&console.log("[messageboxmodule]: "+e)},i=5e3,s=null;(r={name:"messageboxmodule"}).initialize=function(){var e;n("messageboxmodule.initialize"),null!=(e=allModules.configmodule).messageboxStayDurationMS&&(i=e.messageboxStayDurationMS)},t=function(){n("letDisappear"),null!=s&&clearTimeout(s),s=setTimeout(e,i)},e=function(){n("disappear"),messagebox.textContent="",messagebox.className="gone",s=null},r.info=function(e){n("messageboxmodule.info"),"string"==typeof e&&(messagebox.textContent=e,messagebox.className="",t())},r.error=function(e){n("messageboxmodule.error"),"string"==typeof e&&(messagebox.textContent=e,messagebox.className="error",t())},o.exports=r}.call(this)},76231:function(s){!function(){var e,t,r=function(e){null!=allModules.debugmodule.modulesToDebug.micbuttonmodule&&console.log("[micbuttonmodule]: "+e)},n=null,i=!1;(t={name:"micbuttonmodule"}).initialize=function(){r("micbuttonmodule.initialize"),n=allModules.audiomodule,micbutton.addEventListener("click",e)},e=function(){r("micButtonClicked"),i=i?(micbutton.classList.remove("on"),n.destroyMic(),!1):(micbutton.classList.add("on"),n.createMic(),!0)},s.exports=t}.call(this)},78020:function(t,e,r){!function(){var n,i,s,o,a,c,u,h,l,d,f,p,e={name:"peertopeermodule"},y=function(e){null!=allModules.debugmodule.modulesToDebug.peertopeermodule&&console.log("[peertopeermodule]: "+e)};window.process||(window.process={env:{},nextTick:function(e,...t){return setTimeout(function(){return e(...t)},1)}}),r(18712).Z.modulesToDebug.peertopeermodule?r(11227).save("*"):r(11227).save(""),s=r(51613),u=r(44389),h=r(29846),a=r(94591).NOISE,o=r(1267),c=r(88785),n=r(63100),r(23979),i=r(95391),l=r(48764).Buffer,d=null,p=function(e,t){t=document.createTextNode(t);(e=document.getElementById("p2p-"+e)).innerHTML="",e.appendChild(t)},f=function(){var r;return(r=document.getElementById("p2p-peers")).innerHTML="",d.connectionManager.connections.forEach(function(e,t){return console.log(e,t),e.forEach(function(e){var t;return(t=document.createElement("p")).appendChild(document.createTextNode(e.remoteAddr.toString())),r.appendChild(t)})})},e.initialize=async function(){var e,t,r;y("peertopeermodule.initialize"),(r=localStorage.getItem("libp2pPeerId"))?t=await c.createFromProtobuf(l.from(r,"hex")):(t=await c.create(),r=l.from(t.marshal(!1)).toString("hex"),localStorage.setItem("libp2pPeerId",r)),e=allModules.configmodule.p2p||{},d=new s({peerId:t,modules:{transport:[h,u],connEncryption:[a],streamMuxer:[o],pubsub:i},addresses:{listen:e.listenAddrs||[]},config:{pubsub:{enabled:!0,emitSelf:!1},peerDiscovery:{autoDial:!0,[""+n.tag]:{enabled:!0,list:e.bootstrapPeers||[]}}}});try{await d.start(),(window.p2p=d).connectionManager.on("peer:disconnect",f),d.connectionManager.on("peer:connect",f),p("myid",t.toB58String())}catch(e){y(e)}},e.getNode=function(){if(!d)throw new Error("Couldnt get node, not initialized yet");return d},t.exports=e}.call(this)},98518:function(u){!function(){var e,t,r,n,i,s=function(e){null!=allModules.debugmodule.modulesToDebug.pianomodule&&console.log("[pianomodule]: "+e)},o=null,a={192:0,49:1,50:2,51:3,52:4,53:5,54:6,55:7,56:8,57:9,48:10,219:11},c=[16.351,17.324,18.354,19.445,20.601,21.827,23.124,24.499,25.956,27.5,29.135,30.868];(n={name:"pianomodule"}).initialize=function(){s("pianomodule.initialize"),o=allModules.audiomodule,e(),piano.addEventListener("click",i),piano.addEventListener("keydown",t),piano.addEventListener("keyup",r)},e=function(){for(var e,t=0;t<12;)if(e=c[t],e*=Math.pow(2,4),++t!==o.createSineOscillator(e))throw new Error("Unexpected Index on Oscillator create for Piano!")},i=function(){s("startPiano"),o.startAllOscillators()},t=function(e){null!=(e=a[e.keyCode])&&o.setGainTo(e,.2)},r=function(e){null!=(e=a[e.keyCode])&&o.setGainTo(e,0)},u.exports=n}.call(this)},23929:function(s,e,o){!function(){var e,t={name:"qrdisplaymodule"},r=function(e){null!=allModules.debugmodule.modulesToDebug.qrdisplaymodule&&console.log("[qrdisplaymodule]: "+e)},n=o(98745).Z,i=null;t.initialize=function(){r("qrdisplaymodule.initialize"),i=new n({url:"",size:320,toTable:!1,ecclevel:3,noBorder:!0}),qrdisplayQr.appendChild(i.domElement),qrdisplayBackground.addEventListener("click",e)},e=function(){r("qrClicked"),qrdisplayBackground.classList.remove("active")},t.displayCode=function(e){r("qrdisplaymodule.displayCode"),r(e),i.url=e,qrdisplayContent.textContent=e,i.init(),qrdisplayBackground.classList.add("active")},s.exports=t}.call(this)},68284:function(u,e,h){!function(){var e,t,r={name:"qrreadermodule"},n=function(e){null!=allModules.debugmodule.modulesToDebug.qrreadermodule&&console.log("[qrreadermodule]: "+e)},i=h(76446).Z,s=null,o=null,a=null,c=!1;r.initialize=async function(){n("qrreadermodule.initialize"),s=allModules.messageboxmodule,i.WORKER_PATH="/scannerworker.js",c=await i.hasCamera(),n(c),c&&(o=new i(qrreaderVideoElement,e),qrreaderBackground.addEventListener("click",t))},e=function(e){n("dataRead"),n(e.length),64===e.length&&null!=a&&(a(e),a=null,o.stop(),qrreaderBackground.classList.remove("active"))},t=function(){n("readerClicked"),o.stop(),null!=a&&a(null),a=null,qrreaderBackground.classList.remove("active")},r.read=function(){if(n("qrreadermodule.read"),c)return o.start(),qrreaderBackground.classList.add("active"),new Promise(function(e){return a=e});s.error("We don't have a Camera!")},u.exports=r}.call(this)},93551:function(t){!function(){var e,r=function(e){null!=allModules.debugmodule.modulesToDebug.startupmodule&&console.log("[startupmodule]: "+e)},n="123456";(e={name:"startupmodule"}).initialize=function(){var e,t;r("startupmodule.initialize"),e=allModules.configmodule,t=window.location.search,t=new URLSearchParams(t).get("partyId"),n=t||e.partyId||n},e.startUp=function(){allModules.audioanalysermodule.start(),allModules.visualizationmodule.start(),allModules.chatmodule.start(n)},t.exports=e}.call(this)},54981:function(v,e,w){!function(){var o,r,n,a,c,i,s,u,h,t,l,e,d,f,p,y={name:"statemodule"},g=function(e){null!=allModules.debugmodule.modulesToDebug.statemodule&&console.log("[statemodule]: "+e)},m=function(e){return JSON.stringify(e,null,4)},b=function(e){return g("\n"+m(e))};try{s=w(Object(function(){var e=new Error("Cannot find module './defaultstate'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(e){}p=null,o={},h={},i={},l=function(){var e,t;for(t in p=null!=(p=localStorage.getItem("state"))?JSON.parse(p):{})null==(e=p[t])&&(e=null),null!=e&&null!=e.content||(p[t]={content:e}),o[t]=p[t];for(t in s)e=s[t],null==o[t]&&(o[t]={content:e,isVolatile:!0})},u=function(e,t){return e!==t},c=function(e,t){var r=i[e]||u;return null==o[e]||(o[e].content,r(o[e].content,t))},t=function(e){var t;return g("loadDedicated"),t=localStorage.getItem(e),t=JSON.parse(t),o[e]={content:t,isDedicated:!0},t},d=function(e){var t;g("saveDedicatedState"),g(e),b({allStates:o}),t=o[e].content,o[e].isDedicated=!0,t=JSON.stringify(t),localStorage.setItem(e,t)},f=function(){var e;g("saveRegularState"),e=JSON.stringify(p),localStorage.setItem("state",e)},n=function(e,t,r,n){var i,s=null!=o[e]&&o[e].isVolatile;if("boolean"!=typeof r&&(r=null!=o[e]&&!0===o[e].isDedicated),null!=o[e]){if(i=o[e].isDedicated?r!==o[e].isDedicated:r,!(c(e,t)||s||i))return;o[e].content=t,r&&(o[e].isDedicated=!0),i&&!r&&(localStorage.removeItem(e),delete o[e].isDedicated),s&&delete o[e].isVolatile}else o[e]={content:t,isDedicated:r};if(r?(d(e),null!=p[e]&&(delete p[e],f())):(null==p[e]&&(p[e]=o[e]),f()),!n)return a(e)},e=function(){for(var e in g("saveAllStates"),b(o),o)o[e].isDedicated&&d(e);f()},r=function(e,t,r){if(c(e,t)){try{o[e].content=t}catch(r){o[e]={content:t,isVolatile:!0}}if(!r)return a(e)}},a=async function(i){var s,e;if(null!=h[i])return e=function(){for(var e,t=[],r=0,n=(e=h[i]).length;r<n;r++)s=e[r],t.push(s());return t}(),Promise.all(e)},y.getState=function(){return o},y.load=function(e){return g("statemodule.load"),b({allStates:o}),null!=o[e]&&o[e].isVolatile?o[e].content:null==o[e]||o[e].isDedicated?t(e):(l(),o[e].content)},y.save=function(e,t,r){if(g("statemodule.save"),null!=e)return null==t&&null==r?d(e):n(e,t,r,!1)},y.saveSilently=function(e,t,r){return g("statemodule.saveSilently"),n(e,t,r,!0)},y.saveAll=e,y.saveRegularState=f,y.remove=function(e){if(g("statemodule.remove"),null!=o[e])if(o[e].isVolatile)delete o[e];else{if(o[e].isDedicated)return localStorage.removeItem(e),void delete o[e];delete o[e],delete p[e],f()}},y.get=function(e){if(null!=o[e])return o[e].content},y.set=function(e,t){g("statemodule.set"),r(e,t,!1)},y.setSilently=function(e,t){g("statemodule.setSilently"),r(e,t,!0)},y.addOnChangeListener=function(e,t){g("statemodule.addOnChangeListener"),null==h[e]&&(h[e]=[]),h[e].push(t)},y.removeOnChangeListener=function(e,t){var r,n,i,s;if(g("statemodule.removeOnChangeListener"),null!=(r=h[e])){for(n=i=0,s=r.length;i<s;n=++i)if(r[n]===t)return g("candidate found at: "+n),r[n]=r[r.length-1],void r.pop();g("No candidate found for given function!")}},y.clearOnChangeListeners=function(e,t){g("statemodule.clearOnChangeListener"),h[e]=[]},y.callOutChange=function(e){return a(e)},y.setChangeDetectionFunction=function(e,t){null==t?delete i[e]:i[e]=t},l(),v.exports=y}.call(this)},9327:function(s){!function(){var e,t,r=function(e){null!=allModules.debugmodule.modulesToDebug.systembuttonmodule&&console.log("[systembuttonmodule]: "+e)},n=null,i=!1;(t={name:"systemsoundbuttonmodule"}).initialize=function(){r("systemsoundbuttonmodule.initialize"),n=allModules.audiomodule,systemsoundbutton.addEventListener("click",e)},e=function(){i=i?(systemsoundbutton.classList.remove("on"),n.destroySystemSound(),!1):(systemsoundbutton.classList.add("on"),n.createSystemSound(),!0)},s.exports=t}.call(this)},75566:function(E){!function(){var s,t,r,n,o,e,a,i,c,u,h=function(e){null!=allModules.debugmodule.modulesToDebug.visualizationmodule&&console.log("[visualizationmodule]: "+e)},l=null,d=null,f=null,p=null,y=null,g=null,m=null,b=null,v=[],w=null,_=function(e){var e=document.getElementById(e),t=new Image,e=(new XMLSerializer).serializeToString(e),e="data:image/svg+xml;base64,"+btoa(e);return t.isReady=!1,t.src=e,t.onload=function(){return t.isReady=!0},t};(c={name:"visualizationmodule"}).initialize=function(){h("visualizationmodule.initialize"),l=allModules.audioanalysermodule,w=_("cute-virus"),d=visualsCanvas.getContext("2d"),visualsCanvas.width=2048,visualsCanvas.height=600},a=function(e,t){return Math.random()*(t-e)+e},e=function(){return Math.floor(a(0,256)).toString(16)},o=function(){return"#"+e()+e()+e()},s=function(e){var t,r,n,i;for(v=v.filter(function(e){return e.y<visualsCanvas.height-e.h});v.length<100;)v.push({t:.5<Math.random()?"corona":"confetti",x:a(-10,visualsCanvas.width+5),y:a(-10,0),s:a(.1,1),w:10,h:10,color:o()});for(i=[],t=0,r=v.length;t<r;t++)n=v[t],i.push(n.y+=e*n.s);return i},t=function(e,t){var r,n,i;for(s(t),r=0,n=v.length;r<n;r++)switch(i=v[r],d.fillStyle=i.color,i.t){case"corona":d.drawImage(w,i.x,i.y,i.w,i.h);break;case"confetti":d.fillRect(i.x,i.y,i.w,i.h)}return v},i=function(){var e;requestAnimationFrame(i),l.fillTimeDomainData(y),l.fillFrequencyData(g),d.clearRect(0,0,2048,600),e=Date.now(),t(0,e-b),n(g),r(g),b=e},r=function(e){for(var t,r=0,n=0;n++<p;)t=e[n],d.fillStyle="rgb("+(t+100)+",50,50)",d.fillRect(1024-r,600-t/2,f,t/2),d.fillRect(1024+r,600-t/2,f,t/2),r+=f+1},n=function(e){var t,r=0,n=0;for(d.fillStyle="rgb(0,0,0)",t=0;r++<p;)e[r],r&&e[r-1]<e[r]&&e[r+1]<e[r]&&(m[n++]=r,d.fillRect(1024+t,0,f,600),d.fillRect(1024-t,0,f,600)),t+=f+1;m[n]=0,d.fillStyle="rgba(0,0,0,0)",d.fillRect(0,0,2048,600)},c.start=function(){var e;p=l.getBufferLength(),f=2048/p*1.25,e=(u=24e3/p)/2,h(u),h(e),y=new Uint8Array(p),g=new Uint8Array(p),m=new Uint16Array(p),b=Date.now(),i()},c.newVirusObject=function(){},E.exports=c}.call(this)},35883:()=>{},46601:()=>{},89214:()=>{},5696:()=>{},89408:()=>{},57491:()=>{},11651:()=>{},57600:()=>{},39370:()=>{},25819:()=>{},96553:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},43995:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.installTimerFunctions=t.transports=t.Transport=t.protocol=t.Socket=void 0;const n=r(77354);Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return n.Socket}}),t.protocol=n.Socket.protocol;var i=r(35685);Object.defineProperty(t,"Transport",{enumerable:!0,get:function(){return i.Transport}});var s=r(4433);Object.defineProperty(t,"transports",{enumerable:!0,get:function(){return s.transports}});var o=r(60274);Object.defineProperty(t,"installTimerFunctions",{enumerable:!0,get:function(){return o.installTimerFunctions}})},77354:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;const i=r(4433),s=r(60274),o=n(r(81830)),a=n(r(64187)),c=n(r(64857)),u=r(43063),h=r(28509),l=(0,c.default)("engine.io-client:socket");class d extends u.Emitter{constructor(e,t={}){super(),e&&"object"==typeof e&&(t=e,e=null),e?(e=(0,a.default)(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=(0,a.default)(t.host).host),(0,s.installTimerFunctions)(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=o.default.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){l('creating transport "%s"',e);const t=function(e){const t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}(this.opts.query);t.EIO=h.protocol,t.transport=e,this.id&&(t.sid=this.id);var r=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return l("options: %j",r),new i.transports[e](r)}open(){let e;if(this.opts.rememberUpgrade&&d.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return l("error while creating transport: %s",e),this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){l("setting transport %s",e.name),this.transport&&(l("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),(this.transport=e).on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",()=>{this.onClose("transport close")})}probe(r){l('probing transport "%s"',r);let n=this.createTransport(r),t=!1;d.priorWebsocketSuccess=!1;const e=()=>{t||(l('probe transport "%s" opened',r),n.send([{type:"ping",data:"probe"}]),n.once("packet",e=>{if(!t)if("pong"===e.type&&"probe"===e.data)l('probe transport "%s" pong',r),this.upgrading=!0,this.emitReserved("upgrading",n),n&&(d.priorWebsocketSuccess="websocket"===n.name,l('pausing current transport "%s"',this.transport.name),this.transport.pause(()=>{t||"closed"!==this.readyState&&(l("changing transport and sending upgrade packet"),u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())}));else{l('probe transport "%s" failed',r);const t=new Error("probe error");t.transport=n.name,this.emitReserved("upgradeError",t)}}))};function i(){t||(t=!0,u(),n.close(),n=null)}const s=e=>{const t=new Error("probe error: "+e);t.transport=n.name,i(),l('probe transport "%s" failed because of error: %s',r,e),this.emitReserved("upgradeError",t)};function o(){s("transport closed")}function a(){s("socket closed")}function c(e){n&&e.name!==n.name&&(l('"%s" works - aborting "%s"',e.name,n.name),i())}const u=()=>{n.removeListener("open",e),n.removeListener("error",s),n.removeListener("close",o),this.off("close",a),this.off("upgrading",c)};n.once("open",e),n.once("error",s),n.once("close",o),this.once("close",a),this.once("upgrading",c),n.open()}onOpen(){if(l("socket open"),this.readyState="open",d.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){l("starting upgrade probes");let e=0;for(var t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(l('socket receive: type "%s", data "%s"',e.type,e.data),this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}else l('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),(this.prevBufferLen=0)===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(l("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}write(e,t,r){return this.sendPacket("message",e,t,r),this}send(e,t,r){return this.sendPacket("message",e,t,r),this}sendPacket(e,t,r,n){"function"==typeof t&&(n=t,t=void 0),"function"==typeof r&&(n=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState&&((r=r||{}).compress=!1!==r.compress,this.emitReserved("packetCreate",r={type:e,data:t,options:r}),this.writeBuffer.push(r),n&&this.once("flush",n),this.flush())}close(){const e=()=>{this.onClose("forced close"),l("socket closing - telling transport to close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{(this.upgrading?r:e)()}):(this.upgrading?r:e)()),this}onError(e){l("socket error %j",e),d.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(l('socket close with reason: "%s"',e),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let r=0;for(var n=e.length;r<n;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}t.Socket=d,d.protocol=h.protocol},35685:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Transport=void 0;const i=r(28509),s=r(43063),o=r(60274),a=(0,n(r(64857)).default)("engine.io-client:transport");class c extends s.Emitter{constructor(e){super(),(this.writable=!1,o.installTimerFunctions)(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t){const r=new Error(e);return r.type="TransportError",r.description=t,super.emit("error",r),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState?this.write(e):a("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,super.emit("open")}onData(e){e=(0,i.decodePacket)(e,this.socket.binaryType);this.onPacket(e)}onPacket(e){super.emit("packet",e)}onClose(){this.readyState="closed",super.emit("close")}}t.Transport=c},4433:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transports=void 0;var n=r(17443),r=r(10258);t.transports={websocket:r.WS,polling:n.XHR}},17443:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Request=t.XHR=void 0;const i=n(r(52111)),s=n(r(64857)),o=n(r(96553)),a=r(60274),c=r(43063),u=r(9737),h=(0,s.default)("engine.io-client:polling-xhr");function l(){}const d=null!=new i.default({xdomain:!1}).responseType;class f extends u.Polling{constructor(t){if(super(t),"undefined"!=typeof location){const r="https:"===location.protocol;let e=location.port;e=e||(r?"443":"80"),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||e!==t.port,this.xs=t.secure!==r}const r=t&&t.forceBase64;this.supportsBinary=d&&!r}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new p(this.uri(),e)}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",e=>{this.onError("xhr post error",e)})}doPoll(){h("xhr poll");const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",e=>{this.onError("xhr poll error",e)}),this.pollXhr=e}}t.XHR=f;class p extends c.Emitter{constructor(e,t){super(),(0,a.installTimerFunctions)(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.create()}create(){const e=(0,a.pick)(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new i.default(e);try{h("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var r in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&t.setRequestHeader(r,this.opts.extraHeaders[r])}catch(e){}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{4===t.readyState&&(200===t.status||1223===t.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof t.status?t.status:0)},0))},h("xhr data %s",this.data),t.send(this.data)}catch(e){return void this.setTimeoutFn(()=>{this.onError(e)},0)}"undefined"!=typeof document&&(this.index=p.requestsCount++,p.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(e){this.emit("data",e),this.onSuccess()}onError(e){this.emit("error",e),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=l,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete p.requests[this.index],this.xhr=null}}onLoad(){var e=this.xhr.responseText;null!==e&&this.onData(e)}abort(){this.cleanup()}}if(t.Request=p,p.requestsCount=0,p.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",y);else if("function"==typeof addEventListener){const e="onpagehide"in o.default?"pagehide":"unload";addEventListener(e,y,!1)}function y(){for(var e in p.requests)p.requests.hasOwnProperty(e)&&p.requests[e].abort()}},9737:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Polling=void 0;const i=r(35685),s=n(r(64857)),o=n(r(82281)),a=n(r(81830)),c=r(28509),u=(0,s.default)("engine.io-client:polling");class h extends i.Transport{constructor(){super(...arguments),this.polling=!1}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{u("paused"),this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(u("we are currently polling - waiting to pause"),e++,this.once("pollComplete",function(){u("pre-pause polling complete"),--e||t()})),this.writable||(u("we are currently writing - waiting to pause"),e++,this.once("drain",function(){u("pre-pause writing complete"),--e||t()}))}else t()}poll(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}onData(e){u("polling got data %s",e),(0,c.decodePayload)(e,this.socket.binaryType).forEach(e=>("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type?(this.onClose(),!1):void this.onPacket(e))),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))}doClose(){var e=()=>{u("writing close packet"),this.write([{type:"close"}])};"open"===this.readyState?(u("transport open - closing"),e()):(u("transport not open - deferring close"),this.once("open",e))}write(e){(this.writable=!1,c.encodePayload)(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emit("drain")})})}uri(){let e=this.query||{};var t=this.opts.secure?"https":"http";let r="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=(0,o.default)()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"==t&&443!==Number(this.opts.port)||"http"==t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port);var n=a.default.encode(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(n.length?"?"+n:"")}}t.Polling=h},75635:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultBinaryType=t.usingBrowserWebSocket=t.WebSocket=t.nextTick=void 0;r=n(r(96553));t.nextTick="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),t.WebSocket=r.default.WebSocket||r.default.MozWebSocket,t.usingBrowserWebSocket=!0,t.defaultBinaryType="arraybuffer"},10258:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WS=void 0;const i=r(35685),s=n(r(81830)),o=n(r(82281)),a=r(60274),c=r(75635),u=n(r(64857)),h=r(28509),l=(0,u.default)("engine.io-client:websocket"),d="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class f extends i.Transport{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(this.check()){const e=this.uri(),t=this.opts.protocols,r=d?{}:(0,a.pick)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=c.usingBrowserWebSocket&&!d?t?new c.WebSocket(e,t):new c.WebSocket(e):new c.WebSocket(e,t,r)}catch(e){return this.emit("error",e)}this.ws.binaryType=this.socket.binaryType||c.defaultBinaryType,this.addEventListeners()}}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const r=t[e],n=e===t.length-1;(0,h.encodePacket)(r,this.supportsBinary,e=>{const t={};!c.usingBrowserWebSocket&&(r.options&&(t.compress=r.options.compress),this.opts.perMessageDeflate)&&("string"==typeof e?Buffer.byteLength(e):e.length)<this.opts.perMessageDeflate.threshold&&(t.compress=!1);try{c.usingBrowserWebSocket?this.ws.send(e):this.ws.send(e,t)}catch(e){l("websocket closed before onclose event")}n&&(0,c.nextTick)(()=>{this.writable=!0,this.emit("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};var t=this.opts.secure?"wss":"ws";let r="";this.opts.port&&("wss"==t&&443!==Number(this.opts.port)||"ws"==t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=(0,o.default)()),this.supportsBinary||(e.b64=1);var n=s.default.encode(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(n.length?"?"+n:"")}check(){return!(!c.WebSocket||"__initialize"in c.WebSocket&&this.name===f.prototype.name)}}t.WS=f},52111:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(38058)),s=n(r(96553));t.default=function(e){var t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||i.default))return new XMLHttpRequest}catch(e){}if(!t)try{return new s.default[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(e){}}},60274:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.installTimerFunctions=t.pick=void 0;const i=n(r(96553));t.pick=function(r,...e){return e.reduce((e,t)=>(r.hasOwnProperty(t)&&(e[t]=r[t]),e),{})};const s=setTimeout,o=clearTimeout;t.installTimerFunctions=function(e,t){t.useNativeTimers?(e.setTimeoutFn=s.bind(i.default),e.clearTimeoutFn=o.bind(i.default)):(e.setTimeoutFn=setTimeout.bind(i.default),e.clearTimeoutFn=clearTimeout.bind(i.default))}},21048:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_PACKET=t.PACKET_TYPES_REVERSE=t.PACKET_TYPES=void 0;const r=Object.create(null);t.PACKET_TYPES=r,r.open="0",r.close="1",r.ping="2",r.pong="3",r.message="4",r.upgrade="5",r.noop="6";const n=Object.create(null);t.PACKET_TYPES_REVERSE=n,Object.keys(r).forEach(e=>{n[r[e]]=e}),t.ERROR_PACKET={type:"error",data:"parser error"}},3279:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(21048),i=r(59951),s="function"==typeof ArrayBuffer,o=(e,t)=>"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e;t.default=(e,t)=>{if("string"!=typeof e)return{type:"message",data:o(e,t)};var r=e.charAt(0);return"b"===r?{type:"message",data:((e,t)=>{if(s){var r=(0,i.decode)(e);return o(r,t)}return{base64:!0,data:e}})(e.substring(1),t)}:n.PACKET_TYPES_REVERSE[r]?1<e.length?{type:n.PACKET_TYPES_REVERSE[r],data:e.substring(1)}:{type:n.PACKET_TYPES_REVERSE[r]}:n.ERROR_PACKET}},75882:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(21048),o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),a="function"==typeof ArrayBuffer,c=(e,t)=>{const r=new FileReader;return r.onload=function(){var e=r.result.split(",")[1];t("b"+e)},r.readAsDataURL(e)};t.default=({type:e,data:t},r,n)=>{return o&&t instanceof Blob?r?n(t):c(t,n):a&&(t instanceof ArrayBuffer||(i=t,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer))?r?n(t):c(new Blob([t]),n):n(s.PACKET_TYPES[e]+(t||""));var i}},28509:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodePayload=t.decodePacket=t.encodePayload=t.encodePacket=t.protocol=void 0;const o=r(75882);t.encodePacket=o.default;const i=r(3279);t.decodePacket=i.default;const a=String.fromCharCode(30);t.encodePayload=(e,r)=>{const n=e.length,i=new Array(n);let s=0;e.forEach((e,t)=>{(0,o.default)(e,!1,e=>{i[t]=e,++s===n&&r(i.join(a))})})},t.decodePayload=(e,t)=>{const r=e.split(a),n=[];for(let e=0;e<r.length;e++){const a=(0,i.default)(r[e],t);if(n.push(a),"error"===a.type)break}return n},t.protocol=4},15104:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.connect=t.io=t.Socket=t.Manager=t.protocol=void 0;const o=r(54891),a=r(98287);Object.defineProperty(t,"Manager",{enumerable:!0,get:function(){return a.Manager}});const i=r(18317);Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return i.Socket}});const c=n(r(64857)).default("socket.io-client"),u={};function s(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var r=o.url(e,t.path||"/socket.io"),n=r.source,i=r.id,e=r.path,e=u[i]&&e in u[i].nsps;let s;return s=t.forceNew||t["force new connection"]||!1===t.multiplex||e?(c("ignoring socket cache for %s",n),new a.Manager(n,t)):(u[i]||(c("new io instance for %s",n),u[i]=new a.Manager(n,t)),u[i]),r.query&&!t.query&&(t.query=r.queryKey),s.socket(r.path,t)}t.io=s,t.connect=s,t.default=s,Object.assign(s,{Manager:a.Manager,Socket:i.Socket,io:s,connect:s});var h=r(67132);Object.defineProperty(t,"protocol",{enumerable:!0,get:function(){return h.protocol}}),e.exports=s},98287:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=void 0;const a=r(43995),c=r(18317),u=s(r(67132)),h=r(86554),l=o(r(43010)),d=r(43063),f=o(r(64857)).default("socket.io-client:manager");class p extends d.Emitter{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,a.installTimerFunctions(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=t.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new l.default({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const n=t.parser||u;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(f("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;f("opening %s",this.uri),this.engine=new a.Socket(this.uri,this.opts);const e=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const n=h.on(e,"open",function(){r.onopen(),t&&t()}),i=h.on(e,"error",e=>{f("error"),r.cleanup(),r._readyState="closed",this.emitReserved("error",e),t?t(e):r.maybeReconnectOnOpen()});if(!1!==this._timeout){const t=this._timeout;f("connect attempt will timeout after %d",t),0===t&&n();const r=this.setTimeoutFn(()=>{f("connect attempt timed out after %d",t),n(),e.close(),e.emit("error",new Error("timeout"))},t);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}return this.subs.push(n),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){f("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push(h.on(e,"ping",this.onping.bind(this)),h.on(e,"data",this.ondata.bind(this)),h.on(e,"error",this.onerror.bind(this)),h.on(e,"close",this.onclose.bind(this)),h.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){f("error",e),this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r||(r=new c.Socket(this,e,t),this.nsps[e]=r),r}_destroy(e){for(const e of Object.keys(this.nsps))if(this.nsps[e].active)return void f("socket %s is still active, skipping close",e);this._close()}_packet(t){f("writing packet %j",t);var r=this.encoder.encode(t);for(let e=0;e<r.length;e++)this.engine.write(r[e],t.options)}cleanup(){f("cleanup"),this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){f("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e){f("closed due to %s",e),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)f("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var e=this.backoff.duration();f("will wait %dms before reconnect attempt",e),this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(f("attempting reconnect"),this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open(e=>{e?(f("reconnect attempt error"),t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):(f("reconnect success"),t.onreconnect())}))},e);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}t.Manager=p},86554:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=void 0,t.on=function(e,t,r){return e.on(t,r),function(){e.off(t,r)}}},18317:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;const i=r(67132),s=r(86554),o=r(43063),a=n(r(64857)).default("socket.io-client:socket"),c=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class u extends o.Emitter{constructor(e,t,r){super(),this.connected=!1,this.disconnected=!0,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}subEvents(){var e;this.subs||(e=this.io,this.subs=[s.on(e,"open",this.onopen.bind(this)),s.on(e,"packet",this.onpacket.bind(this)),s.on(e,"error",this.onerror.bind(this)),s.on(e,"close",this.onclose.bind(this))])}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(c.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');t.unshift(e);const r={type:i.PacketType.EVENT,data:t,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++;a("emitting packet with ack id %d",e);const n=t.pop();this._registerAckCallback(e,n),r.id=e}const n=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return!this.flags.volatile||n&&this.connected?this.connected?this.packet(r):this.sendBuffer.push(r):a("discard packet as the transport is not currently writable"),this.flags={},this}_registerAckCallback(t,r){const e=this.flags.timeout;if(void 0!==e){const n=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&(a("removing packet with ack id %d from the buffer",t),this.sendBuffer.splice(e,1));a("event with ack id %d has timed out after %d ms",t,e),r.call(this,new Error("operation has timed out"))},e);this.acks[t]=(...e)=>{this.io.clearTimeoutFn(n),r.apply(this,[null,...e])}}else this.acks[t]=r}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){a("transport is open - connecting"),"function"==typeof this.auth?this.auth(e=>{this.packet({type:i.PacketType.CONNECT,data:e})}):this.packet({type:i.PacketType.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e){a("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",e)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case i.PacketType.CONNECT:var t;e.data&&e.data.sid?(t=e.data.sid,this.onconnect(t)):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case i.PacketType.EVENT:case i.PacketType.BINARY_EVENT:this.onevent(e);break;case i.PacketType.ACK:case i.PacketType.BINARY_ACK:this.onack(e);break;case i.PacketType.DISCONNECT:this.ondisconnect();break;case i.PacketType.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r)}}onevent(e){const t=e.data||[];a("emitting event %j",t),null!=e.id&&(a("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length)for(const t of this._anyListeners.slice())t.apply(this,e);super.emit.apply(this,e)}ack(t){const r=this;let n=!1;return function(...e){n||(n=!0,a("sending ack %j",e),r.packet({type:i.PacketType.ACK,id:t,data:e}))}}onack(e){const t=this.acks[e.id];"function"==typeof t?(a("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):a("bad ack %s",e.id)}onconnect(e){a("socket connected with id %s",e),this.id=e,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>this.packet(e)),this.sendBuffer=[]}ondisconnect(){a("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(a("performing disconnect (%s)",this.nsp),this.packet({type:i.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let e=0;e<r.length;e++)if(t===r[e])return r.splice(e,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}t.Socket=u},54891:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.url=void 0;const i=n(r(64187)),s=n(r(64857)).default("socket.io-client:url");t.url=function(e,t="",r){let n=e;r=r||"undefined"!=typeof location&&location,"string"==typeof(e=null==e?r.protocol+"//"+r.host:e)&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(s("protocol-less url %s",e),e=void 0!==r?r.protocol+"//"+e:"https://"+e),s("parse %s",e),n=i.default(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";e=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+e+":"+n.port+t,n.href=n.protocol+"://"+e+(r&&r.port===n.port?"":":"+n.port),n}},98615:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reconstructPacket=t.deconstructPacket=void 0;const o=r(88580);t.deconstructPacket=function(e){const t=[],r=e.data,n=e;return n.data=function t(r,n){if(!r)return r;if(o.isBinary(r)){var e={_placeholder:!0,num:n.length};return n.push(r),e}if(Array.isArray(r)){const i=new Array(r.length);for(let e=0;e<r.length;e++)i[e]=t(r[e],n);return i}if("object"!=typeof r||r instanceof Date)return r;{const s={};for(const o in r)r.hasOwnProperty(o)&&(s[o]=t(r[o],n));return s}}(r,t),n.attachments=t.length,{packet:n,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function t(r,n){if(!r)return r;if(r&&r._placeholder)return n[r.num];if(Array.isArray(r))for(let e=0;e<r.length;e++)r[e]=t(r[e],n);else if("object"==typeof r)for(const e in r)r.hasOwnProperty(e)&&(r[e]=t(r[e],n));return r}(e.data,t),e.attachments=void 0,e}},67132:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=t.Encoder=t.PacketType=t.protocol=void 0;const n=r(43063),i=r(98615),s=r(88580),o=r(64857).default("socket.io-parser");var a;t.protocol=5,(r=a=t.PacketType||(t.PacketType={}))[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK",t.Encoder=class{encode(e){return o("encoding packet %j",e),e.type!==a.EVENT&&e.type!==a.ACK||!s.hasBinary(e)?[this.encodeAsString(e)]:(e.type=e.type===a.EVENT?a.BINARY_EVENT:a.BINARY_ACK,this.encodeAsBinary(e))}encodeAsString(e){let t=""+e.type;return e.type!==a.BINARY_EVENT&&e.type!==a.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data)),o("encoded %j as %s",e,t),t}encodeAsBinary(e){const t=i.deconstructPacket(e),r=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(r),n}};class c extends n.Emitter{constructor(){super()}add(e){let t;if("string"==typeof e)t=this.decodeString(e),t.type===a.BINARY_EVENT||t.type===a.BINARY_ACK?(this.reconstructor=new u(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t);else{if(!s.isBinary(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===a[r.type])throw new Error("unknown packet type "+r.type);if(r.type===a.BINARY_EVENT||r.type===a.BINARY_ACK){const i=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);var n=e.substring(i,t);if(n!=Number(n)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(n)}if("/"===e.charAt(t+1)){const i=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);r.nsp=e.substring(i,t)}else r.nsp="/";const i=e.charAt(t+1);if(""!==i&&Number(i)==i){const i=t+1;for(;++t;){const r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(i,t+1))}if(e.charAt(++t)){const i=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(t));if(!c.isPayloadValid(r.type,i))throw new Error("invalid payload");r.data=i}return o("decoded %s as %j",e,r),r}static isPayloadValid(e,t){switch(e){case a.CONNECT:return"object"==typeof t;case a.DISCONNECT:return void 0===t;case a.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case a.EVENT:case a.BINARY_EVENT:return Array.isArray(t)&&0<t.length;case a.ACK:case a.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}t.Decoder=c;class u{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length!==this.reconPack.attachments)return null;{const e=i.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}},88580:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasBinary=t.isBinary=void 0;const r="function"==typeof ArrayBuffer,n=Object.prototype.toString,i="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===n.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===n.call(File);function o(e){return r&&(e instanceof ArrayBuffer||(t=e,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer))||i&&e instanceof Blob||s&&e instanceof File;var t}t.isBinary=o,t.hasBinary=function r(n,e){if(!n||"object"!=typeof n)return!1;if(Array.isArray(n)){for(let e=0,t=n.length;e<t;e++)if(r(n[e]))return!0;return!1}if(o(n))return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return r(n.toJSON(),!0);for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&r(n[e]))return!0;return!1}},79239:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Key:()=>a});var n=r(92263),i=r(52217);const s=(new TextEncoder).encode("/"),o=s[0];class a{constructor(e,t){if("string"==typeof e)this._buf=(0,i.fromString)(e);else{if(!(e instanceof Uint8Array))throw new Error("Invalid key, should be String of Uint8Array");this._buf=e}if((t=null==t?!0:t)&&this.clean(),0===this._buf.byteLength||this._buf[0]!==o)throw new Error("Invalid key")}toString(e="utf8"){return(0,n.toString)(this._buf,e)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new a(e.join("/"))}static random(){return new a(((t=21)=>{let r="",n=crypto.getRandomValues(new Uint8Array(t));for(;t--;){let e=63&n[t];r+=e<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e<63?"_":"-"}return r})().replace(/-/g,""))}static asKey(e){return e instanceof Uint8Array||"string"==typeof e?new a(e):e.uint8Array?new a(e.uint8Array()):null}clean(){if(this._buf&&0!==this._buf.byteLength||(this._buf=s),this._buf[0]!==o){const e=new Uint8Array(this._buf.byteLength+1);e.fill(o,0,1),e.set(this._buf,1),this._buf=e}for(;1<this._buf.byteLength&&this._buf[this._buf.byteLength-1]===o;)this._buf=this._buf.subarray(0,-1)}less(e){var t=this.list(),r=e.list();for(let e=0;e<t.length;e++){if(r.length<e+1)return!1;var n=t[e],i=r[e];if(n<i)return!0;if(i<n)return!1}return t.length<r.length}reverse(){return a.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){var e=this.namespaces();return e[e.length-1]}list(){return this.toString().split("/").slice(1)}type(){return function(e){const t=e.split(":");return t.length<2?"":t.slice(0,-1).join(":")}(this.baseNamespace())}name(){return function(e){e=e.split(":");return e[e.length-1]}(this.baseNamespace())}instance(e){return new a(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith("/")||(e+="/"),e+=this.type(),new a(e)}parent(){const e=this.list();return 1===e.length?new a("/"):new a(e.slice(0,-1).join("/"))}child(e){return"/"===this.toString()?e:"/"===e.toString()?this:new a(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()!==this.toString()&&e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()!==this.toString()&&this.toString().startsWith(e.toString())}isTopLevel(){return 1===this.list().length}concat(...e){return a.withNamespaces([...this.namespaces(),...(e=e.map(e=>e.namespaces()),[].concat(...e))])}}},38069:(e,t,r)=>{"use strict";r.r(t),r.d(t,{concat:()=>function(e,t){t=t||e.reduce((e,t)=>e+t.length,0);const r=new Uint8Array(t);let n=0;for(const t of e)r.set(t,n),n+=t.length;return r}})},83745:(e,t,r)=>{"use strict";r.r(t),r.d(t,{equals:()=>function(t,r){if(t===r)return!0;if(t.byteLength!==r.byteLength)return!1;for(let e=0;e<t.byteLength;e++)if(t[e]!==r[e])return!1;return!0}})},88007:(e,t,r)=>{"use strict";r.r(t),r.d(t,{fromString:()=>function(e,t="utf8"){const r=n.Z[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return r.decoder.decode(""+r.prefix+e)}});var n=r(86174)},81151:(e,t,r)=>{"use strict";r.r(t),r.d(t,{toString:()=>function(e,t="utf8"){const r=n.Z[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return r.encoder.encode(e).substring(1)}});var n=r(86174)},86174:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});r=r(82194);function n(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const i=n("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>(new TextEncoder).encode(e.substring(1))),s=n("ascii","a",t=>{let r="a";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return r},t=>{t=t.substring(1);const r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}),o={utf8:i,"utf-8":i,hex:r.gh.base16,latin1:s,ascii:s,binary:s,...r.gh}},89880:(e,t,r)=>{"use strict";r.d(t,{kU:()=>h,Dp:()=>u,ET:()=>l});var s=r(95934);class i{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return""+this.prefix+this.baseEncode(e);throw Error("Unknown type, must be binary type")}}class o{constructor(e,t,r){this.name=e,this.prefix=t,this.baseDecode=r}decode(e){if("string"!=typeof e)throw Error("Can only multibase decode strings");if(e[0]===this.prefix)return this.baseDecode(e.slice(1));throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with `+this.prefix)}or(e){return a(this,e)}}class n{constructor(e){this.decoders=e}or(e){return a(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const a=(e,t)=>new n({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class c{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new i(e,t,r),this.decoder=new o(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const u=({name:e,prefix:t,encode:r,decode:n})=>new c(e,t,r,n),h=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=function(d,t){if(255<=d.length)throw new TypeError("Alphabet too long");for(var f=new Uint8Array(256),e=0;e<f.length;e++)f[e]=255;for(var r=0;r<d.length;r++){var n=d.charAt(r),i=n.charCodeAt(0);if(255!==f[i])throw new TypeError(n+" is ambiguous");f[i]=r}var p=d.length,y=d.charAt(0),g=Math.log(p)/Math.log(256),m=Math.log(256)/Math.log(p);function s(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,n=0;e[t]===y;)r++,t++;for(var i=(e.length-t)*g+1>>>0,s=new Uint8Array(i);e[t];){var o=f[e.charCodeAt(t)];if(255===o)return;for(var a=0,c=i-1;(0!==o||a<n)&&-1!==c;c--,a++)o+=p*s[c]>>>0,s[c]=o%256>>>0,o=o/256>>>0;if(0!==o)throw new Error("Non-zero carry");n=a,t++}if(" "!==e[t]){for(var u=i-n;u!==i&&0===s[u];)u++;for(var h=new Uint8Array(r+(i-u)),l=r;u!==i;)h[l++]=s[u++];return h}}}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var t=0,r=0,n=0,i=e.length;n!==i&&0===e[n];)n++,t++;for(var s=(i-n)*m+1>>>0,o=new Uint8Array(s);n!==i;){for(var a=e[n],c=0,u=s-1;(0!==a||c<r)&&-1!==u;u--,c++)a+=256*o[u]>>>0,o[u]=a%p>>>0,a=a/p>>>0;if(0!==a)throw new Error("Non-zero carry");r=c,n++}for(var h=s-r;h!==s&&0===o[h];)h++;for(var l=y.repeat(t);h<s;++h)l+=d.charAt(o[h]);return l},decodeUnsafe:s,decode:function(e){e=s(e);if(e)return e;throw new Error(`Non-${t} character`)}}}(r,t);return u({prefix:e,name:t,encode:n,decode:e=>(0,s.oQ)(i(e))})},l=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>u({prefix:e,name:t,encode:e=>((t,r,n)=>{var e="="===r[r.length-1],i=(1<<n)-1;let s="",o=0,a=0;for(let e=0;e<t.length;++e)for(a=a<<8|t[e],o+=8;o>n;)o-=n,s+=r[i&a>>o];if(o&&(s+=r[i&a<<n-o]),e)for(;s.length*n&7;)s+="=";return s})(e,n,r),decode:e=>((t,r,n,i)=>{const s={};for(let e=0;e<r.length;++e)s[r[e]]=e;let o=t.length;for(;"="===t[o-1];)--o;const a=new Uint8Array(o*n/8|0);let c=0,u=0,h=0;for(let e=0;e<o;++e){const o=s[t[e]];if(void 0===o)throw new SyntaxError(`Non-${i} character`);u=u<<n|o,c+=n,8<=c&&(c-=8,a[h++]=255&u>>c)}if(c>=n||255&u<<8-c)throw new SyntaxError("Unexpected end of data");return a})(e,n,r,t)})},84835:(e,t,r)=>{"use strict";r.r(t),r.d(t,{base16:()=>n,base16upper:()=>i});r=r(89880);const n=(0,r.ET)({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),i=(0,r.ET)({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})},22817:(e,t,r)=>{"use strict";r.r(t),r.d(t,{base32:()=>n,base32upper:()=>i,base32pad:()=>s,base32padupper:()=>o,base32hex:()=>a,base32hexupper:()=>c,base32hexpad:()=>u,base32hexpadupper:()=>h,base32z:()=>l});r=r(89880);const n=(0,r.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),i=(0,r.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),s=(0,r.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),o=(0,r.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),a=(0,r.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),c=(0,r.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),u=(0,r.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),h=(0,r.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),l=(0,r.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})},98441:(e,t,r)=>{"use strict";r.r(t),r.d(t,{base36:()=>n,base36upper:()=>i});r=r(89880);const n=(0,r.kU)({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),i=(0,r.kU)({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})},99086:(e,t,r)=>{"use strict";r.r(t),r.d(t,{base58btc:()=>n,base58flickr:()=>i});r=r(89880);const n=(0,r.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),i=(0,r.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},9885:(e,t,r)=>{"use strict";r.r(t),r.d(t,{base64:()=>n,base64pad:()=>i,base64url:()=>s,base64urlpad:()=>o});r=r(89880);const n=(0,r.ET)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),i=(0,r.ET)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),s=(0,r.ET)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),o=(0,r.ET)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})},82194:(e,t,r)=>{"use strict";r.d(t,{gh:()=>I});var n={};r.r(n),r.d(n,{identity:()=>l});var i={};r.r(i),r.d(i,{base2:()=>d});var s={};r.r(s),r.d(s,{base8:()=>f});var o={};r.r(o),r.d(o,{base10:()=>p});var a={};r.r(a),r.d(a,{code:()=>m,decode:()=>v,encode:()=>b,name:()=>g});var c={};r.r(c),r.d(c,{code:()=>S,decode:()=>A,encode:()=>C,name:()=>E});var u=r(89880),h=r(95934);const l=(0,u.Dp)({prefix:"\0",name:"identity",encode:e=>(0,h.BB)(e),decode:e=>(0,h.mL)(e)}),d=(0,u.ET)({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),f=(0,u.ET)({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),p=(0,u.kU)({prefix:"9",name:"base10",alphabet:"0123456789"});var y=r(84835),t=r(22817),a=r(98441),c=r(99086),u=r(9885);r(56155),r(78103);const g="raw",m=85,b=e=>(0,h.oQ)(e),v=e=>(0,h.oQ)(e),w=new TextEncoder,_=new TextDecoder,E="json",S=512,C=e=>w.encode(JSON.stringify(e)),A=e=>JSON.parse(_.decode(e));r(81362),r(4714),r(7225),r(28924);const I={...n,...i,...s,...o,...y,...t,...a,...c,...u}},95934:(e,t,r)=>{"use strict";r.d(t,{fS:()=>n,oQ:()=>i,mL:()=>s,BB:()=>o}),new Uint8Array(0);const n=(t,r)=>{if(t===r)return!0;if(t.byteLength!==r.byteLength)return!1;for(let e=0;e<t.byteLength;e++)if(t[e]!==r[e])return!1;return!0},i=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},s=e=>(new TextEncoder).encode(e),o=e=>(new TextDecoder).decode(e)},81362:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CID:()=>h});var c=r(4714),o=r(28924),s=r(99086),a=r(22817),u=r(95934);class h{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,(this.asCID=this)._baseCache=new Map,Object.defineProperties(this,{byteOffset:m,byteLength:m,code:g,version:g,multihash:g,bytes:g,_baseCache:m,asCID:m})}toV0(){if(0===this.version)return this;var{code:e,multihash:t}=this;if(e!==f)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==n)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return h.createV0(t)}toV1(){switch(this.version){case 0:var{code:e,digest:t}=this.multihash,t=o.create(e,t);return h.createV1(this.code,t);case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&o.equals(this.multihash,e.multihash)}toString(e){var{bytes:t,version:r,_baseCache:n}=this;return 0===r?i(t,n,e||s.base58btc.encoder):d(t,n,e||a.base32.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return b(/^0\.0/,v),!(!e||!e[y]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof h)return e;if(null!=e&&e.asCID===e){const{version:n,code:i,multihash:s,bytes:o}=e;return new h(n,i,s,o||p(n,i,s.bytes))}if(null==e||!0!==e[y])return null;var{version:t,multihash:r,code:e}=e,r=o.decode(r);return h.create(t,e,r)}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==f)throw new Error(`Version 0 CID must use dag-pb (code: ${f}) block encoding`);return new h(e,t,r,r.bytes);case 1:var n=p(e,t,r.bytes);return new h(e,t,r,n);default:throw new Error("Invalid version")}}static createV0(e){return h.create(0,f,e)}static createV1(e,t){return h.create(1,e,t)}static decode(e){var[t,e]=h.decodeFirst(e);if(e.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=h.inspectBytes(e),r=t.size-t.multihashSize,n=(0,u.oQ)(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");var i=n.subarray(t.multihashSize-t.digestSize),i=new o.Digest(t.multihashCode,t.digestSize,i,n);return[0===t.version?h.createV0(i):h.createV1(t.codec,i),e.subarray(t.size)]}static inspectBytes(r){let n=0;var e=()=>{var[e,t]=c.Jx(r.subarray(n));return n+=t,e};let t=e(),i=f;if(18===t?(t=0,n=0):1===t&&(i=e()),0!==t&&1!==t)throw new RangeError("Invalid CID version "+t);var s=n,o=e(),a=e(),e=n+a;return{version:t,codec:i,multihashCode:o,digestSize:a,multihashSize:e-s,size:e}}static parse(e,t){const[r,n]=l(e,t),i=h.decode(n);return i._baseCache.set(r,e),i}}const l=(e,t)=>{switch(e[0]){case"Q":{const r=t||s.base58btc;return[s.base58btc.prefix,r.decode(""+s.base58btc.prefix+e)]}case s.base58btc.prefix:{const n=t||s.base58btc;return[s.base58btc.prefix,n.decode(e)]}case a.base32.prefix:{const i=t||a.base32;return[a.base32.prefix,i.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},i=(e,t,r)=>{var n=r["prefix"];if(n!==s.base58btc.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const i=t.get(n);if(null!=i)return i;{const i=r.encode(e).slice(1);return t.set(n,i),i}},d=(e,t,r)=>{const n=r["prefix"],i=t.get(n);if(null!=i)return i;{const i=r.encode(e);return t.set(n,i),i}},f=112,n=18,p=(e,t,r)=>{const n=c.P$(e),i=n+c.P$(t),s=new Uint8Array(i+r.byteLength);return c.mL(e,s,0),c.mL(t,s,n),s.set(r,i),s},y=Symbol.for("@ipld/js-cid/CID"),g={writable:!1,configurable:!1,enumerable:!0},m={writable:!1,enumerable:!1,configurable:!1},b=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},v="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n"},28924:(e,t,r)=>{"use strict";r.r(t),r.d(t,{create:()=>n,decode:()=>i,equals:()=>s,Digest:()=>u});var a=r(95934),c=r(4714);const n=(e,t)=>{const r=t.byteLength,n=c.P$(e),i=n+c.P$(r),s=new Uint8Array(i+r);return c.mL(e,s,0),c.mL(r,s,n),s.set(t,i),new u(e,r,t,s)},i=e=>{const t=(0,a.oQ)(e),[r,n]=c.Jx(t),[i,s]=c.Jx(t.subarray(n)),o=t.subarray(n+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new u(r,i,o,t)},s=(e,t)=>e===t||e.code===t.code&&e.size===t.size&&(0,a.fS)(e.bytes,t.bytes);class u{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}},7225:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});var n=r(28924);const i=({name:e,code:t,encode:r})=>new s(e,t,r);class s{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}async digest(e){if(e instanceof Uint8Array){e=await this.encode(e);return n.create(this.code,e)}throw Error("Unknown type, must be binary type")}}},78103:(e,t,r)=>{"use strict";r.r(t),r.d(t,{identity:()=>i});var t=r(7225),n=r(95934);const i=(0,t.D)({name:"identity",code:0,encode:e=>(0,n.oQ)(e)})},56155:(e,t,r)=>{"use strict";r.r(t),r.d(t,{sha256:()=>i,sha512:()=>s});r=r(7225);const n=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),i=(0,r.D)({name:"sha2-256",code:18,encode:n("SHA-256")}),s=(0,r.D)({name:"sha2-512",code:19,encode:n("SHA-512")})},4714:(e,t,r)=>{"use strict";r.d(t,{Jx:()=>p,mL:()=>y,P$:()=>g});var s=Math.pow(2,31),n=Math.pow(2,7),i=Math.pow(2,14),o=Math.pow(2,21),a=Math.pow(2,28),c=Math.pow(2,35),u=Math.pow(2,42),h=Math.pow(2,49),l=Math.pow(2,56),d=Math.pow(2,63);const f={encode:function e(t,r,n){r=r||[];for(var i=n=n||0;s<=t;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},decode:function e(t,r){var n,i=0,s=0,o=r=r||0,a=t.length;do{if(a<=o)throw e.bytes=0,new RangeError("Could not decode varint")}while(n=t[o++],i+=s<28?(127&n)<<s:(127&n)*Math.pow(2,s),s+=7,128<=n);return e.bytes=o-r,i},encodingLength:function(e){return e<n?1:e<i?2:e<o?3:e<a?4:e<c?5:e<u?6:e<h?7:e<l?8:e<d?9:10}},p=e=>[f.decode(e),f.decode.bytes],y=(e,t,r=0)=>(f.encode(e,t,r),t),g=e=>f.encodingLength(e)},20605:(e,t,r)=>{"use strict";r.r(t),r.d(t,{concat:()=>function(e,t){t=t||e.reduce((e,t)=>e+t.length,0);const r=new Uint8Array(t);let n=0;for(const t of e)r.set(t,n),n+=t.length;return r}})},19588:(e,t,r)=>{"use strict";r.r(t),r.d(t,{equals:()=>function(t,r){if(t===r)return!0;if(t.byteLength!==r.byteLength)return!1;for(let e=0;e<t.byteLength;e++)if(t[e]!==r[e])return!1;return!0}})},52217:(e,t,r)=>{"use strict";r.r(t),r.d(t,{fromString:()=>function(e,t="utf8"){const r=n.Z[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return r.decoder.decode(""+r.prefix+e)}});var n=r(67645)},92263:(e,t,r)=>{"use strict";r.r(t),r.d(t,{toString:()=>function(e,t="utf8"){const r=n.Z[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return r.encoder.encode(e).substring(1)}});var n=r(67645)},67645:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});r=r(82194);function n(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const i=n("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>(new TextEncoder).encode(e.substring(1))),s=n("ascii","a",t=>{let r="a";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return r},t=>{t=t.substring(1);const r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}),o={utf8:i,"utf-8":i,hex:r.gh.base16,latin1:s,ascii:s,binary:s,...r.gh}},18597:e=>{"use strict";e.exports={i8:"6.5.4"}},28362:e=>{"use strict";e.exports=JSON.parse('{"name":"libp2p","version":"0.34.0","description":"JavaScript implementation of libp2p, a modular peer to peer network stack","leadMaintainer":"Jacob Heun <jacobheun@gmail.com>","main":"src/index.js","types":"dist/src/index.d.ts","typesVersions":{"*":{"src/*":["dist/src/*","dist/src/*/index"]}},"files":["dist","src"],"scripts":{"lint":"aegir lint","build":"aegir build","build:proto":"npm run build:proto:circuit && npm run build:proto:identify && npm run build:proto:plaintext && npm run build:proto:address-book && npm run build:proto:proto-book && npm run build:proto:peer-record && npm run build:proto:envelope","build:proto:circuit":"pbjs -t static-module -w commonjs -r libp2p-circuit --force-number --no-verify --no-delimited --no-create --no-beautify --no-defaults --lint eslint-disable -o src/circuit/protocol/index.js ./src/circuit/protocol/index.proto","build:proto:identify":"pbjs -t static-module -w commonjs -r libp2p-identify --force-number --no-verify --no-delimited --no-create --no-beautify --no-defaults --lint eslint-disable -o src/identify/message.js ./src/identify/message.proto","build:proto:plaintext":"pbjs -t static-module -w commonjs -r libp2p-plaintext --force-number --no-verify --no-delimited --no-create --no-beautify --no-defaults --lint eslint-disable -o src/insecure/proto.js ./src/insecure/proto.proto","build:proto:address-book":"pbjs -t static-module -w commonjs -r libp2p-address-book --force-number --no-verify --no-delimited --no-create --no-beautify --no-defaults --lint eslint-disable -o src/peer-store/persistent/pb/address-book.js ./src/peer-store/persistent/pb/address-book.proto","build:proto:proto-book":"pbjs -t static-module -w commonjs -r libp2p-proto-book --force-number --no-verify --no-delimited --no-create --no-beautify --no-defaults --lint eslint-disable -o src/peer-store/persistent/pb/proto-book.js ./src/peer-store/persistent/pb/proto-book.proto","build:proto:peer-record":"pbjs -t static-module -w commonjs -r libp2p-peer-record --force-number --no-verify --no-delimited --no-create --no-beautify --no-defaults --lint eslint-disable -o src/record/peer-record/peer-record.js ./src/record/peer-record/peer-record.proto","build:proto:envelope":"pbjs -t static-module -w commonjs -r libp2p-envelope --force-number --no-verify --no-delimited --no-create --no-beautify --no-defaults --lint eslint-disable -o src/record/envelope/envelope.js ./src/record/envelope/envelope.proto","build:proto-types":"npm run build:proto-types:circuit && npm run build:proto-types:identify && npm run build:proto-types:plaintext && npm run build:proto-types:address-book && npm run build:proto-types:proto-book && npm run build:proto-types:peer-record && npm run build:proto-types:envelope","build:proto-types:circuit":"pbts -o src/circuit/protocol/index.d.ts src/circuit/protocol/index.js","build:proto-types:identify":"pbts -o src/identify/message.d.ts src/identify/message.js","build:proto-types:plaintext":"pbts -o src/insecure/proto.d.ts src/insecure/proto.js","build:proto-types:address-book":"pbts -o src/peer-store/persistent/pb/address-book.d.ts src/peer-store/persistent/pb/address-book.js","build:proto-types:proto-book":"pbts -o src/peer-store/persistent/pb/proto-book.d.ts src/peer-store/persistent/pb/proto-book.js","build:proto-types:peer-record":"pbts -o src/record/peer-record/peer-record.d.ts src/record/peer-record/peer-record.js","build:proto-types:envelope":"pbts -o src/record/envelope/envelope.d.ts src/record/envelope/envelope.js","test":"aegir test","test:ts":"aegir build --no-bundle && npm run test --prefix test/ts-use","test:node":"aegir test -t node -f \\"./test/**/*.{node,spec}.js\\"","test:browser":"aegir test -t browser","test:examples":"cd examples && npm run test:all","test:interop":"LIBP2P_JS=$PWD npx aegir test -t node -f ./node_modules/libp2p-interop/test/*","prepare":"aegir build --no-bundle","release":"aegir release -t node -t browser","release-minor":"aegir release --type minor -t node -t browser","release-major":"aegir release --type major -t node -t browser","coverage":"nyc --reporter=text --reporter=lcov npm run test:node"},"repository":{"type":"git","url":"https://github.com/libp2p/js-libp2p.git"},"keywords":["libp2p","network","p2p","peer","peer-to-peer","IPFS"],"bugs":{"url":"https://github.com/libp2p/js-libp2p/issues"},"homepage":"https://libp2p.io","license":"MIT","engines":{"node":">=14.0.0"},"browser":{"@motrix/nat-api":false},"eslintConfig":{"extends":"ipfs","ignorePatterns":["!.aegir.js","test/ts-use","*.d.ts"]},"dependencies":{"abortable-iterator":"^3.0.0","@motrix/nat-api":"^0.3.1","@vascosantos/moving-average":"^1.1.0","abort-controller":"^3.0.0","aggregate-error":"^3.1.0","any-signal":"^2.1.1","bignumber.js":"^9.0.1","class-is":"^1.1.0","debug":"^4.3.1","err-code":"^3.0.0","es6-promisify":"^7.0.0","events":"^3.3.0","hashlru":"^2.3.0","interface-datastore":"^6.0.2","it-all":"^1.0.4","it-buffer":"^0.1.2","it-drain":"^1.0.3","it-filter":"^1.0.1","it-first":"^1.0.4","it-handshake":"^2.0.0","it-length-prefixed":"^5.0.2","it-map":"^1.0.4","it-merge":"^1.0.0","it-pipe":"^1.1.0","it-take":"^1.0.0","libp2p-crypto":"^0.19.4","libp2p-interfaces":"^1.0.0","libp2p-utils":"^0.4.0","mafmt":"^10.0.0","merge-options":"^3.0.4","multiaddr":"^10.0.0","multiformats":"^9.0.0","multistream-select":"^2.0.0","mutable-proxy":"^1.0.0","node-forge":"^0.10.0","p-any":"^3.0.0","p-fifo":"^1.0.0","p-retry":"^4.4.0","p-settle":"^4.1.1","peer-id":"^0.15.0","private-ip":"^2.1.0","protobufjs":"^6.10.2","retimer":"^3.0.0","sanitize-filename":"^1.6.3","set-delayed-interval":"^1.0.0","streaming-iterables":"^6.0.0","timeout-abort-controller":"^1.1.1","uint8arrays":"^3.0.0","varint":"^6.0.0","wherearewe":"^1.0.0","xsalsa20":"^1.1.0"},"devDependencies":{"@chainsafe/libp2p-noise":"^4.0.0","@nodeutils/defaults-deep":"^1.1.0","@types/es6-promisify":"^6.0.0","@types/node":"^16.0.1","@types/node-forge":"^0.10.1","@types/varint":"^6.0.0","aegir":"^36.0.0","buffer":"^6.0.3","datastore-core":"^6.0.7","delay":"^5.0.0","into-stream":"^7.0.0","ipfs-http-client":"^52.0.2","it-concat":"^2.0.0","it-pair":"^1.0.0","it-pushable":"^1.4.0","libp2p":".","libp2p-bootstrap":"^0.13.0","libp2p-delegated-content-routing":"^0.11.0","libp2p-delegated-peer-routing":"^0.10.0","libp2p-floodsub":"^0.27.0","libp2p-gossipsub":"^0.11.0","libp2p-interfaces-compliance-tests":"^1.0.0","libp2p-interop":"^0.5.0","libp2p-kad-dht":"^0.26.5","libp2p-mdns":"^0.17.0","libp2p-mplex":"^0.10.1","libp2p-tcp":"^0.17.0","libp2p-webrtc-star":"^0.23.0","libp2p-websockets":"^0.16.0","nock":"^13.0.3","p-defer":"^3.0.0","p-times":"^3.0.0","p-wait-for":"^3.2.0","rimraf":"^3.0.2","sinon":"^11.1.1","util":"^0.12.3"},"contributors":["Vasco Santos <vasco.santos@moxy.studio>","David Dias <daviddias.p@gmail.com>","Jacob Heun <jacobheun@gmail.com>","Alex Potsides <alex@achingbrain.net>","Alan Shaw <alan@tableflip.io>","Cayman <caymannava@gmail.com>","Pedro Teixeira <i@pgte.me>","Friedel Ziegelmayer <dignifiedquire@gmail.com>","Maciej Krger <mkg20001@gmail.com>","Hugo Dias <mail@hugodias.me>","Chris Dostert <chrisdostert@users.noreply.github.com>","dirkmc <dirkmdev@gmail.com>","Volker Mische <volker.mische@gmail.com>","zeim839 <50573884+zeim839@users.noreply.github.com>","Richard Littauer <richard.littauer@gmail.com>","a1300 <matthias-knopp@gmx.net>","Ryan Bell <ryan@piing.net>","Elven <mon.samuel@qq.com>","  <victorbjelkholm@gmail.com>","Thomas Eizinger <thomas@eizinger.io>","Robert Kiel <robert.kiel@hoprnet.org>","Andrew Nesbitt <andrewnez@gmail.com>","Samlior <samlior@foxmail.com>","acolytec3 <17355484+acolytec3@users.noreply.github.com>","Franck Royer <franck@royer.one>","Giovanni T. Parra <fiatjaf@gmail.com>","Didrik Nordstrm <didrik.nordstrom@gmail.com>","RasmusErik Voel Jensen <github@solsort.com>","Smite Chow <xiaopengyou@live.com>","Soeren <nikorpoulsen@gmail.com>","Snke Hahn <soenkehahn@gmail.com>","TJKoury <TJKoury@gmail.com>","TheStarBoys <41286328+TheStarBoys@users.noreply.github.com>","Tiago Alves <alvesjtiago@gmail.com>","XiaoZhang <zxinmyth@gmail.com>","Yusef Napora <yusef@napora.org>","Zane Starr <zcstarr@gmail.com>","ebinks <elizabethjbinks@gmail.com>","Aditya Bose <13054902+adbose@users.noreply.github.com>","isan_rivkin <isanrivkin@gmail.com>","mayerwin <mayerwin@users.noreply.github.com>","mcclure <andi.m.mcclure@gmail.com>","patrickwoodhead <91056047+patrickwoodhead@users.noreply.github.com>","phillmac <phillmac@users.noreply.github.com>","robertkiel <robert.kiel@validitylabs.org>","shresthagrawal <34920931+shresthagrawal@users.noreply.github.com>","swedneck <40505480+swedneck@users.noreply.github.com>","greenSnot <greenSnot@users.noreply.github.com>","Alan Smithee <ggnore.alan.smithee@gmail.com>","Aleksei <vozhdb@gmail.com>","Bernd Strehl <bernd.strehl@gmail.com>","Chris Bratlien <chrisbratlien@gmail.com>","Cindy Wu <ciindy.wu@gmail.com>","Daijiro Wachi <daijiro.wachi@gmail.com>","Diogo Silva <fsdiogo@gmail.com>","Dmitriy Ryajov <dryajov@gmail.com>","Ethan Lam <elmemphis2000@gmail.com>","Fei Liu <liu.feiwood@gmail.com>","Felipe Martins <felipebrasil93@gmail.com>","Florian-Merle <florian.david.merle@gmail.com>","Francis Gulotta <wizard@roborooter.com>","Guy Sviry <32539816+guysv@users.noreply.github.com>","Henrique Dias <hacdias@gmail.com>","Irakli Gozalishvili <rfobic@gmail.com>","Joel Gustafson <joelg@mit.edu>","John Rees <johnrees@users.noreply.github.com>","Joo Santos <joaosantos15@users.noreply.github.com>","Julien Bouquillon <contact@revolunet.com>","Kevin Kwok <antimatter15@gmail.com>","Kevin Lacker <lacker@gmail.com>","Lars Gierth <lgierth@users.noreply.github.com>","Leask Wong <i@leaskh.com>","Marcin Tojek <mtojek@users.noreply.github.com>","Michael Burns <5170+mburns@users.noreply.github.com>","Miguel Mota <miguelmota2@gmail.com>","Nuno Nogueira <nunofmn@gmail.com>","Philipp Muens <raute1337@gmx.de>"]}')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;t=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(t.exports,t,t.exports,__webpack_require__),t.loaded=!0,t.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};(()=>{"use strict";var e=__webpack_require__(12533),t=__webpack_require__.n(e),r=__webpack_require__(79125),n=__webpack_require__.n(r),i=__webpack_require__(54134),s=__webpack_require__.n(i),o=__webpack_require__(12820),a=__webpack_require__.n(o),c=__webpack_require__(81284),u=__webpack_require__.n(c),h=function(e){null!=allModules.debugmodule.modulesToDebug.configmodule&&console.log("[configmodule]: "+e)};(v={name:"configmodule",uimodule:!1}).initialize=function(){h("configmodule.initialize")},v.partyId="12345",v.appId="corona-party",v.p2p={bootstrapPeers:["/ip4/104.131.131.82/tcp/4001/p2p/QmaCpDMGvV2BGHeYERUEnRQAwe3N8SzbUtfsmvsqQLuvuJ","/ip4/104.131.131.82/udp/4001/quic/p2p/QmaCpDMGvV2BGHeYERUEnRQAwe3N8SzbUtfsmvsqQLuvuJ","/dnsaddr/bootstrap.libp2p.io/p2p/QmNnooDu7bfjPFoTZYxMNLWUQJyrVwtbZg5gBMjTezGAJN","/dnsaddr/bootstrap.libp2p.io/p2p/QmQCU2EcMqAqQPR2i9bChDtGNJchTbq5TbXJJ16u19uLTa","/dnsaddr/bootstrap.libp2p.io/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb","/dnsaddr/bootstrap.libp2p.io/p2p/QmcZf59bWwK5XFi76CZX8cbJ4BhTzzA3gU1ZjYZcYW3dwt"],listenAddrs:["/dns4/wrtc-star.mkg20001.io/tcp/443/wss/p2p-webrtc-star"]};var l=v,d=__webpack_require__(1333),f=__webpack_require__.n(d),p=__webpack_require__(18712),y=__webpack_require__(57249),g=__webpack_require__.n(y),m=__webpack_require__(63826),b=__webpack_require__.n(m),e=__webpack_require__(76231),r=__webpack_require__.n(e),i=__webpack_require__(78020),o=__webpack_require__.n(i),c=__webpack_require__(98518),v=__webpack_require__.n(c),d=__webpack_require__(23929),y=__webpack_require__.n(d),m=__webpack_require__(68284),e=__webpack_require__.n(m),i=__webpack_require__(93551),c=__webpack_require__.n(i),d=__webpack_require__(54981),m=__webpack_require__.n(d),i=__webpack_require__(9327),d=__webpack_require__.n(i),i=__webpack_require__(75566),i=__webpack_require__.n(i);const w={audioanalysermodule:t(),audiomodule:n(),authoritysymbolmodule:s(),backgroundmodule:a(),chatmodule:u(),configmodule:l,dancingvirusmodule:f(),debugmodule:p.Z,eventexchangemodule:g(),messageboxmodule:b(),micbuttonmodule:r(),peertopeermodule:o(),pianomodule:v(),qrdisplaymodule:y(),qrreadermodule:e(),startupmodule:c(),statemodule:m(),systemsoundbuttonmodule:d(),visualizationmodule:i()};i=__webpack_require__(11062);__webpack_require__.n(i)().initialize(),__webpack_require__.g.allModules=w,async function(){var t,r,e=function(){var e=[];for(r in w)null!=(t=w[r]).initialize&&e.push(t.initialize());return e}();await Promise.all(e),w.startupmodule.startUp()}()})()})()</script></body></html>